{
  if (sessionConfig == null) {
    sessionConfig=(SessionConfiguration)KnowledgeBaseFactory.newKnowledgeSessionConfiguration();
  }
  if (environment == null) {
    environment=EnvironmentFactory.newEnvironment();
  }
  return newStatefulSession(nextWorkingMemoryCounter(),sessionConfig,environment);
}
