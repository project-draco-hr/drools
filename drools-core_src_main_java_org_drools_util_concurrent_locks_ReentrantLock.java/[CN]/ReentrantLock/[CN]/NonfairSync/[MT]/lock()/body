{
  final Thread caller=Thread.currentThread();
synchronized (this) {
    if (this.owner_ == null) {
      this.owner_=caller;
      this.holds_=1;
      return;
    }
 else     if (caller == this.owner_) {
      incHolds();
      return;
    }
 else {
      boolean wasInterrupted=Thread.interrupted();
      try {
        while (true) {
          try {
            wait();
          }
 catch (          final InterruptedException e) {
            wasInterrupted=true;
          }
          if (this.owner_ == null) {
            this.owner_=caller;
            this.holds_=1;
            return;
          }
        }
      }
  finally {
        if (wasInterrupted) {
          Thread.currentThread().interrupt();
        }
      }
    }
  }
}
