{
  Map<String,Object> context=new HashMap<String,Object>();
  context.put("TestCase",testCase);
  RuleBaseConfiguration conf=new RuleBaseConfiguration();
  ReteooRuleBase rbase=new ReteooRuleBase("ID",conf);
  BuildContext buildContext=new BuildContext(rbase,rbase.getReteooBuilder().getIdGenerator());
  Rule rule=new Rule("rule1","org.pkg1",null);
  org.drools.rule.Package pkg=new org.drools.rule.Package("org.pkg1");
  pkg.getDialectRuntimeRegistry().setDialectData("mvel",new MVELDialectRuntimeData());
  pkg.addRule(rule);
  buildContext.setRule(rule);
  rbase.addPackage(pkg);
  context.put("BuildContext",buildContext);
  context.put("ClassFieldAccessorStore",this.reteTesterHelper.getStore());
  InternalWorkingMemory wm=(InternalWorkingMemory)rbase.newStatefulSession(true);
  context.put("WorkingMemory",wm);
  return context;
}
