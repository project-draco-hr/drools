{
  GuidedDecisionTable52 dt=new GuidedDecisionTable52();
  Pattern52 p1=new Pattern52();
  p1.setBoundName("x");
  p1.setFactType("Context");
  ConditionCol52 c=new ConditionCol52();
  c.setConstraintValueType(BaseSingleFieldConstraint.TYPE_LITERAL);
  p1.getChildColumns().add(c);
  dt.getConditions().add(p1);
  ActionSetFieldCol52 asf=new ActionSetFieldCol52();
  asf.setBoundName("x");
  asf.setFactField("age");
  asf.setType(DataType.TYPE_NUMERIC_INTEGER);
  asf.setUpdate(true);
  dt.getActionCols().add(asf);
  dt.setData(DataUtilities.makeDataLists(new Object[][]{new Object[]{"1","desc","y","old"}}));
  String drl=GuidedDTDRLPersistence.getInstance().marshal(dt);
  assertTrue(drl.indexOf("Context( )") > -1);
  assertTrue(drl.indexOf("modify( x ) {") > drl.indexOf("Context( )"));
  assertTrue(drl.indexOf("setAge(") > drl.indexOf("modify( x ) {"));
  dt.setData(DataUtilities.makeDataLists(new Object[][]{new Object[]{"1","desc",null,"old"}}));
  drl=GuidedDTDRLPersistence.getInstance().marshal(dt);
  assertEquals(-1,drl.indexOf("Context( )"));
  assertTrue(drl.indexOf("modify( x ) {") > -1);
  assertTrue(drl.indexOf("setAge(") > drl.indexOf("modify( x ) {"));
  dt.setData(DataUtilities.makeDataLists(new Object[][]{new Object[]{"1","desc",null,null}}));
  drl=GuidedDTDRLPersistence.getInstance().marshal(dt);
  assertEquals(-1,drl.indexOf("Context( )"));
  assertEquals(-1,drl.indexOf("modify( x ) {"));
  assertEquals(-1,drl.indexOf("setAge("));
}
