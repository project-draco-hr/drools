{
  final XStream stream=new XStream();
  stream.setMode(XStream.ID_REFERENCES);
  final ClassLoader oldLoader=Thread.currentThread().getContextClassLoader();
  final ClassLoader newLoader=this.getClass().getClassLoader();
  try {
    Thread.currentThread().setContextClassLoader(newLoader);
    final IRuleFlowProcess process=(IRuleFlowProcess)stream.fromXML(reader);
    addProcess(process);
  }
 catch (  final Exception t) {
    t.printStackTrace();
    throw t;
  }
 finally {
    Thread.currentThread().setContextClassLoader(oldLoader);
  }
  reader.close();
}
