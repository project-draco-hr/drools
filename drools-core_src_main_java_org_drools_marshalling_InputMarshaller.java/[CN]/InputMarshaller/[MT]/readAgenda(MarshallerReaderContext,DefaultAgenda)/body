{
  ObjectInputStream stream=context.stream;
  while (stream.readInt() == PersisterEnums.AGENDA_GROUP) {
    BinaryHeapQueueAgendaGroup group=new BinaryHeapQueueAgendaGroup(stream.readUTF(),context.ruleBase);
    group.setActive(stream.readBoolean());
    agenda.getAgendaGroupsMap().put(group.getName(),group);
  }
  while (stream.readInt() == PersisterEnums.AGENDA_GROUP) {
    String agendaGroupName=stream.readUTF();
    agenda.getStackList().add(agenda.getAgendaGroup(agendaGroupName));
  }
  while (stream.readInt() == PersisterEnums.RULE_FLOW_GROUP) {
    String rfgName=stream.readUTF();
    boolean active=stream.readBoolean();
    boolean autoDeactivate=stream.readBoolean();
    RuleFlowGroup rfg=new RuleFlowGroupImpl(rfgName,active,autoDeactivate);
    agenda.getRuleFlowGroupsMap().put(rfgName,rfg);
  }
}
