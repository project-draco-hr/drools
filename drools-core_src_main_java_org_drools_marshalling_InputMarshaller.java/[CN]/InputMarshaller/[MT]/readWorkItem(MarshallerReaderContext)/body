{
  ObjectInputStream stream=context.stream;
  WorkItemImpl workItem=new WorkItemImpl();
  workItem.setId(stream.readLong());
  workItem.setProcessInstanceId(stream.readLong());
  workItem.setName(stream.readUTF());
  workItem.setState(stream.readInt());
  int nbParameters=stream.readInt();
  for (int i=0; i < nbParameters; i++) {
    String name=stream.readUTF();
    try {
      Object value=stream.readObject();
      workItem.setParameter(name,value);
    }
 catch (    ClassNotFoundException e) {
      throw new IllegalArgumentException("Could not reload parameter " + name);
    }
  }
  return workItem;
}
