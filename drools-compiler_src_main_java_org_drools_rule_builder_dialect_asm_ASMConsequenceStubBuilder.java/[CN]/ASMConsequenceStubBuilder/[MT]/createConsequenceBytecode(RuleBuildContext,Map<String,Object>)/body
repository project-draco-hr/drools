{
  final String packageName=(String)consequenceContext.get("package");
  final String invokerClassName=(String)consequenceContext.get("invokerClassName");
  final Set<String> imports=ruleContext.getPkg().getImports().keySet();
  final ClassGenerator generator=new ClassGenerator(packageName + "." + invokerClassName,ruleContext.getPackageBuilder().getRootClassLoader(),ruleContext.getDialect("java").getPackageRegistry().getTypeResolver());
  generateConsequence(generator,consequenceContext,imports);
  return generator.generateBytecode();
}
