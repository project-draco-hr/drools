{
  try {
    List<ResourceDescr> resourcesByType=resources.remove(ResourceType.DSL);
    if (resourcesByType != null) {
      for (      ResourceDescr resourceDescr : resourcesByType) {
        pkgBuilder.addDsl(resourceDescr.resource);
      }
    }
    resourcesByType=resources.remove(ResourceType.DRF);
    if (resourcesByType != null) {
      for (      ResourceDescr resourceDescr : resourcesByType) {
        pkgBuilder.addProcessFromXml(resourceDescr.resource);
      }
    }
    resourcesByType=resources.remove(ResourceType.BPMN2);
    if (resourcesByType != null) {
      for (      ResourceDescr resourceDescr : resourcesByType) {
        BPMN2ProcessFactory.configurePackageBuilder(pkgBuilder);
        pkgBuilder.addProcessFromXml(resourceDescr.resource);
      }
    }
    resourcesByType=resources.remove(ResourceType.PKG);
    if (resourcesByType != null) {
      for (      ResourceDescr resourceDescr : resourcesByType) {
        pkgBuilder.addPackageFromInputStream(resourceDescr.resource);
      }
    }
    resourcesByType=resources.remove(ResourceType.CHANGE_SET);
    if (resourcesByType != null) {
      for (      ResourceDescr resourceDescr : resourcesByType) {
        pkgBuilder.addPackageFromChangeSet(resourceDescr.resource);
      }
    }
    resourcesByType=resources.remove(ResourceType.XSD);
    if (resourcesByType != null) {
      for (      ResourceDescr resourceDescr : resourcesByType) {
        pkgBuilder.addPackageFromXSD(resourceDescr.resource,(JaxbConfigurationImpl)resourceDescr.configuration);
      }
    }
    resourcesByType=resources.remove(ResourceType.PMML);
    if (resourcesByType != null) {
      for (      ResourceDescr resourceDescr : resourcesByType) {
        pkgBuilder.addPackageFromPMML(resourceDescr.resource,ResourceType.PMML,resourceDescr.configuration);
      }
    }
  }
 catch (  RuntimeException e) {
    throw e;
  }
catch (  Exception e) {
    throw new RuntimeException(e);
  }
}
