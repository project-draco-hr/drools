{
  final FactHandle handle=assertObject(new DroolsQuery(query));
  final QueryTerminalNode node=(QueryTerminalNode)this.queryResults.remove(query);
  if (node == null) {
    retractObject(handle);
    return null;
  }
  final List list=(List)this.nodeMemories.remove(node.getId());
  retractObject(handle);
  if (list == null) {
    return null;
  }
  return new QueryResults(list,(Query)node.getRule(),this);
}
