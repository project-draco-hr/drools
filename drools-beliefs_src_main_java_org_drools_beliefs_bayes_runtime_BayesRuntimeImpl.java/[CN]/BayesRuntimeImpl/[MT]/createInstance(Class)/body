{
  BayesInstance instance=instances.get(cls.getName());
  if (instance != null) {
    return instance;
  }
  InternalKnowledgePackage kpkg=(InternalKnowledgePackage)runtime.getKieBase().getKiePackage(cls.getPackage().getName());
  Map<ResourceType,ResourceTypePackage> map=kpkg.getResourceTypePackages();
  BayesPackage bayesPkg=(BayesPackage)map.get(ResourceType.BAYES);
  JunctionTree jtree=bayesPkg.getJunctionTree(cls.getSimpleName());
  instance=new BayesInstance(jtree,cls);
  instances.put(cls.getName(),instance);
  return instance;
}
