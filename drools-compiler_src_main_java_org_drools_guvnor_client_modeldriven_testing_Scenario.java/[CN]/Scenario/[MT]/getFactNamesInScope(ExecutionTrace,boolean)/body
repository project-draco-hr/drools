{
  if (ex == null)   return new ArrayList();
  List l=new ArrayList();
  int p=this.fixtures.indexOf(ex);
  for (int i=0; i < p; i++) {
    Fixture f=(Fixture)fixtures.get(i);
    if (f instanceof FactData) {
      FactData fd=(FactData)f;
      l.add(fd.name);
    }
 else     if (f instanceof RetractFact) {
      RetractFact rf=(RetractFact)f;
      l.remove(rf.name);
    }
  }
  if (includeGlobals) {
    for (Iterator iterator=globals.iterator(); iterator.hasNext(); ) {
      FactData f=(FactData)iterator.next();
      l.add(f.name);
    }
  }
  return l;
}
