{
  ModuleImpl module=null;
  boolean iterate=true;
  while (iterate) {
    module=(ModuleImpl)this.focusStack.getLast();
    if (module.getActivationQueue().isEmpty() && !module.getName().equals(Module.MAIN)) {
      this.focusStack.removeLast();
    }
 else {
      iterate=false;
    }
  }
  return module;
}
