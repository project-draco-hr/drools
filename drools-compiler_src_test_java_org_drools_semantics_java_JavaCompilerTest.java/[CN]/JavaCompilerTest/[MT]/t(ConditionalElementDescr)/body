{
  DroolsCompiler compiler=new DroolsCompiler();
  PackageDescr packageDescr=new PackageDescr("p1");
  RuleDescr ruleDescr=new RuleDescr("rule-1");
  packageDescr.addRule(ruleDescr);
  AndDescr lhs=new AndDescr();
  ruleDescr.setLhs(lhs);
  lhs.addDescr((PatternDescr)ceDescr);
  ColumnDescr columnDescr=new ColumnDescr(Cheese.class.getName(),"stilton");
  LiteralDescr literalDescr=new LiteralDescr("type","==","stilton");
  columnDescr.addDescr(literalDescr);
  ceDescr.addDescr(columnDescr);
  ruleDescr.setConsequence("drools.modifyObject(stilton);");
  compiler.addPackage(packageDescr);
  assertLength(0,compiler.getErrors().values());
  Package pkg=(Package)compiler.getPackages().get("p1");
  Rule rule=pkg.getRule("rule-1");
  return rule;
}
