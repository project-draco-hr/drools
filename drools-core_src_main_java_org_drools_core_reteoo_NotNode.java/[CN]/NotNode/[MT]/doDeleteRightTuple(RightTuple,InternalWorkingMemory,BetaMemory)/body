{
  RightTupleSets stagedRightTuples=memory.getStagedRightTuples();
  boolean stagedDeleteWasEmpty=false;
  if (streamMode) {
    PropagationContext pctx=rightTuple.getPropagationContext();
    stagedDeleteWasEmpty=memory.getSegmentMemory().getStreamQueue().addDelete(new RightTupleEntry(rightTuple,pctx,memory,pctx.getType()));
    registerUnlinkedPaths(wm,memory.getSegmentMemory(),stagedDeleteWasEmpty);
  }
 else {
    stagedDeleteWasEmpty=stagedRightTuples.addDelete(rightTuple);
  }
  if (memory.getAndDecCounter() == 1 && isEmptyBetaConstraints()) {
    memory.linkNode(wm);
  }
 else   if (stagedDeleteWasEmpty) {
    memory.setNodeDirty(wm);
  }
}
