{
  final ObjectType list1ObjectType=new ClassObjectType(List.class);
  final ObjectType list2ObjectType=new ClassObjectType(List.class);
  final Rule rule=new Rule("rule-1");
  final Column list1Column=new Column(0,list1ObjectType,"list1");
  final Column list2Column=new Column(1,list2ObjectType,"list2");
  rule.addPattern(list1Column);
  rule.addPattern(list2Column);
  final Declaration list1Declaration=rule.getDeclaration("list1");
  final Declaration list2Declaration=rule.getDeclaration("list2");
  final List values=new ArrayList();
  rule.setConsequence(new Consequence(){
    /** 
 */
    private static final long serialVersionUID=-958666414598812063L;
    public void evaluate(    final KnowledgeHelper knowledgeHelper,    final WorkingMemory workingMemory) throws Exception {
      final List list1=(List)knowledgeHelper.get(list1Declaration);
      final List list2=(List)knowledgeHelper.get(list2Declaration);
      values.add(new List[]{list1,list2});
    }
  }
);
  final Package pkg=new Package("org.drools");
  pkg.addRule(rule);
  final RuleBase ruleBase=RuleBaseFactory.newRuleBase(RuleBase.LEAPS);
  ruleBase.addPackage(pkg);
  final WorkingMemory workingMemory=ruleBase.newWorkingMemory();
  workingMemory.assertObject(new ArrayList());
  workingMemory.assertObject(new ArrayList());
  workingMemory.assertObject(new LinkedList());
  workingMemory.assertObject(new LinkedList());
  workingMemory.fireAllRules();
  assertEquals(12,values.size());
}
