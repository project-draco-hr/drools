{
  String rule1="import org.kie.integrationtests.MiscTest.*\n" + "import java.util.Date\n" + "rule \"RTR - 28717 retract\"\n"+ "when\n"+ "        $listMembership0 : SimpleMembership( $listMembershipPatientSpaceIdRoot : patientSpaceId,\n"+ "        ( listId != null && listId == \"28717\" ) ) and not ($patient0 : SimplePatient( $patientSpaceIdRoot : spaceId, spaceId != null &&\n"+ "        spaceId == $listMembershipPatientSpaceIdRoot ) and\n"+ "        (($ruleTime0 : RuleTime( $ruleTimeStartOfDay4_1 : startOfDay, $ruleTimeTime4_1 : time ) and $patient1 :\n"+ "        SimplePatient( spaceId != null && spaceId == $patientSpaceIdRoot, birthDate != null && (birthDate after[0s,1d] $ruleTimeStartOfDay4_1) ) ) ) )\n"+ "then\n"+ "end";
  String rule2="import org.kie.integrationtests.MiscTest.*\n" + "import java.util.Date\n" + "rule \"RTR - 28717 retract\"\n"+ "when  $listMembership0 : SimpleMembership( $listMembershipPatientSpaceIdRoot : patientSpaceId, ( listId != null && listId == \"28717\" ) )\n"+ "    and not ($patient0 : SimplePatient( $patientSpaceIdRoot : spaceId, spaceId != null && spaceId == $listMembershipPatientSpaceIdRoot )\n"+ "    and ( ($ruleTime0 : RuleTime( $ruleTimeStartOfDay4_1 : startOfDay, $ruleTimeTime4_1 : time )\n"+ "    and $patient1 : SimplePatient( spaceId != null && spaceId == $patientSpaceIdRoot, birthDate != null && (birthDate not after[0s,1d] $ruleTimeStartOfDay4_1) ) ) ) )\n"+ "then\n"+ "end";
  KnowledgeBuilder kbuilder=KnowledgeBuilderFactory.newKnowledgeBuilder();
  kbuilder.add(ResourceFactory.newByteArrayResource(rule1.getBytes()),ResourceType.DRL);
  KnowledgeBase kbase=KnowledgeBaseFactory.newKnowledgeBase();
  StatefulKnowledgeSession knowledgeSession=kbase.newStatefulKnowledgeSession();
  Collection<KnowledgePackage> knowledgePackages=kbuilder.getKnowledgePackages();
  kbase.addKnowledgePackages(knowledgePackages);
  for (  KnowledgePackage kPackage : knowledgePackages) {
    kbase.removeKnowledgePackage(kPackage.getName());
  }
  kbuilder=KnowledgeBuilderFactory.newKnowledgeBuilder();
  kbuilder.add(ResourceFactory.newByteArrayResource(rule2.getBytes()),ResourceType.DRL);
  kbase.addKnowledgePackages(kbuilder.getKnowledgePackages());
}
