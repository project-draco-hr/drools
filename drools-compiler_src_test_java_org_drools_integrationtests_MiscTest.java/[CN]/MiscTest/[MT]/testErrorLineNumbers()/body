{
  final PackageBuilder builder=new PackageBuilder();
  builder.addPackageFromDrl(new InputStreamReader(getClass().getResourceAsStream("errors_in_rule.drl")));
  final Package pkg=builder.getPackage();
  final DroolsError err=builder.getErrors().getErrors()[0];
  final DescrBuildError ruleErr=(DescrBuildError)err;
  assertNotNull(ruleErr.getDescr());
  assertTrue(ruleErr.getLine() != -1);
  final DroolsError errs[]=builder.getErrors().getErrors();
  assertEquals(3,builder.getErrors().getErrors().length);
  assertEquals(ruleErr.getLine(),ruleErr.getDescr().getLine());
  assertEquals(11,ruleErr.getLine());
  final DescrBuildError rhs=(DescrBuildError)builder.getErrors().getErrors()[2];
  assertTrue(rhs.getLine() > 7);
}
