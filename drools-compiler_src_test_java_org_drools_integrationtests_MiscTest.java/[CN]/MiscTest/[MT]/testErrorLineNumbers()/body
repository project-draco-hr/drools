{
  final PackageBuilder builder=new PackageBuilder();
  builder.addPackageFromDrl(new InputStreamReader(getClass().getResourceAsStream("errors_in_rule.drl")));
  final Package pkg=builder.getPackage();
  DroolsError[] errors=builder.getErrors().getErrors();
  assertEquals(4,errors.length);
  final DescrBuildError ruleErr=(DescrBuildError)errors[0];
  assertNotNull(ruleErr.getDescr());
  assertTrue(ruleErr.getLine() != -1);
  assertEquals(ruleErr.getLine(),ruleErr.getDescr().getLine());
  assertEquals(11,ruleErr.getLine());
  final DescrBuildError rhs=(DescrBuildError)errors[3];
  assertTrue(rhs.getLine() > 7);
}
