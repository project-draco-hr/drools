{
  try {
    final PackageBuilder builder=new PackageBuilder();
    builder.addPackageFromDrl(new InputStreamReader(getClass().getResourceAsStream("test_RuleNameClashes1.drl")));
    builder.addPackageFromDrl(new InputStreamReader(getClass().getResourceAsStream("test_RuleNameClashes2.drl")));
    assertEquals(2,builder.getPackages().length);
    Package pkg1=builder.getPackageRegistry("org.drools.package1").getPackage();
    assertEquals("rule 1",pkg1.getRules()[0].getName());
    Package pkg2=builder.getPackageRegistry("org.drools.package2").getPackage();
    assertEquals("rule 1",pkg2.getRules()[0].getName());
  }
 catch (  PackageMergeException e) {
    fail("unexpected exception: " + e.getMessage());
  }
catch (  RuntimeException e) {
    e.printStackTrace();
    fail("unexpected exception: " + e.getMessage());
  }
}
