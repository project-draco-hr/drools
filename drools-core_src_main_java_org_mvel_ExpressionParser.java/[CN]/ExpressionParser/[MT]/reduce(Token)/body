{
  if ((tok.getFlags() & Token.NEGATION) != 0) {
    return !((Boolean)reduceParse(tok.getValueAsString(),ctx,variableFactory));
  }
 else   if ((tok.getFlags() & Token.INVERT) != 0) {
    Object o=reduceParse(tok.getValueAsString(),ctx,variableFactory);
    if (o instanceof Integer)     return ~((Integer)o);
 else     return ~((BigDecimal)o).intValue();
  }
 else   if (!compileMode && ((tok.getFlags() | fields) & Token.SUBEVAL) != 0) {
    setFieldFalse(Token.SUBEVAL);
    return reduceParse(tok.getValueAsString(),ctx,variableFactory);
  }
 else   return tok.getValue();
}
