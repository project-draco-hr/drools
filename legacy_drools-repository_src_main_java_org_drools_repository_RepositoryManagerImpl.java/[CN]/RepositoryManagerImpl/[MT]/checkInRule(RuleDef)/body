{
  String userId=getUserId();
  if (!userId.equals(rule.getCheckedOutBy())) {
    throw new RepositoryException("Unable to check in the rule, as it is currently checked out by " + rule.getCheckedOutBy());
  }
  rule.setCheckedOut(false);
  rule.setCheckedOutBy(null);
  session.update(rule);
}
