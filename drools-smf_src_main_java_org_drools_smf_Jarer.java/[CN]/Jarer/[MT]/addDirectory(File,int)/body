{
  if (dir.exists() == true) {
    if (dir.isDirectory() == true) {
      File[] fileList=dir.listFiles();
      for (int i=0; i < fileList.length; i++) {
        if (fileList[i].isDirectory()) {
          addDirectory(fileList[i],baseFolderPos);
        }
 else         if (fileList[i].isFile()) {
          addFile(fileList[i],baseFolderPos);
        }
      }
    }
 else {
      throw new IOException(dir.getAbsolutePath() + " is not a directory.");
    }
  }
 else {
    throw new IOException(dir.getAbsolutePath() + " does not exist.");
  }
}
