{
  if (connector == null) {
    NioSocketConnector htclientConnector=new NioSocketConnector();
    htclientConnector.setHandler(new MinaIoHandler(SystemEventListenerFactory.getSystemEventListener()));
    connector=new MinaConnector("client ht",htclientConnector,this.address,SystemEventListenerFactory.getSystemEventListener());
    boolean connected=connector.connect();
    if (!connected)     throw new IllegalArgumentException("Could not connect task client");
    int id=((StatefulKnowledgeSession)session).getId();
    client=new HumanTaskServiceImpl(connector,new AtomicInteger(),String.valueOf(id),id);
  }
}
