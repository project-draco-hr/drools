{
  int fileCount=0;
  String prefixPath=kieBaseModel.getName().replace('.','/');
  for (  String fileName : kieJar.getFileNames()) {
    if (fileName.startsWith(prefixPath)) {
      String upperCharName=fileName.toUpperCase();
      if (upperCharName.endsWith("DRL")) {
        ckbuilder.add(ResourceFactory.newByteArrayResource(kieJar.getBytes(fileName)),ResourceType.DRL);
        fileCount++;
      }
 else       if (upperCharName.endsWith("BPMN2")) {
        ckbuilder.add(ResourceFactory.newByteArrayResource(kieJar.getBytes(fileName)),ResourceType.DRL);
        fileCount++;
      }
    }
  }
  if (fileCount == 0) {
    log.warn("No files found for KieBase " + kieBaseModel.getName() + ", searching folder "+ kieJar.getFile());
  }
}
