{
  try {
    ClassFieldInspector ext=new ClassFieldInspector(SubPerson.class);
    Map map=ext.getFieldNames();
    String[] fields=new String[map.size()];
    for (Iterator i=map.entrySet().iterator(); i.hasNext(); ) {
      Map.Entry entry=(Map.Entry)i.next();
      String fieldName=(String)entry.getKey();
      int fieldIndex=((Integer)entry.getValue()).intValue();
      if (fields[fieldIndex] == null) {
        fields[fieldIndex]=fieldName;
      }
 else {
        Assert.fail("Duplicate index found for 2 fields: index[" + fieldIndex + "] = ["+ fields[fieldIndex]+ "] and ["+ fieldName+ "]");
      }
    }
  }
 catch (  IOException e) {
    e.printStackTrace();
    Assert.fail("Unexpected exception thrown");
  }
}
