{
  CommandLineParser parser=new PosixParser();
  Options options=createOptions();
  try {
    CommandLine line=parser.parse(options,args,true);
    if (line.hasOption("f")) {
      String fileMask=line.getOptionValue("f");
      String sufix=".updated";
      String dir=".";
      if (line.hasOption("s")) {
        sufix=line.getOptionValue("s");
      }
      if (line.hasOption("d")) {
        dir=line.getOptionValue("d");
      }
      printHeader(dir,fileMask,sufix);
      processFiles(dir,fileMask,sufix);
    }
 else {
      printHelp(options);
    }
  }
 catch (  ParseException exp) {
    System.err.println("Error parsing command line arguments: " + exp.getMessage());
    printHelp(options);
  }
}
