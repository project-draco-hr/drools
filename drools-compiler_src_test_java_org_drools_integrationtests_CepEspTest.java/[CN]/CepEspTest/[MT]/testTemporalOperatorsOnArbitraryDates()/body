{
  final Reader reader=new InputStreamReader(getClass().getResourceAsStream("test_CEP_TemporalOperatorsDates.drl"));
  final RuleBaseConfiguration rbconf=new RuleBaseConfiguration();
  final RuleBase ruleBase=loadRuleBase(reader,rbconf);
  SessionConfiguration conf=new SessionConfiguration();
  conf.setClockType(ClockType.PSEUDO_CLOCK);
  StatefulSession wm=ruleBase.newStatefulSession(conf);
  final List<?> results=new ArrayList<Object>();
  wm.setGlobal("results",results);
  StockTick tick1=new StockTick(1,"DROO",50,100000,3);
  StockTick tick2=new StockTick(2,"ACME",10,104000,3);
  InternalFactHandle handle1=(InternalFactHandle)wm.insert(tick1);
  InternalFactHandle handle2=(InternalFactHandle)wm.insert(tick2);
  assertNotNull(handle1);
  assertNotNull(handle2);
  assertFalse(handle1.isEvent());
  assertFalse(handle2.isEvent());
  wm.fireAllRules();
  assertEquals(1,results.size());
  assertEquals(tick2,results.get(0));
}
