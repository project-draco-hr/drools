{
  DrlParser parser=new DrlParser();
  PackageDescr pkgOriginal=parser.parse(new InputStreamReader(getClass().getResourceAsStream("test_Dump.drl")));
  DrlDumper dumper=new DrlDumper();
  String result=dumper.dump(pkgOriginal);
  assertNotNull(result);
  parser=new DrlParser();
  PackageDescr pkgDumped=parser.parse(new StringReader(result));
  assertEquals(pkgOriginal.getName(),pkgDumped.getName());
  assertEquals(pkgOriginal.getFunctions().size(),pkgDumped.getFunctions().size());
  assertEquals(pkgOriginal.getRules().size(),pkgDumped.getRules().size());
  assertEquals(pkgOriginal.getGlobals().size(),pkgDumped.getGlobals().size());
  RuleDescr ruleOriginal=(RuleDescr)pkgOriginal.getRules().get(0);
  RuleDescr ruleDumped=(RuleDescr)pkgDumped.getRules().get(0);
  assertEquals(ruleOriginal.getName(),ruleDumped.getName());
  assertEquals(ruleOriginal.getLhs().getDescrs().size(),ruleDumped.getLhs().getDescrs().size());
  assertEquals(ruleOriginal.getConsequence(),ruleDumped.getConsequence());
}
