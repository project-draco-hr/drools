{
  final Process process=((InternalRuleBase)getRuleBase()).getProcess(processId);
  if (process == null) {
    throw new IllegalArgumentException("Unknown process ID: " + processId);
  }
  if (process instanceof RuleFlowProcess) {
    final RuleFlowProcessInstance processInstance=new RuleFlowProcessInstanceImpl();
    processInstance.setWorkingMemory(this);
    processInstance.setProcess(process);
    processInstance.setId(++processCounter);
    processInstances.put(new Long(processInstance.getId()),processInstance);
    getRuleFlowEventSupport().fireBeforeRuleFlowProcessStarted(processInstance,this);
    processInstance.start();
    getRuleFlowEventSupport().fireAfterRuleFlowProcessStarted(processInstance,this);
    return processInstance;
  }
 else {
    throw new IllegalArgumentException("Unknown process type: " + process.getClass());
  }
}
