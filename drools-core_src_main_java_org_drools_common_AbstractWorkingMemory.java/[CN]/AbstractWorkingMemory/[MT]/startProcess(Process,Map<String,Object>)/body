{
  ProcessInstanceFactoryRegistry processRegistry=((InternalRuleBase)getRuleBase()).getConfiguration().getProcessInstanceFactoryRegistry();
  ProcessInstanceFactory conf=processRegistry.getProcessInstanceFactory(process);
  if (conf == null) {
    throw new IllegalArgumentException("Illegal process type: " + process.getClass());
  }
  return conf.createProcessInstance(process,this,parameters);
}
