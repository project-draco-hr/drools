{
  if (isSequential()) {
    for (Iterator it=this.liaPropagations.iterator(); it.hasNext(); ) {
      ((LIANodePropagation)it.next()).doPropagation(this);
    }
  }
  executeQueuedActions();
  try {
    if (this.firing.compareAndSet(false,true)) {
      this.agenda.fireAllRules(agendaFilter,fireLimit);
    }
  }
  finally {
    this.firing.set(false);
  }
}
