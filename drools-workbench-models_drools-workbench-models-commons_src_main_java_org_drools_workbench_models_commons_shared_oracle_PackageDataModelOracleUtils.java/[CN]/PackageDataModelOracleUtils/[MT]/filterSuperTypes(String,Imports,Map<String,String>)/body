{
  final Map<String,String> scopedSuperTypes=new HashMap<String,String>();
  for (  Map.Entry<String,String> e : projectSuperTypes.entrySet()) {
    final String typeQualifiedType=e.getKey();
    final String typePackageName=getPackageName(typeQualifiedType);
    final String typeTypeName=getTypeName(typeQualifiedType);
    final String superTypeQualifiedType=e.getValue();
    if (superTypeQualifiedType == null) {
      if (typePackageName.equals(packageName) || isImported(typeQualifiedType,imports)) {
        scopedSuperTypes.put(typeTypeName,superTypeQualifiedType);
      }
    }
 else {
      if (typePackageName.equals(packageName) || isImported(typeQualifiedType,imports)) {
        final String superTypePackageName=getPackageName(superTypeQualifiedType);
        final String superTypeTypeName=getTypeName(superTypeQualifiedType);
        if (superTypePackageName.equals(packageName) || isImported(superTypeQualifiedType,imports)) {
          scopedSuperTypes.put(typeTypeName,superTypeTypeName);
        }
 else {
          scopedSuperTypes.put(typeTypeName,superTypeQualifiedType);
        }
      }
    }
  }
  return scopedSuperTypes;
}
