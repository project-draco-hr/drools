{
  final Reader reader=new InputStreamReader(getClass().getResourceAsStream(TEST_RULE_FILE));
  final RuleBase ruleBase=loadRuleBase(reader);
  final WorkingMemory wm=ruleBase.newStatefulSession();
  final SimpleEventGenerator myGenerator;
  myGenerator=new SimpleEventGenerator(wm,new SimpleEventListener(wm));
  myGenerator.addEventSource("Conveyor1",new Event(EventType.CUSTOM,"resA"),PseudoSessionClock.timeInSeconds(4),PseudoSessionClock.timeInSeconds(6),0,15);
  myGenerator.addEventSource("Conveyor2",new Event(EventType.CUSTOM,"resB"),PseudoSessionClock.timeInSeconds(3),PseudoSessionClock.timeInSeconds(5),0,20);
  myGenerator.generate();
  assertEquals(wm.getQueryResults("all inserted events with parent resource A").size(),15);
  assertEquals(wm.getQueryResults("all inserted events with parent resource B").size(),20);
}
