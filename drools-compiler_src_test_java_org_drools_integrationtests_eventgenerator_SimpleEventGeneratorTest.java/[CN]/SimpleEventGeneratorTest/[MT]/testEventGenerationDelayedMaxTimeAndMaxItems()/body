{
  final Reader reader=new InputStreamReader(getClass().getResourceAsStream(TEST_RULE_FILE));
  final RuleBase ruleBase=loadRuleBase(reader);
  final WorkingMemory wm=ruleBase.newStatefulSession();
  final SimpleEventGenerator myGenerator;
  myGenerator=new SimpleEventGenerator(wm,new SimpleEventListener(wm));
  myGenerator.addDelayedEventSource("Conveyor1",new Event(EventType.CUSTOM,null),PseudoSessionClock.timeInSeconds(4),PseudoSessionClock.timeInSeconds(6),PseudoSessionClock.timeInMinutes(2),PseudoSessionClock.timeInMinutes(1),10);
  myGenerator.generate();
  assertEquals(wm.getQueryResults("all inserted events").size(),wm.getQueryResults("all inserted events with 2 min < generation time < 3 min").size());
  assertTrue(wm.getQueryResults("all inserted events with 2 min < generation time < 3 min").size() <= 10);
}
