{
  this.pointer=0;
  this.sequence=0;
  this.data=HEADER;
  final ByteArrayOutputStream byteOut=new ByteArrayOutputStream();
  final DataOutputStream dout=new DataOutputStream(byteOut);
  try {
    dout.writeByte(ObjectStreamConstants.TC_OBJECT);
    dout.writeByte(ObjectStreamConstants.TC_CLASSDESC);
    dout.writeUTF(clazz.getName());
    dout.writeLong(ObjectStreamClass.lookup(clazz).getSerialVersionUID());
    dout.writeByte(ObjectStreamConstants.SC_SERIALIZABLE);
    dout.writeShort((short)0);
    dout.writeByte(ObjectStreamConstants.TC_ENDBLOCKDATA);
    dout.writeByte(ObjectStreamConstants.TC_NULL);
  }
 catch (  final IOException e) {
    throw new Error("IOException: " + e.getMessage());
  }
  this.FIRST_DATA=byteOut.toByteArray();
  this.buffers=new byte[][]{HEADER,this.FIRST_DATA,REPEATING_DATA};
}
