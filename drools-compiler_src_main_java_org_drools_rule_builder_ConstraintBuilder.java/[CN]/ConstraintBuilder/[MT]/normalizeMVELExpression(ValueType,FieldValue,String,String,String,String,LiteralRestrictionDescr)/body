{
  if (vtype == ValueType.DATE_TYPE) {
    Date date=(Date)field.getValue();
    return leftValue + " " + operator+ (date != null ? " new java.util.Date(" + date.getTime() + ")" : " null");
  }
  if (operator.equals("str")) {
    String method=restrictionDescr.getParameterText();
    if (method.equals("length")) {
      return leftValue + ".length()" + (restrictionDescr.isNegated() ? " != " : " == ")+ rightValue;
    }
    return (restrictionDescr.isNegated() ? "!" : "") + leftValue + "."+ method+ "("+ rightValue+ ")";
  }
  if (operator.equals("soundslike")) {
    return "if (" + leftValue + " == null || "+ rightValue+ " == null) return false;\n"+ "String soundex1 = soundex("+ leftValue+ ");\n"+ "if (soundex1 == null) return false;\n"+ "return soundex1.equals(soundex("+ rightValue+ "));";
  }
  return expr;
}
