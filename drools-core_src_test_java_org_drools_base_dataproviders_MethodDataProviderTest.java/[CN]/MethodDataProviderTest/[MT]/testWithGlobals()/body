{
  globals.put("foo",TestVariable.class);
  Package pkg=new Package("nothing");
  pkg.addGlobal("foo",TestVariable.class);
  RuleBase rb=RuleBaseFactory.newRuleBase();
  rb.addPackage(pkg);
  WorkingMemory wm=rb.newWorkingMemory();
  wm.setGlobal("foo",new TestVariable());
  MethodDataProvider prov=new MethodDataProvider("foo","otherMethod",new ArrayList(),declarations,globals);
  Iterator it=prov.getResults(null,wm,null);
  assertTrue(it.hasNext());
  assertEquals("boo",it.next());
}
