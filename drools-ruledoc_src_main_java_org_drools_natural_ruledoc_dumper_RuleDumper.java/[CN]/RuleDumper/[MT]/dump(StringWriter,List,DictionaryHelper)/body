{
  VelocityContext ctx=new VelocityContext();
  ctx.put("functions",dicHelper.getFunctions());
  ctx.put("rule-list",ruleFragments);
  ctx.put("application-data",dicHelper.getApplicationData());
  ctx.put("ruleset-name",dicHelper.getRulesetName());
  ctx.put("imports",dicHelper.getImports());
  try {
    template.merge(ctx,writer);
  }
 catch (  Exception e) {
    throw new NaturalLanguageException("Error merging into output template.",e);
  }
}
