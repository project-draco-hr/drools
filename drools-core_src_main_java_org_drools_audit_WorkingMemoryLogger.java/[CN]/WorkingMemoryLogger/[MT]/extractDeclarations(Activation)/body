{
  StringBuffer result=new StringBuffer();
  Tuple tuple=activation.getTuple();
  Declaration[] declarations=activation.getRule().getDeclarations();
  for (int i=0, length=declarations.length; i < length; i++) {
    Declaration declaration=declarations[i];
    FactHandle handle=tuple.get(declaration);
    if (handle instanceof InternalFactHandle) {
      InternalFactHandle handleImpl=(InternalFactHandle)handle;
      Object value=workingMemory.getObject(handle);
      result.append(declaration.getIdentifier());
      result.append("=");
      if (value == null) {
        result.append("null");
      }
 else {
        result.append(value);
        result.append("(");
        result.append(handleImpl.getId());
        result.append(")");
      }
    }
    if (i < declarations.length - 1) {
      result.append("; ");
    }
  }
  return result.toString();
}
