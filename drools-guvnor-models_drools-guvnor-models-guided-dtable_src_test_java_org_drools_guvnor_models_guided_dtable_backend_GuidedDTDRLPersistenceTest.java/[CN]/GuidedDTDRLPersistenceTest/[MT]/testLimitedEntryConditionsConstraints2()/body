{
  GuidedDecisionTable52 dt=new GuidedDecisionTable52();
  dt.setTableFormat(GuidedDecisionTable52.TableFormat.LIMITED_ENTRY);
  dt.setTableName("limited-entry");
  Pattern52 p1=new Pattern52();
  p1.setBoundName("p1");
  p1.setFactType("Smurf");
  dt.getConditions().add(p1);
  LimitedEntryConditionCol52 cc1=new LimitedEntryConditionCol52();
  cc1.setConstraintValueType(BaseSingleFieldConstraint.TYPE_LITERAL);
  cc1.setFieldType(DataType.TYPE_STRING);
  cc1.setFactField("name");
  cc1.setOperator("==");
  cc1.setValue(new DTCellValue52("Pupa"));
  p1.getChildColumns().add(cc1);
  LimitedEntryConditionCol52 cc2=new LimitedEntryConditionCol52();
  cc2.setConstraintValueType(BaseSingleFieldConstraint.TYPE_LITERAL);
  cc2.setFieldType(DataType.TYPE_STRING);
  cc2.setFactField("name");
  cc2.setOperator("==");
  cc2.setValue(new DTCellValue52("Smurfette"));
  p1.getChildColumns().add(cc2);
  LimitedEntryConditionCol52 cc3=new LimitedEntryConditionCol52();
  cc3.setConstraintValueType(BaseSingleFieldConstraint.TYPE_LITERAL);
  cc3.setFieldType(DataType.TYPE_STRING);
  cc3.setFactField("colour");
  cc3.setOperator("==");
  cc3.setValue(new DTCellValue52("Blue"));
  p1.getChildColumns().add(cc3);
  dt.setData(DataUtilities.makeDataLists(new Object[][]{new Object[]{1l,"desc",true,false,true},new Object[]{2l,"desc",false,true,true},new Object[]{3l,"desc",false,false,true}}));
  GuidedDTDRLPersistence p=GuidedDTDRLPersistence.getInstance();
  String drl=p.marshal(dt);
  int index=-1;
  index=drl.indexOf("Smurf( name == \"Pupa\" , colour == \"Blue\" )");
  assertTrue(index > -1);
  index=drl.indexOf("Smurf( name == \"Smurfette\" , colour == \"Blue\" )",index + 1);
  assertTrue(index > -1);
  index=drl.indexOf("Smurf( colour == \"Blue\" )",index + 1);
  assertTrue(index > -1);
}
