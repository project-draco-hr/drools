{
  KieBase kBase=kBases.get(kBaseName);
  if (kBase == null) {
    ResultsImpl msgs=new ResultsImpl();
    kBase=AbstractKieModule.createKieBase((KieBaseModelImpl)kProject.getKieBaseModel(kBaseName),kProject,msgs);
    if (kBase == null) {
      throw new RuntimeException("Error while creating KieBase" + msgs.filterMessages(Level.ERROR));
    }
    if (kBase != null) {
      kBases.put(kBaseName,kBase);
    }
  }
  return kBase;
}
