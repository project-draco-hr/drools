{
  for (  String rule : rules) {
    String file="org/test/" + rule + ".drl";
    fileManager.write(fileManager.newFile("src/kbases/KBase1/" + file),createDRL(rule));
  }
  KieProject kproj=new KieProjectImpl();
  KieBaseModel kieBaseModel1=kproj.newKieBaseModel("KBase1").setEqualsBehavior(AssertBehaviorOption.EQUALITY).setEventProcessingMode(EventProcessingOption.STREAM);
  KieSessionModel ksession1=kieBaseModel1.newKieSessionModel("KSession1").setType("stateful").setClockType(ClockTypeOption.get("realtime"));
  fileManager.write(fileManager.newFile(KnowledgeContainerImpl.KPROJECT_RELATIVE_PATH),kproj.toXML());
  return kContainer.buildKJar(fileManager.getRootDirectory(),fileManager.getRootDirectory(),kjarName);
}
