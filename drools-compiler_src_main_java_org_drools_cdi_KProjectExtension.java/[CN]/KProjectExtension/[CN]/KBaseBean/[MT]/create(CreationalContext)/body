{
  KnowledgeBuilder kbuilder=KnowledgeBuilderFactory.newKnowledgeBuilder();
  CompositeKnowledgeBuilder ckbuilder=kbuilder.batch();
  Set<String> includes=kieBaseDescrModel.getIncludes();
  if (includes != null && !includes.isEmpty()) {
    for (    String include : includes) {
      KBaseBean includeBean=kBaseBeans.get(include);
      addFiles(ckbuilder,includeBean.getKieBaseDescrModel(),includeBean.getUrlPath());
    }
  }
  addFiles(ckbuilder,kieBaseDescrModel,urlPath);
  ckbuilder.build();
  this.kBase=KnowledgeBaseFactory.newKnowledgeBase();
  this.kBase.addKnowledgePackages(kbuilder.getKnowledgePackages());
  return this.kBase;
}
