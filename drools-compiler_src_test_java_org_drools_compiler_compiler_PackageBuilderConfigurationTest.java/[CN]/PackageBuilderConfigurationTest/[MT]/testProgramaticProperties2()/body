{
  JavaDialectConfiguration javaConf=new JavaDialectConfiguration();
  javaConf.init(new PackageBuilderConfiguration());
  javaConf.setCompiler(JavaDialectConfiguration.ECLIPSE);
  PackageBuilderConfiguration cfg=new PackageBuilderConfiguration();
  cfg.setDialectConfiguration("java",javaConf);
  JavaDialectConfiguration javaConf2=(JavaDialectConfiguration)cfg.getDialectConfiguration("java");
  assertSame(javaConf,javaConf2);
  assertEquals(JavaDialectConfiguration.ECLIPSE,javaConf2.getCompiler());
  javaConf=new JavaDialectConfiguration();
  javaConf.init(new PackageBuilderConfiguration());
  javaConf.setCompiler(JavaDialectConfiguration.JANINO);
  cfg=new PackageBuilderConfiguration();
  cfg.setDialectConfiguration("java",javaConf);
  javaConf2=(JavaDialectConfiguration)cfg.getDialectConfiguration("java");
  assertSame(javaConf,javaConf2);
  assertEquals(JavaDialectConfiguration.JANINO,javaConf2.getCompiler());
}
