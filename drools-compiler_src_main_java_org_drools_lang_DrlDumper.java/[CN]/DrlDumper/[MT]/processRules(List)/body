{
  String ruleList="";
  Object ruleobj;
  for (final Iterator iterator=rules.iterator(); iterator.hasNext(); ) {
    ruleobj=iterator.next();
    if (ruleobj instanceof QueryDescr) {
      visitQueryDescr((QueryDescr)ruleobj);
      ruleList+=this.template;
      break;
    }
    final RuleDescr ruleDescr=(RuleDescr)ruleobj;
    String rule="rule \"" + ruleDescr.getName() + "\" "+ DrlDumper.eol;
    final String attribute=processAttribute(ruleDescr.getAttributes().values());
    String lhs="";
    if (!ruleDescr.getLhs().getDescrs().isEmpty()) {
      lhs="\t when" + DrlDumper.eol + processDescrList(ruleDescr.getLhs().getDescrs())+ DrlDumper.eol;
    }
 else {
      lhs="\t when";
    }
    String rhs=(String)ruleDescr.getConsequence();
    if (rhs == null) {
      rhs="\t then" + DrlDumper.eol + "\t";
    }
 else {
      rhs="\t then" + DrlDumper.eol + ruleDescr.getConsequence();
    }
    rule+=attribute;
    rule+=lhs;
    rule+=rhs;
    rule+="end" + DrlDumper.eol;
    ruleList+=rule;
  }
  return ruleList + DrlDumper.eol;
}
