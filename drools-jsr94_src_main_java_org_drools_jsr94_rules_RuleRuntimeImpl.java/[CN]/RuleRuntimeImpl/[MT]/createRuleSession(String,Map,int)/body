{
  if (ruleSessionType == RuleRuntime.STATELESS_SESSION_TYPE) {
    StatelessRuleSessionImpl session=new StatelessRuleSessionImpl(uri,properties,repository);
    return session;
  }
  if (ruleSessionType == RuleRuntime.STATEFUL_SESSION_TYPE) {
    StatefulRuleSessionImpl session=new StatefulRuleSessionImpl(uri,properties,repository);
    return session;
  }
  throw new RuleSessionTypeUnsupportedException("invalid session type: " + ruleSessionType);
}
