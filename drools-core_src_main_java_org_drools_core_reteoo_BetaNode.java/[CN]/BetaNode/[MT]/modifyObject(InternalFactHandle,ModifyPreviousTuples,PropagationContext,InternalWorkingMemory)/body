{
  RightTuple rightTuple=modifyPreviousTuples.peekRightTuple();
  while (rightTuple != null && rightTuple.getRightTupleSink().getRightInputOtnId().before(getRightInputOtnId())) {
    modifyPreviousTuples.removeRightTuple();
    rightTuple.setPropagationContext(context);
    BetaMemory bm=getBetaMemory((BetaNode)rightTuple.getRightTupleSink(),wm);
    ((BetaNode)rightTuple.getRightTupleSink()).doDeleteRightTuple(rightTuple,wm,bm);
    rightTuple=modifyPreviousTuples.peekRightTuple();
  }
  if (rightTuple != null && rightTuple.getRightTupleSink().getRightInputOtnId().equals(getRightInputOtnId())) {
    modifyPreviousTuples.removeRightTuple();
    rightTuple.reAdd();
    if (intersect(context.getModificationMask(),getRightInferredMask())) {
      rightTuple.setPropagationContext(context);
      BetaMemory bm=getBetaMemory(this,wm);
      rightTuple.setPropagationContext(context);
      doUpdateRightTuple(rightTuple,wm,bm);
    }
 else     if (rightTuple.getMemory() != null) {
      getBetaMemory(this,wm).getRightTupleMemory().removeAdd(rightTuple);
    }
  }
 else {
    if (intersect(context.getModificationMask(),getRightInferredMask())) {
      assertObject(factHandle,context,wm);
    }
  }
}
