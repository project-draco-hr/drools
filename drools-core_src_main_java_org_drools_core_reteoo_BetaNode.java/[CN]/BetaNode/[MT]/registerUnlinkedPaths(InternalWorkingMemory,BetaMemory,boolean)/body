{
  if (stagedDeleteWasEmpty && !memory.getSegmentMemory().isSegmentLinked()) {
    GarbageCollector garbageCollector=((InternalAgenda)wm.getAgenda()).getGarbageCollector();
synchronized (garbageCollector) {
      for (      PathMemory pmem : memory.getSegmentMemory().getPathMemories()) {
        if (pmem.getNodeType() == NodeTypeEnums.RuleTerminalNode) {
          garbageCollector.add(pmem.getOrCreateRuleAgendaItem(wm));
        }
      }
      garbageCollector.increaseDeleteCounter();
    }
  }
}
