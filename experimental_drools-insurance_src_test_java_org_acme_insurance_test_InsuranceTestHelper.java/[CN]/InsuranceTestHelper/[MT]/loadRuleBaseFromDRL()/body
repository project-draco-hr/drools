{
  PackageBuilder builder=new PackageBuilder();
  builder.addPackageFromDrl(getTechnicalRules("/approval/insurancefactor.drl"));
  builder.addPackageFromDrl(getTechnicalRules("/approval/approval.drl"));
  builder.addPackageFromDrl(getTechnicalRules("/approval/calculateInsurance.drl"));
  builder.addPackageFromDrl(getTechnicalRules("/approval/marginalage.dslr"),getTechnicalRules("/approval/acme.dsl"));
  builder.addRuleFlow(getTechnicalRules("/approval/insurance-process.rfm"));
  RuleBase ruleBase=RuleBaseFactory.newRuleBase();
  ruleBase.addPackage(builder.getPackage());
  Map map=new HashMap();
  map.put("x",ruleBase);
  final byte[] ast=serializeOut(map);
  map=(Map)serializeIn(ast);
  ruleBase=(RuleBase)map.get("x");
  return ruleBase;
}
