{
  timer.setId(++timerId);
  timer.setProcessInstanceId(processInstance.getId());
  timer.setActivated(new Date());
  ProcessJobContext ctx=new ProcessJobContext(timer,processInstance.getId(),this.workingMemory);
  JobHandle jobHandle=this.timerService.scheduleJob(processJob,ctx,new TimerTrigger(timerService.getCurrentTime(),timer.getDelay(),timer.getPeriod()));
  timer.setJobHandle(jobHandle);
  timers.put(timer.getId(),timer);
}
