{
  this.shell.eval("(import org.drools.Person)");
  this.shell.eval("(defrule yyy  => (printout t yy \" \" (eq 1 1) ) ) )");
  Package pkg=shell.getStatefulSession().getRuleBase().getPackage("MAIN");
  Rule rule=pkg.getRule("yyy");
  assertEquals("yyy",rule.getName());
  this.shell.eval("(defrule xxx (Person (name ?name&bob) (age 30) ) (Person  (name ?name) (age 35)) => (printout t xx \" \" (eq 1 1) ) )");
  rule=pkg.getRule("xxx");
  assertEquals("xxx",rule.getName());
  assertEquals(2,pkg.getRules().length);
  assertTrue(pkg.getImports().containsKey("org.drools.Person"));
  WorkingMemory wm=shell.getStatefulSession();
  wm.insert(new Person("bob","cheddar",30));
  wm.insert(new Person("bob","stilton",35));
  wm.fireAllRules();
  assertEquals("yy truexx true",new String(this.baos.toByteArray()));
}
