{
  for (Iterator<String> iterator=dataEnumLists.keySet().iterator(); iterator.hasNext(); ) {
    final String key=iterator.next();
    if (key.startsWith(factType + "#" + field) && fieldsNeeded != null && key.contains("[")) {
      final String[] values=key.substring(key.indexOf('[') + 1,key.lastIndexOf(']')).split(",");
      if (values.length != fieldsNeeded.length) {
        continue;
      }
      boolean fail=false;
      for (int i=0; i < values.length; i++) {
        final String a=values[i].trim();
        final String b=fieldsNeeded[i].trim();
        if (!a.equals(b)) {
          fail=true;
          break;
        }
      }
      if (fail) {
        continue;
      }
      final String[] qry=dataEnumLists.get(key);
      return qry[0];
    }
 else     if (key.startsWith(factType + "#" + field) && (fieldsNeeded == null || fieldsNeeded.length == 0)) {
      final String[] qry=dataEnumLists.get(key);
      return qry[0];
    }
  }
  throw new IllegalStateException();
}
