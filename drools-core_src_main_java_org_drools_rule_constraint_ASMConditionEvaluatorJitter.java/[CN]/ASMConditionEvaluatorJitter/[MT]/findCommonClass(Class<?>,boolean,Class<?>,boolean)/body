{
  if (class1 == class2)   return class1;
  if (class1 == Object.class)   return class2;
  if (class2 == Object.class)   return class1;
  if (class1 == String.class)   return class2;
  if (class2 == String.class)   return class1;
  Class<?> result=findCommonClass(class1,class2,primitive2);
  if (result == null) {
    result=findCommonClass(class2,class1,primitive1);
  }
  if (result == null) {
    throw new RuntimeException("Cannot find a common class between " + class1.getName() + " and "+ class2.getName());
  }
  return result;
}
