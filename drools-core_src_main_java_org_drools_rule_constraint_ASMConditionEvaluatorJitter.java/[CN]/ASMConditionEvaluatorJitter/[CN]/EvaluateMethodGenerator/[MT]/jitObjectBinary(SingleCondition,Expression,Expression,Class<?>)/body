{
  if (isFixed(left)) {
    throw new RuntimeException("Unmanaged fixed left");
  }
  Class<?> leftType=isDeclarationExpression(left) ? convertFromPrimitiveType(left.getType()) : left.getType();
  Class<?> rightType=isDeclarationExpression(right) ? convertFromPrimitiveType(right.getType()) : right.getType();
  jitExpression(left,type != null ? type : leftType);
  if (isDeclarationExpression(left) && left.getType().isPrimitive()) {
    castFromPrimitive(left.getType());
  }
  store(LEFT_OPERAND,leftType);
  jitExpression(right,type != null ? type : rightType);
  if (isDeclarationExpression(right) && right.getType().isPrimitive()) {
    castFromPrimitive(right.getType());
  }
  store(RIGHT_OPERAND,rightType);
  Label shortcutEvaluation=new Label();
  BooleanOperator operation=singleCondition.getOperation();
  prepareLeftOperand(operation,type,leftType,rightType,shortcutEvaluation);
  prepareRightOperand(right,type,rightType,shortcutEvaluation);
  load(LEFT_OPERAND);
  load(RIGHT_OPERAND);
  if (operation == BooleanOperator.CONTAINS) {
    invokeStatic(EvaluatorHelper.class,"contains",boolean.class,Object.class,rightType.isPrimitive() ? rightType : Object.class);
  }
 else   if (operation == BooleanOperator.MATCHES) {
    invokeVirtual(type,"matches",boolean.class,String.class);
  }
 else   if (operation == BooleanOperator.SOUNDSLIKE) {
    invokeStatic(EvaluatorHelper.class,"soundslike",boolean.class,String.class,String.class);
  }
 else   if (operation.isEquality()) {
    if (type.isInterface()) {
      invokeInterface(type,"equals",boolean.class,Object.class);
    }
 else {
      invokeVirtual(type,"equals",boolean.class,Object.class);
    }
    if (operation == BooleanOperator.NE) {
      singleCondition.toggleNegation();
    }
  }
 else {
    if (type.isInterface()) {
      invokeInterface(type,"compareTo",int.class,type == Comparable.class ? Object.class : type);
    }
 else {
      invokeVirtual(type,"compareTo",int.class,type);
    }
    mv.visitInsn(ICONST_0);
    jitPrimitiveOperation(operation,int.class);
  }
  mv.visitLabel(shortcutEvaluation);
}
