{
  if (this.map.containsKey((name))) {
    return true;
  }
  for (int i=this.buildStack.size() - 1; i >= 0; i--) {
    final RuleConditionElement rce=(RuleConditionElement)this.buildStack.get(i);
    final Declaration declaration=(Declaration)rce.getInnerDeclarations().get(name);
    if (declaration != null) {
      if ((rce instanceof GroupElement) && ((GroupElement)rce).isOr()) {
        return false;
      }
      return true;
    }
  }
  if (rule != null && rule.getParent() != null) {
    Declaration parentDeclaration=getExtendedDeclaration(rule.getParent(),name);
    if (null != parentDeclaration) {
      return true;
    }
  }
  return false;
}
