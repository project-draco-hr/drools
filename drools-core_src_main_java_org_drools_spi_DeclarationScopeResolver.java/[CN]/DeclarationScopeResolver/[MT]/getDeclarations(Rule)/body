{
  final Map declarations=new HashMap();
  for (int i=0; i < this.buildStack.size(); i++) {
    declarations.putAll(((RuleConditionElement)this.buildStack.get(i)).getInnerDeclarations());
  }
  if (null != rule.getParent()) {
    return getAllExtendedDeclaration(rule.getParent(),(HashMap)declarations);
  }
  return declarations;
}
