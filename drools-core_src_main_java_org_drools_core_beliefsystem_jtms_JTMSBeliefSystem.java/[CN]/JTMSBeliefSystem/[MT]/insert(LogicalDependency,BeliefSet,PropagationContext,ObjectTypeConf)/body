{
  JTMSBeliefSet jtmsBeliefSet=(JTMSBeliefSet)beliefSet;
  boolean wasEmpty=jtmsBeliefSet.isEmpty();
  boolean wasNegated=jtmsBeliefSet.isNegated();
  boolean isUndecided=jtmsBeliefSet.isUndecided();
  jtmsBeliefSet.add(node.getJustifierEntry());
  if (wasEmpty) {
    insertBelief(node,typeConf,jtmsBeliefSet,wasEmpty,wasNegated,isUndecided);
  }
 else   if (!isUndecided && jtmsBeliefSet.isUndecided()) {
    if (STRICT) {
      throw new IllegalStateException("FATAL : A fact and its negation have been asserted " + jtmsBeliefSet.getFactHandle().getObject());
    }
    InternalFactHandle fh;
    boolean fullyRetract;
    if (wasNegated) {
      fh=jtmsBeliefSet.getNegativeFactHandle();
      jtmsBeliefSet.setNegativeFactHandle(null);
      fullyRetract=true;
      ((NamedEntryPoint)fh.getEntryPoint()).delete(fh,(Rule)context.getRuleOrigin(),node.getJustifier());
    }
 else {
      fh=jtmsBeliefSet.getPositiveFactHandle();
      jtmsBeliefSet.setPositiveFactHandle(null);
      fullyRetract=false;
      NamedEntryPoint nep=(NamedEntryPoint)fh.getEntryPoint();
      ((NamedEntryPoint)fh.getEntryPoint()).getEntryPointNode().retractObject(fh,context,typeConf,nep.getInternalWorkingMemory());
    }
  }
}
