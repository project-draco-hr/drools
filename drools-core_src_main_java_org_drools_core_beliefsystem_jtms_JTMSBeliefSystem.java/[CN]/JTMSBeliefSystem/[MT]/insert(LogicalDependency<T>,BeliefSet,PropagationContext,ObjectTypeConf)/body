{
  JTMSBeliefSet jtmsBeliefSet=(JTMSBeliefSet)beliefSet;
  boolean wasEmpty=jtmsBeliefSet.isEmpty();
  boolean wasNegated=jtmsBeliefSet.isNegated();
  boolean wasUndecided=jtmsBeliefSet.isUndecided();
  jtmsBeliefSet.add((T)node.getMode());
  if (wasEmpty) {
    if (!jtmsBeliefSet.isUndecided()) {
      insertBelief(node,typeConf,jtmsBeliefSet,context,wasEmpty,wasNegated,wasUndecided);
    }
 else {
      defEP.getObjectStore().removeHandle(jtmsBeliefSet.getFactHandle());
    }
  }
 else   if (!wasUndecided && jtmsBeliefSet.isUndecided()) {
    if (STRICT) {
      throw new IllegalStateException("FATAL : A fact and its negation have been asserted " + jtmsBeliefSet.getFactHandle().getObject());
    }
    deleteAfterChangedEntryPoint(node,context,typeConf,jtmsBeliefSet,wasNegated);
  }
 else {
    if (wasUndecided && !jtmsBeliefSet.isUndecided()) {
      insertBelief(node,typeConf,jtmsBeliefSet,context,wasEmpty,wasNegated,wasUndecided);
    }
  }
}
