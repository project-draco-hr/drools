{
  FactHandleImpl f0=new FactHandleImpl(0);
  String string0="string1";
  workingMemory.putObject(f0,string0);
  node.assertObject(string0,f0,context,workingMemory);
  FactHandleImpl f1=new FactHandleImpl(1);
  workingMemory.putObject(f1,"string2");
  ReteTuple tuple1=new ReteTuple(9,f1,workingMemory);
  node.assertTuple(tuple1,context,workingMemory);
  assertLength(0,sink.getAsserted());
  assertLength(0,sink.getRetracted());
  node.retractObject(f0,context,workingMemory);
  assertLength(1,sink.getAsserted());
  Object[] list=(Object[])sink.getAsserted().get(0);
  assertSame(tuple1,list[0]);
  assertLength(0,sink.getRetracted());
  node.assertObject(string0,f0,context,workingMemory);
  assertLength(1,sink.getAsserted());
  FactHandleImpl f2=new FactHandleImpl(2);
  workingMemory.putObject(f2,"string2");
  ReteTuple tuple2=new ReteTuple(9,f2,workingMemory);
  node.assertTuple(tuple2,context,workingMemory);
  node.retractObject(f0,context,workingMemory);
  assertLength(3,sink.getAsserted());
  node.assertObject(string0,f0,context,workingMemory);
  node.retractTuples(tuple1.getKey(),context,workingMemory);
  assertLength(1,sink.getRetracted());
  node.retractObject(f0,context,workingMemory);
  node.retractTuples(tuple2.getKey(),context,workingMemory);
  assertLength(2,sink.getRetracted());
  list=(Object[])sink.getRetracted().get(0);
  assertSame(tuple1.getKey(),list[0]);
  list=(Object[])sink.getRetracted().get(1);
  assertSame(tuple2.getKey(),list[0]);
}
