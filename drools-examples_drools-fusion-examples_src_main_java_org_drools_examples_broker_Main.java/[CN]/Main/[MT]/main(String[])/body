{
  UIManager.setLookAndFeel(new Plastic3DLookAndFeel());
  Locale.setDefault(Locale.US);
  CompanyRegistry registry=new CompanyRegistry();
  BrokerWindow window=new BrokerWindow(registry.getCompanies());
  window.show();
  Broker broker=new Broker(window,registry);
  TimerService clock=new JDKTimerService(1);
  StockTickPersister source=new StockTickPersister();
  source.openForRead(new InputStreamReader(Main.class.getResourceAsStream("/stocktickstream.dat")),System.currentTimeMillis());
  EventFeeder feeder=new EventFeeder(clock,source,broker);
  feeder.feed();
}
