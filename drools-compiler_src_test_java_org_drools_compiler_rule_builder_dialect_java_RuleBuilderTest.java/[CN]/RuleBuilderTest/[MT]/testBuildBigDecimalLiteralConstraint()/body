{
  final PackageDescr pkgDescr=new PackageDescr("org.drools");
  final RuleDescr ruleDescr=new RuleDescr("Test Rule");
  AndDescr andDescr=new AndDescr();
  PatternDescr patDescr=new PatternDescr("java.math.BigDecimal","$bd");
  ExprConstraintDescr fcd=new ExprConstraintDescr("this == 10");
  patDescr.addConstraint(fcd);
  andDescr.addDescr(patDescr);
  ruleDescr.setLhs(andDescr);
  ruleDescr.setConsequence("");
  pkgDescr.addRule(ruleDescr);
  final PackageBuilder pkgBuilder=new PackageBuilder();
  pkgBuilder.addPackage(pkgDescr);
  assertTrue(pkgBuilder.getErrors().toString(),pkgBuilder.getErrors().isEmpty());
  final Rule rule=pkgBuilder.getPackages()[0].getRule("Test Rule");
  final GroupElement and=rule.getLhs();
  final Pattern pat=(Pattern)and.getChildren().get(0);
  if (pat.getConstraints().get(0) instanceof MvelConstraint) {
    final MvelConstraint fc=(MvelConstraint)pat.getConstraints().get(0);
    assertTrue("Wrong class. Expected java.math.BigDecimal. Found: " + fc.getField().getValue().getClass(),fc.getField().getValue() instanceof BigDecimal);
  }
}
