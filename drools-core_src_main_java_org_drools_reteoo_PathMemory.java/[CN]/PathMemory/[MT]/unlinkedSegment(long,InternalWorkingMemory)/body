{
  if (log.isTraceEnabled()) {
    log.trace("  UnlinkSegment smask={} rmask={} name={}",mask,linkedSegmentMask,getRuleTerminalNode().getRule().getName());
  }
  if (isRuleLinked()) {
    doUnlinkRule(wm);
  }
  linkedSegmentMask=linkedSegmentMask ^ mask;
}
