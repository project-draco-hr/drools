{
  ACLEnforcer enforcer=new ACLEnforcer();
  Set perms=new HashSet();
  perms.add(new AssetPermission("java.lang.String",new Long(0),AssetPermission.READ));
  perms.add(new AssetPermission("java.lang.String",AssetPermission.ALL_INSTANCES,AssetPermission.DENY_WRITE));
  perms.add(new AssetPermission("java.lang.Integer",AssetPermission.ALL_INSTANCES,AssetPermission.READ | AssetPermission.WRITE));
  enforcer.setPermissions(perms);
  enforcer.checkAllowed(new Integer(42),new Long(42),AssetPermission.READ,"no fail");
  try {
    enforcer.checkDenied("blah",new Long(1),AssetPermission.DENY_WRITE,"something");
    fail("No exception was thrown - should have been as it has been denied for all instances.");
  }
 catch (  RepositorySecurityException e) {
    assertEquals("something",e.getMessage());
  }
}
