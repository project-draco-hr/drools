{
  Environment env=this.kruntime.getEnvironment();
  EntityManager em=(EntityManager)env.get(EnvironmentName.CMD_SCOPED_ENTITY_MANAGER);
  WorkItemInfo workItemInfo=em.find(WorkItemInfo.class,id);
  if (workItemInfo != null) {
    WorkItemImpl workItem=(WorkItemImpl)workItemInfo.getWorkItem(env);
    WorkItemHandler handler=(WorkItemHandler)this.workItemHandlers.get(workItem.getName());
    if (handler != null) {
      handler.abortWorkItem(workItem,this);
    }
 else {
      if (workItems != null) {
        workItems.remove(id);
        throwWorkItemNotFoundException(workItem);
      }
    }
    if (workItems != null) {
      workItems.remove(id);
    }
    em.remove(workItemInfo);
  }
}
