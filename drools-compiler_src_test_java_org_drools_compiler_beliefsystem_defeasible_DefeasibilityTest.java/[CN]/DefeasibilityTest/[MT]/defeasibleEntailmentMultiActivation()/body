{
  StatefulKnowledgeSession kSession=getSession("defeat.drl");
  kSession.fireAllRules();
  EntryPoint ep=kSession.getEntryPoint(EntryPointId.DEFAULT.getEntryPointId());
  TruthMaintenanceSystem tms=((NamedEntryPoint)ep).getTruthMaintenanceSystem();
  assertEquals(1,tms.getEqualityKeyMap().size());
  assertEquals(4,kSession.getObjects().size());
  checkDefeasibilityByHandleId(getEqualityKey("X( id=-1 )",tms),DefeasibilityStatus.UNDECIDABLY,3,3);
}
