{
  int i=0;
  boolean skipDebug=true;
  boolean ok=true;
  if (args.length < 1 || args.length > 2) {
    ok=false;
  }
  if (ok && args[0].equals("-debug")) {
    i=1;
    skipDebug=false;
    if (args.length != 2) {
      ok=false;
    }
  }
  if (!ok) {
    System.err.println("Prints a disassembled view of the given class.");
    System.err.println("Usage: TraceClassVisitor [-debug] " + "<fully qualified class name or class file name>");
    return;
  }
  ClassReader cr;
  if (args[i].endsWith(".class") || args[i].indexOf('\\') > -1 || args[i].indexOf('/') > -1) {
    cr=new ClassReader(new FileInputStream(args[i]));
  }
 else {
    cr=new ClassReader(args[i]);
  }
  cr.accept(new TraceClassVisitor(new PrintWriter(System.out)),getDefaultAttributes(),skipDebug);
}
