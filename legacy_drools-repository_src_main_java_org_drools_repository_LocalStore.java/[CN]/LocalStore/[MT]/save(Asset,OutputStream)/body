{
  if (mode == MODE_XSTREAM) {
    OutputStreamWriter writer=new OutputStreamWriter(out);
    getXStream().toXML(ruleAsset,writer);
  }
 else   if (mode == MODE_OBJECT_SER) {
    try {
      ObjectOutputStream objOut=new ObjectOutputStream(out);
      objOut.writeObject(ruleAsset);
      objOut.flush();
    }
 catch (    IOException e) {
      throw new RepositoryException("Unable to store asset locally.",e);
    }
  }
 else {
    throw new IllegalArgumentException("Unknown local persistence mode.");
  }
}
