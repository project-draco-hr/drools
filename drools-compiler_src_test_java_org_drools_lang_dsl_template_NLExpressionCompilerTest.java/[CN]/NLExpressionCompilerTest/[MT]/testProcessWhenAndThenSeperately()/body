{
  final NLGrammar g=new NLGrammar();
  g.addNLItem(new NLMappingItem("something","blah","when"));
  g.addNLItem(new NLMappingItem("boo","ya","when"));
  g.addNLItem(new NLMappingItem("coo","eee","then"));
  g.addNLItem(new NLMappingItem("ska","fa","*"));
  final NLExpressionCompiler compiler=new NLExpressionCompiler(g);
  String result=compiler.compile("something boo coo ska","when");
  assertEquals("blah ya coo fa",result);
  result=compiler.compile("something boo coo ska","then");
  assertEquals("something boo eee fa",result);
}
