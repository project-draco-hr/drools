{
  initPrototype=(DroolsMVELFactory)acc.initPrototype.clone();
  actionPrototype=(DroolsMVELFactory)acc.actionPrototype.clone();
  resultPrototype=(DroolsMVELFactory)acc.resultPrototype.clone();
  if (acc.reversePrototype != null) {
    reversePrototype=(DroolsMVELFactory)acc.reversePrototype.clone();
  }
  for (  Entry<String,Class> var : ((CompiledExpression)acc.init).getParserContext().getVariables().entrySet()) {
    actionPrototype.addResolver(var.getKey(),new LocalVariableResolver(actionPrototype,var.getKey()));
    resultPrototype.addResolver(var.getKey(),new LocalVariableResolver(resultPrototype,var.getKey()));
    if (acc.reversePrototype != null) {
      reversePrototype.addResolver(var.getKey(),new LocalVariableResolver(reversePrototype,var.getKey()));
    }
  }
}
