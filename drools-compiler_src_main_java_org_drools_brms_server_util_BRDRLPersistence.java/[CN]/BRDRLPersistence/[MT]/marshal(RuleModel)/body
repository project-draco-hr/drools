{
  boolean isDSLEnhanced=false;
  for (int i=0; !isDSLEnhanced && i < model.lhs.length; i++) {
    if (model.lhs[i] instanceof DSLSentence) {
      isDSLEnhanced=true;
    }
  }
  for (int i=0; !isDSLEnhanced && i < model.rhs.length; i++) {
    if (model.rhs[i] instanceof DSLSentence) {
      isDSLEnhanced=true;
    }
  }
  StringBuffer buf=new StringBuffer();
  buf.append("rule \"" + model.name + "\"\n");
  this.marshalAttributes(buf,model);
  buf.append("\twhen\n");
  this.marshalLHS(buf,model,isDSLEnhanced);
  buf.append("\tthen\n");
  this.marshalRHS(buf,model,isDSLEnhanced);
  buf.append("end\n");
  return buf.toString();
}
