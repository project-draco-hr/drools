{
  LeftTuple leftTuple=modifyPreviousTuples.peekLeftTuple();
  while (leftTuple != null && leftTuple.getTupleSink().getLeftInputOtnId() != null && leftTuple.getTupleSink().getLeftInputOtnId().before(leftInputOtnId)) {
    modifyPreviousTuples.removeLeftTuple();
    ((LeftInputAdapterNode)leftTuple.getTupleSink().getLeftTupleSource()).retractLeftTuple(leftTuple,context,workingMemory);
    leftTuple=modifyPreviousTuples.peekLeftTuple();
  }
  if (leftTuple != null && leftTuple.getTupleSink().getLeftInputOtnId() != null && leftTuple.getTupleSink().getLeftInputOtnId().equals(leftInputOtnId)) {
    modifyPreviousTuples.removeLeftTuple();
    leftTuple.reAdd();
    if (context.getModificationMask().intersects(leftInferredMask)) {
      sink.modifyLeftTuple(leftTuple,context,workingMemory);
    }
  }
 else {
    if (context.getModificationMask().intersects(leftInferredMask)) {
      LeftTuple newLeftTuple=sink.createLeftTuple(factHandle,sink,true);
      sink.assertLeftTuple(newLeftTuple,context,workingMemory);
    }
  }
}
