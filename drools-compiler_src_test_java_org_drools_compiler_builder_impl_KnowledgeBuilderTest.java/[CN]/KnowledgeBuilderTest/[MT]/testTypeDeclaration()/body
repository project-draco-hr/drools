{
  PackageDescr pkgDescr=new PackageDescr("org.drools.compiler");
  TypeDeclarationDescr typeDescr=new TypeDeclarationDescr("StockTick");
  typeDescr.addAnnotation(TypeDeclaration.Role.ID,"event");
  typeDescr.addAnnotation(TypeDeclaration.ATTR_CLASS,"org.drools.compiler.StockTick");
  pkgDescr.addTypeDeclaration(typeDescr);
  KnowledgeBuilderImpl builder=new KnowledgeBuilderImpl();
  builder.addPackage(pkgDescr);
  if (builder.hasErrors()) {
    fail(builder.getErrors().toString());
  }
  InternalKnowledgePackage pkg=builder.getPackage();
  assertEquals(1,pkg.getTypeDeclarations().size());
  TypeDeclaration type=pkg.getTypeDeclaration("StockTick");
  assertEquals("StockTick",type.getTypeName());
  assertEquals(TypeDeclaration.Role.EVENT,type.getRole());
  assertEquals(StockTick.class,type.getTypeClass());
}
