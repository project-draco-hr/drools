{
  if (offset > line.length())   return line;
  int position;
  for (position=offset - 1; position >= 0; position--) {
    if (line.charAt(position) == ' ' || line.charAt(position) == '(' || line.charAt(position) == '\t' || line.charAt(position) == ',') {
      String left=line.substring(0,position + 1);
      String right=line.substring(position + 1,line.length());
      if (!VariableBinding.isVariableOrParameter(right,left) && !VariableBinding.hasVariableAssigned(left))       return left + getVariableName(right) + right;
      return line;
    }
  }
  for (position=0; position < line.length(); position++) {
    if (line.charAt(position) == ':')     return line;
    if (line.charAt(position) == '(' || line.charAt(position) == ',')     return getVariableName(line) + line;
  }
  return line;
}
