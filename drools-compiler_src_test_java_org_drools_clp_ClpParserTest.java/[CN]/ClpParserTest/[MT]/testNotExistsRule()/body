{
  RuleDescr rule=parse("(defrule xxx (or (hobby1 (type qqq1)) (not (and (exists (person (name ppp))) (person (name yyy))))))").rule();
  assertEquals("xxx",rule.getName());
  AndDescr lhs=rule.getLhs();
  List lhsList=lhs.getDescrs();
  assertEquals(1,lhsList.size());
  OrDescr orDescr=(OrDescr)lhsList.get(0);
  assertEquals(2,orDescr.getDescrs().size());
  ColumnDescr col=(ColumnDescr)orDescr.getDescrs().get(0);
  assertEquals("hobby1",col.getObjectType());
  FieldConstraintDescr fieldConstraintDescr=(FieldConstraintDescr)col.getDescrs().get(0);
  assertEquals("type",fieldConstraintDescr.getFieldName());
  LiteralRestrictionDescr litDescr=(LiteralRestrictionDescr)fieldConstraintDescr.getRestrictions().get(0);
  assertEquals("==",litDescr.getEvaluator());
  assertEquals("qqq1",litDescr.getText());
  NotDescr notDescr=(NotDescr)orDescr.getDescrs().get(1);
  assertEquals(1,notDescr.getDescrs().size());
  AndDescr andDescr=(AndDescr)notDescr.getDescrs().get(0);
  assertEquals(2,andDescr.getDescrs().size());
  ExistsDescr existsDescr=(ExistsDescr)andDescr.getDescrs().get(0);
  col=(ColumnDescr)existsDescr.getDescrs().get(0);
  assertEquals("person",col.getObjectType());
  fieldConstraintDescr=(FieldConstraintDescr)col.getDescrs().get(0);
  assertEquals("name",fieldConstraintDescr.getFieldName());
  litDescr=(LiteralRestrictionDescr)fieldConstraintDescr.getRestrictions().get(0);
  assertEquals("==",litDescr.getEvaluator());
  assertEquals("ppp",litDescr.getText());
  col=(ColumnDescr)andDescr.getDescrs().get(1);
  assertEquals("person",col.getObjectType());
  fieldConstraintDescr=(FieldConstraintDescr)col.getDescrs().get(0);
  assertEquals("name",fieldConstraintDescr.getFieldName());
  litDescr=(LiteralRestrictionDescr)fieldConstraintDescr.getRestrictions().get(0);
  assertEquals("==",litDescr.getEvaluator());
  assertEquals("yyy",litDescr.getText());
}
