{
  ObjectInputStream stream=context.stream;
  InternalRuleBase ruleBase=context.ruleBase;
  int type=stream.readInt();
  Rule rule=null;
  if (stream.readBoolean()) {
    String pkgName=stream.readUTF();
    String ruleName=stream.readUTF();
    Package pkg=ruleBase.getPackage(pkgName);
    rule=pkg.getRule(ruleName);
  }
  LeftTuple leftTuple=null;
  if (stream.readBoolean()) {
    int tuplePos=stream.readInt();
    leftTuple=context.terminalTupleMap.get(tuplePos);
  }
  long propagationNumber=stream.readLong();
  int factHandleId=stream.readInt();
  InternalFactHandle factHandle=context.handles.get(factHandleId);
  String entryPointId=stream.readUTF();
  EntryPoint entryPoint=context.entryPoints.get(entryPointId);
  if (entryPoint == null) {
    entryPoint=new EntryPoint(entryPointId);
    context.entryPoints.put(entryPointId,entryPoint);
  }
  PropagationContextFactory pctxFactory=context.ruleBase.getConfiguration().getComponentFactory().getPropagationContextFactory();
  PropagationContext pc=pctxFactory.createPropagationContext(propagationNumber,type,rule,leftTuple,factHandle,entryPoint);
  context.propagationContexts.put(propagationNumber,pc);
}
