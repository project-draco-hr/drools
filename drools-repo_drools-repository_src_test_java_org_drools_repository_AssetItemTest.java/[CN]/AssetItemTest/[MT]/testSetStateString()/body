{
  AssetItem ruleItem1=getDefaultPackage().addAsset("testSetStateString","test content");
  getRepo().createState("TestState1");
  ruleItem1.updateState("TestState1");
  assertNotNull(ruleItem1.getState());
  assertEquals("TestState1",ruleItem1.getState().getName());
  getRepo().createState("TestState2");
  ruleItem1.updateState("TestState2");
  assertNotNull(ruleItem1.getState());
  assertEquals("TestState2",ruleItem1.getState().getName());
  ruleItem1=getDefaultPackage().addAsset("foobar","test description");
  StateItem stateItem1=getRepo().getState("TestState1");
  ruleItem1.updateState(stateItem1);
  assertNotNull(ruleItem1.getState());
  assertEquals(ruleItem1.getState().getName(),"TestState1");
  StateItem stateItem2=getRepo().getState("TestState2");
  ruleItem1.updateState(stateItem2);
  assertNotNull(ruleItem1.getState());
  assertEquals("TestState2",ruleItem1.getState().getName());
}
