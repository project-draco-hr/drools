{
  AssetItem item=getRepo().loadDefaultPackage().addAsset("testBinaryAsset","yeah");
  String data="abc 123";
  ByteArrayInputStream in=new ByteArrayInputStream(data.getBytes());
  item.updateBinaryContentAttachment(in);
  item.updateBinaryContentAttachmentFileName("x.x");
  in.close();
  assertEquals(data,item.getContent());
  assertFalse(item.getNode().hasProperty(AssetItem.CONTENT_PROPERTY_NAME));
  assertTrue(item.getNode().hasProperty(AssetItem.CONTENT_PROPERTY_BINARY_NAME));
  item.checkin("lalalala");
  assertTrue(item.isBinary());
  item=getRepo().loadDefaultPackage().loadAsset("testBinaryAsset");
  InputStream in2=item.getBinaryContentAttachment();
  assertNotNull(in2);
  byte[] data2=item.getBinaryContentAsBytes();
  assertEquals(data,new String(data2));
  assertEquals("x.x",item.getBinaryContentAttachmentFileName());
  assertTrue(item.isBinary());
  item.updateContent("qed");
  item.checkin("");
  item=getRepo().loadAssetByUUID(item.getUUID());
  assertEquals("qed",item.getContent());
}
