{
  VariableScopeInstance variableScope=null;
  if (nodeInstance != null) {
    variableScope=(VariableScopeInstance)nodeInstance.resolveContextInstance(VariableScope.VARIABLE_SCOPE,variableName);
  }
  if (variableScope == null) {
    variableScope=(VariableScopeInstance)getProcessInstance().getContextInstance(VariableScope.VARIABLE_SCOPE);
  }
  return variableScope.getVariable(variableName);
}
