{
  if (stream instanceof DroolsObjectInputStream) {
    DroolsObjectInputStream droolsStream=(DroolsObjectInputStream)stream;
    initClassLoader(droolsStream.getClassLoader());
  }
 else {
    initClassLoader(Thread.currentThread().getContextClassLoader());
  }
  this.store=(Map)stream.readObject();
  this.AST=stream.readObject();
  final byte[] bytes=(byte[])stream.readObject();
  final DroolsObjectInputStream streamWithLoader=new DroolsObjectInputStream(new ByteArrayInputStream(bytes),this.classLoader);
  this.invokerLookups=(Map)streamWithLoader.readObject();
}
