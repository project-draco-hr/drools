{
  if (!existsFolder(folder.getParent().getPath().toPortableString())) {
    createFolder((MemoryFolder)folder.getParent());
  }
  if (existsFolder(folder.getParent().getPath().toPortableString()) && !existsFolder(folder.getPath().toPortableString())) {
    folders.put(folder.getPath().toPortableString(),new HashSet<Resource>());
    Folder parent=folder.getParent();
    folders.get(parent.getPath().toPortableString()).add(folder);
  }
}
