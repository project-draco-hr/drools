{
  boolean linkedRule=isRuleLinked();
  linkedSegmentMask.getAndBitwiseXor(mask);
  if (isLogTraceEnabled) {
    log.trace("  UnlinkSegment smask={} rmask={} name={}",mask,linkedSegmentMask,this);
  }
  if (linkedRule && !isRuleLinked()) {
    doUnlinkRule(wm);
  }
}
