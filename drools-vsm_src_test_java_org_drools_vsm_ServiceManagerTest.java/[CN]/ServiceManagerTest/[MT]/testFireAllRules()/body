{
  String str="";
  str+="package org.drools \n";
  str+="global java.util.List list \n";
  str+="rule rule1 \n";
  str+="    dialect \"java\" \n";
  str+="when \n";
  str+="then \n";
  str+="    System.out.println( \"hello1!!!\" ); \n";
  str+="end \n";
  str+="rule rule2 \n";
  str+="    dialect \"java\" \n";
  str+="when \n";
  str+="then \n";
  str+="    System.out.println( \"hello2!!!\" ); \n";
  str+="end \n";
  KnowledgeBuilderProvider kbuilderFactory=this.client.getKnowledgeBuilderFactory();
  KnowledgeBuilder kbuilder=kbuilderFactory.newKnowledgeBuilder();
  kbuilder.add(ResourceFactory.newByteArrayResource(str.getBytes()),ResourceType.DRL);
  if (kbuilder.hasErrors()) {
    System.out.println("Errors: " + kbuilder.getErrors());
  }
  KnowledgeBaseProvider kbaseFactory=this.client.getKnowledgeBaseFactory();
  KnowledgeBase kbase=kbaseFactory.newKnowledgeBase();
  kbase.addKnowledgePackages(kbuilder.getKnowledgePackages());
  StatefulKnowledgeSession ksession=kbase.newStatefulKnowledgeSession();
  int fired=ksession.fireAllRules();
  assertEquals(2,fired);
}
