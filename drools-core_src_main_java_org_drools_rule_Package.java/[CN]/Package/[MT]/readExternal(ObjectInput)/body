{
  boolean isDroolsStream=stream instanceof DroolsObjectInputStream;
  ObjectInput in=isDroolsStream ? stream : new DroolsObjectInputStream(new ByteArrayInputStream((byte[])stream.readObject()));
  this.dialectDatas=(DialectDatas)in.readObject();
  if (!isDroolsStream)   ((DroolsObjectInput)in).setClassLoader(this.dialectDatas.getClassLoader());
  this.name=(String)in.readObject();
  this.imports=(Map<String,ImportDeclaration>)in.readObject();
  this.staticImports=(Set)in.readObject();
  this.functions=(Map<String,Function>)in.readObject();
  this.factTemplates=(Map)in.readObject();
  this.ruleFlows=(Map)in.readObject();
  this.globals=(Map)in.readObject();
  this.valid=in.readBoolean();
  this.rules=(Map)in.readObject();
  if (!isDroolsStream) {
    in.close();
  }
}
