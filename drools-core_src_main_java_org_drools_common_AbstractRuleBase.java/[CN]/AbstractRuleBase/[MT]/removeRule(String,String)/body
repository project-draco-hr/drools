{
synchronized (this.pkgs) {
    final Package pkg=(Package)this.pkgs.get(packageName);
    if (pkg == null) {
      throw new IllegalArgumentException("Package name '" + packageName + "' does not exist for this Rule Base.");
    }
    final Rule rule=pkg.getRule(ruleName);
    if (rule == null) {
      throw new IllegalArgumentException("Rule name '" + ruleName + "' does not exist in the Package '"+ packageName+ "'.");
    }
    boolean doUnlock=false;
    if (!this.lock.isHeldByCurrentThread() && (this.wms == null || this.wms.length == 0)) {
      lock();
      doUnlock=true;
    }
    this.removalsSinceLock++;
    removeRule(pkg,rule);
    pkg.removeRule(rule);
    if (this.reloadPackageCompilationData == null) {
      this.reloadPackageCompilationData=new ReloadPackageCompilationData();
    }
    this.reloadPackageCompilationData.addDialectDatas(pkg.getDialectDatas());
    if (doUnlock) {
      unlock();
    }
  }
}
