{
  if (!nullSafeEquals(existingDecl.getFormat(),newDecl.getFormat()) || !nullSafeEquals(existingDecl.getObjectType(),newDecl.getObjectType()) || !nullSafeEquals(existingDecl.getTypeClassName(),newDecl.getTypeClassName())|| !nullSafeEquals(existingDecl.getTypeName(),newDecl.getTypeName())) {
    throw new RuntimeDroolsException("Unable to merge Type Declaration for class '" + existingDecl.getTypeName() + "'");
  }
  existingDecl.setDurationAttribute(mergeLeft(existingDecl.getTypeName(),"Unable to merge @duration attribute for type declaration of class:",existingDecl.getDurationAttribute(),newDecl.getDurationAttribute(),true));
  existingDecl.setDynamic(mergeLeft(existingDecl.getTypeName(),"Unable to merge @propertyChangeSupport  (a.k.a. dynamic) attribute for type declaration of class:",existingDecl.isDynamic(),newDecl.isDynamic(),true));
  existingDecl.setPropertySpecific(mergeLeft(existingDecl.getTypeName(),"Unable to merge @propertySpecific attribute for type declaration of class:",existingDecl.isPropertySpecific(),newDecl.isPropertySpecific(),true));
  existingDecl.setExpirationOffset(Math.max(existingDecl.getExpirationOffset(),newDecl.getExpirationOffset()));
  existingDecl.setNovel(mergeLeft(existingDecl.getTypeName(),"Unable to merge @novel attribute for type declaration of class:",existingDecl.isNovel(),newDecl.isNovel(),true));
  existingDecl.setResource(mergeLeft(existingDecl.getTypeName(),"Unable to merge resource attribute for type declaration of class:",existingDecl.getResource(),newDecl.getResource(),true));
  existingDecl.setRole(mergeLeft(existingDecl.getTypeName(),"Unable to merge @role attribute for type declaration of class:",isSet(existingDecl.getSetMask(),TypeDeclaration.ROLE_BIT) ? existingDecl.getRole() : null,newDecl.getRole(),true));
  existingDecl.setTimestampAttribute(mergeLeft(existingDecl.getTypeName(),"Unable to merge @timestamp attribute for type declaration of class:",existingDecl.getTimestampAttribute(),newDecl.getTimestampAttribute(),true));
  existingDecl.setTypesafe(mergeLeft(existingDecl.getTypeName(),"Unable to merge @typesafe attribute for type declaration of class:",existingDecl.isTypesafe(),newDecl.isTypesafe(),true));
}
