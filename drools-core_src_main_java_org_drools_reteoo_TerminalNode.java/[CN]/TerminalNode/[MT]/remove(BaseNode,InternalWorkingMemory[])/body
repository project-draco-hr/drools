{
  for (int i=0, length=workingMemories.length; i < length; i++) {
    final InternalWorkingMemory workingMemory=workingMemories[i];
    for (final Iterator it=this.tupleSource.getPropagatedTuples(workingMemory,this).iterator(); it.hasNext(); ) {
      final ReteTuple tuple=(ReteTuple)it.next();
      final Activation activation=tuple.getActivation();
      if (activation.isActivated()) {
        activation.remove();
        workingMemory.getAgendaEventSupport().fireActivationCancelled(activation);
      }
      final PropagationContext propagationContext=new PropagationContextImpl(workingMemory.getNextPropagationIdCounter(),PropagationContext.RULE_REMOVAL,null,null);
      workingMemory.getTruthMaintenanceSystem().removeLogicalDependencies(activation,propagationContext,this.rule);
    }
    workingMemory.propagateQueuedActions();
  }
  this.tupleSource.remove(this,workingMemories);
}
