{
  PackageBuilder builder=new PackageBuilder();
  builder.addPackageFromDrl(new InputStreamReader(getClass().getResourceAsStream("simpleSalience.drl")));
  RuleBaseConfiguration conf=new RuleBaseConfiguration();
  conf.setSequential(true);
  RuleBase ruleBase=getRuleBase(conf);
  ruleBase.addPackage(builder.getPackage());
  StatelessSession session=ruleBase.newStatelessSession();
  final List list=new ArrayList();
  session.setGlobal("list",list);
  session.execute(new Person("pob"));
  builder=new PackageBuilder();
  builder.addPackageFromDrl(new InputStreamReader(DynamicRulesTest.class.getResourceAsStream("test_Dynamic3.drl")));
  ruleBase.addPackage(builder.getPackage());
  session=ruleBase.newStatelessSession();
  session.setGlobal("list",list);
  Person person=new Person("bop");
  session.execute(person);
  assertEquals(7,list.size());
  assertEquals("rule 3",list.get(0));
  assertEquals("rule 2",list.get(1));
  assertEquals("rule 1",list.get(2));
  assertEquals("rule 3",list.get(3));
  assertEquals("rule 2",list.get(4));
  assertEquals("rule 1",list.get(5));
  assertEquals(person,list.get(6));
}
