{
  BlockExecutionEngine engine=(BlockExecutionEngine)parse("(bind ?x (create$ 1 2 (+ 1 2) ) ) (bind ?y (create$ (+ 1 0) ?x (create$ a b ?x (+ 1 1) ) 3) )").execution_block();
  ExecutionContext context=new ExecutionContext(null,null,2);
  engine.execute(context);
  ListValueHandler list=(ListValueHandler)context.getLocalVariable(0);
  assertEquals(3,list.size());
  assertEquals(1,list.getList()[0].getIntValue(context));
  assertEquals(2,list.getList()[1].getIntValue(context));
  assertEquals(new BigDecimal(3),list.getList()[2].getBigDecimalValue(context));
  list=(ListValueHandler)context.getLocalVariable(1);
  assertEquals(11,list.size());
  assertEquals(new BigDecimal(1),list.getList()[0].getBigDecimalValue(context));
  assertEquals(1,list.getList()[1].getIntValue(context));
  assertEquals(2,list.getList()[2].getIntValue(context));
  assertEquals(new BigDecimal(3),list.getList()[3].getBigDecimalValue(context));
  assertEquals("a",list.getList()[4].getStringValue(context));
  assertEquals("b",list.getList()[5].getStringValue(context));
  assertEquals(1,list.getList()[6].getIntValue(context));
  assertEquals(2,list.getList()[7].getIntValue(context));
  assertEquals(new BigDecimal(3),list.getList()[8].getBigDecimalValue(context));
  assertEquals(new BigDecimal(2),list.getList()[9].getBigDecimalValue(context));
  assertEquals(3,list.getList()[10].getIntValue(context));
}
