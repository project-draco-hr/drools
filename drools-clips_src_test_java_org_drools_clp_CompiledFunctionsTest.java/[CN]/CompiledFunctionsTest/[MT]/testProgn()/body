{
  BlockExecutionEngine engine=(BlockExecutionEngine)parse("(bind ?n 2) (while (progn (bind ?n (* ?n ?n)) (< ?n 1000)) do (printout d ?n) )").execution_block();
  ExecutionContext context=new ExecutionContextImpl(null,null,2);
  ByteArrayOutputStream bais=new ByteArrayOutputStream();
  context.addPrintoutRouter("d",new PrintStream(bais));
  engine.execute(context);
  assertEquals("416256",new String(bais.toByteArray()));
}
