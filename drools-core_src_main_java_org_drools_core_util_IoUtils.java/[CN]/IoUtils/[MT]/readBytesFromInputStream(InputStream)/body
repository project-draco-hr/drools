{
  byte[] resultBuff=new byte[0];
  byte[] buff=new byte[2048];
  int k=-1;
  while ((k=is.read(buff,0,buff.length)) > -1) {
    byte[] tbuff=new byte[resultBuff.length + k];
    System.arraycopy(resultBuff,0,tbuff,0,resultBuff.length);
    System.arraycopy(buff,0,tbuff,resultBuff.length,k);
    resultBuff=tbuff;
  }
  return resultBuff;
}
