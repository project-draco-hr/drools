{
  frame=new JFrame();
  KeyListener klistener=new GameKeyListener(ksession.getEntryPoint("KeyPressedStream"),ksession.getEntryPoint("KeyReleasedStream"));
  frame.addKeyListener(klistener);
  frame.setResizable(false);
  frame.setDefaultCloseOperation(conf.isExitOnClose() ? JFrame.EXIT_ON_CLOSE : JFrame.DISPOSE_ON_CLOSE);
  frame.setSize(new Dimension(conf.getWindowWidth(),conf.getWindowHeight()));
  canvas=new Canvas();
  canvas.setBackground(Color.BLACK);
  canvas.setSize(new Dimension(conf.getWindowWidth(),conf.getWindowHeight()));
  JPanel jp=new JPanel();
  jp.setBackground(Color.BLACK);
  jp.setPreferredSize(new Dimension(conf.getWindowWidth(),conf.getWindowHeight()));
  jp.add(canvas);
  frame.add(jp);
  frame.setVisible(true);
  frame.pack();
  canvas.createBufferStrategy(2);
  frame.setLocationRelativeTo(null);
  frame.requestFocus();
}
