{
  BPELProcess process=new BPELProcess();
  process.setName("TestProcess");
  process.setId("1");
  BPELFlow flow=new BPELFlow();
  flow.setName("flow");
  process.setActivity(flow);
  List<BPELActivity> flowActivities=new ArrayList<BPELActivity>();
  BPELInvoke invoke1=new BPELInvoke();
  invoke1.setName("invoke1");
  flowActivities.add(invoke1);
  BPELInvoke invoke2=new BPELInvoke();
  invoke2.setName("invoke2");
  flowActivities.add(invoke2);
  flow.setActivities(flowActivities);
  InternalWorkingMemory workingMemory=new ReteooWorkingMemory(1,(InternalRuleBase)RuleBaseFactory.newRuleBase());
  WorkingMemoryFileLogger logger=new WorkingMemoryFileLogger(workingMemory);
  BPELProcessInstance processInstance=new BPELProcessInstance();
  processInstance.setProcess(process);
  processInstance.setWorkingMemory(workingMemory);
  processInstance.start();
  logger.writeToDisk();
}
