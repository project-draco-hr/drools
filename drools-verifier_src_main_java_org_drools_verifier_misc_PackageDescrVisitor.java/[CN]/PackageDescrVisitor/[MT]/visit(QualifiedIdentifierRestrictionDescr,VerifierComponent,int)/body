{
  String text=descr.getText();
  String base=text.substring(0,text.indexOf("."));
  String fieldName=text.substring(text.indexOf("."));
  Variable variable=data.getVariableByRuleAndVariableName(currentRule.getRuleName(),base);
  if (variable != null) {
    QualifiedIdentifierRestriction restriction=new QualifiedIdentifierRestriction();
    restriction.setRuleGuid(currentRule.getGuid());
    restriction.setPatternGuid(currentPattern.getGuid());
    restriction.setPatternIsNot(currentPattern.isPatternNot());
    restriction.setConstraintGuid(currentConstraint.getGuid());
    restriction.setFieldGuid(currentConstraint.getFieldGuid());
    restriction.setOperator(Operator.determineOperator(descr.getEvaluator(),descr.isNegated()));
    restriction.setVariableGuid(variable.getGuid());
    restriction.setVariableName(base);
    restriction.setVariablePath(fieldName);
    restriction.setOrderNumber(orderNumber);
    restriction.setParentGuid(parent.getGuid());
    restriction.setParentType(parent.getVerifierComponentType());
    currentField.setFieldType(Field.FieldType.VARIABLE);
    variable.setObjectTypeType(VerifierComponentType.FIELD.getType());
    data.add(restriction);
    solvers.addRestriction(restriction);
  }
 else {
    EnumField enumField=(EnumField)data.getFieldByObjectTypeAndFieldName(base,fieldName);
    if (enumField == null) {
      ObjectType objectType=findOrCreateNewObjectType(base);
      enumField=new EnumField();
      enumField.setObjectTypeGuid(objectType.getGuid());
      enumField.setObjectTypeName(objectType.getName());
      enumField.setName(fieldName);
      objectType.getFields().add(enumField);
      data.add(enumField);
    }
    EnumRestriction restriction=new EnumRestriction();
    restriction.setRuleGuid(currentRule.getGuid());
    restriction.setPatternGuid(currentPattern.getGuid());
    restriction.setPatternIsNot(currentPattern.isPatternNot());
    restriction.setConstraintGuid(currentConstraint.getGuid());
    restriction.setFieldGuid(currentConstraint.getFieldGuid());
    restriction.setOperator(Operator.determineOperator(descr.getEvaluator(),descr.isNegated()));
    restriction.setEnumBaseGuid(enumField.getGuid());
    restriction.setEnumBase(base);
    restriction.setEnumName(fieldName);
    restriction.setOrderNumber(orderNumber);
    restriction.setParentGuid(parent.getGuid());
    restriction.setParentType(parent.getVerifierComponentType());
    currentField.setFieldType(Field.FieldType.ENUM);
    data.add(restriction);
    solvers.addRestriction(restriction);
  }
}
