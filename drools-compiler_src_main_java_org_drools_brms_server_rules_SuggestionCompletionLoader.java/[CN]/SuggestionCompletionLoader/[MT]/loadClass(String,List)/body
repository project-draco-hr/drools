{
  Class clazz=null;
  try {
    if (this.existingLoader != null) {
      clazz=this.existingLoader.loadClass(classname);
    }
 else {
      clazz=this.loader.loadClass(classname);
    }
  }
 catch (  final ClassNotFoundException e1) {
    try {
      addJars(jars);
      clazz=this.loader.loadClass(classname);
    }
 catch (    final IOException e) {
      throw new IllegalStateException(e.getMessage());
    }
catch (    final ClassNotFoundException e) {
      this.errors.add("Class not found: " + classname);
    }
  }
  return clazz;
}
