{
  if (clazz == null)   return;
  ClassFieldInspector inspector=new ClassFieldInspector(clazz);
  String[] fields=(String[])inspector.getFieldNames().keySet().toArray(new String[inspector.getFieldNames().size()]);
  fields=removeIrrelevantFields(fields);
  builder.addFieldsForType(shortTypeName,fields);
  for (int i=0; i < fields.length; i++) {
    Class type=(Class)inspector.getFieldTypes().get(fields[i]);
    String fieldType=getFieldType(type);
    builder.addFieldType(shortTypeName + "." + fields[i],fieldType);
  }
}
