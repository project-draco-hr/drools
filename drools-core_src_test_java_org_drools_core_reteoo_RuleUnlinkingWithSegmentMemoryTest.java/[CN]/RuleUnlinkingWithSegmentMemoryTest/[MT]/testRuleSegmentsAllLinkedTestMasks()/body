{
  setUp(JOIN_NODE);
  KieBaseConfiguration kconf=KnowledgeBaseFactory.newKnowledgeBaseConfiguration();
  kconf.setOption(LRUnlinkingOption.ENABLED);
  ReteooWorkingMemory wm=new ReteooWorkingMemory(1,(ReteooRuleBase)RuleBaseFactory.newRuleBase((RuleBaseConfiguration)kconf));
  PathMemory rs=(PathMemory)wm.getNodeMemory(rtn1);
  assertFalse(rs.isRuleLinked());
  assertEquals(1,rs.getAllLinkedMaskTest());
  rs=(PathMemory)wm.getNodeMemory(rtn2);
  assertFalse(rs.isRuleLinked());
  assertEquals(3,rs.getAllLinkedMaskTest());
  rs=(PathMemory)wm.getNodeMemory(rtn3);
  assertFalse(rs.isRuleLinked());
  assertEquals(7,rs.getAllLinkedMaskTest());
}
