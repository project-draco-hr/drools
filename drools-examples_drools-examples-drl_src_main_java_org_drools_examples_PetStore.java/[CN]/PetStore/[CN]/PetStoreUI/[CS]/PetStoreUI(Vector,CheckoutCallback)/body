{
  super(new BorderLayout());
  this.callback=callback;
  JSplitPane splitPane=new JSplitPane(JSplitPane.VERTICAL_SPLIT);
  add(splitPane,BorderLayout.CENTER);
  JPanel topHalf=new JPanel();
  topHalf.setLayout(new BoxLayout(topHalf,BoxLayout.X_AXIS));
  topHalf.setBorder(BorderFactory.createEmptyBorder(5,5,0,5));
  topHalf.setMinimumSize(new Dimension(400,50));
  topHalf.setPreferredSize(new Dimension(450,250));
  splitPane.add(topHalf);
  JPanel bottomHalf=new JPanel(new BorderLayout());
  bottomHalf.setMinimumSize(new Dimension(400,50));
  bottomHalf.setPreferredSize(new Dimension(450,300));
  splitPane.add(bottomHalf);
  JPanel listContainer=new JPanel(new GridLayout(1,1));
  listContainer.setBorder(BorderFactory.createTitledBorder("List"));
  topHalf.add(listContainer);
  JList list=new JList(items);
  ListSelectionModel listSelectionModel=list.getSelectionModel();
  listSelectionModel.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);
  list.addMouseListener(new ListSelectionHandler());
  JScrollPane listPane=new JScrollPane(list);
  listContainer.add(listPane);
  JPanel tableContainer=new JPanel(new GridLayout(1,1));
  tableContainer.setBorder(BorderFactory.createTitledBorder("Table"));
  topHalf.add(tableContainer);
  tableModel=new TableModel();
  JTable table=new JTable(tableModel);
  table.addMouseListener(new TableSelectionHandler());
  ListSelectionModel tableSelectionModel=table.getSelectionModel();
  tableSelectionModel.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);
  TableColumnModel tableColumnModel=table.getColumnModel();
  tableColumnModel.getColumn(0).setCellRenderer(new NameRenderer());
  tableColumnModel.getColumn(1).setCellRenderer(new PriceRenderer());
  tableColumnModel.getColumn(1).setMaxWidth(50);
  JScrollPane tablePane=new JScrollPane(table);
  tablePane.setPreferredSize(new Dimension(150,100));
  tableContainer.add(tablePane);
  JPanel checkoutPane=new JPanel();
  JButton button=new JButton("Checkout");
  button.setVerticalTextPosition(AbstractButton.CENTER);
  button.setHorizontalTextPosition(AbstractButton.LEADING);
  button.addMouseListener(new CheckoutButtonHandler());
  button.setActionCommand("checkout");
  checkoutPane.add(button);
  bottomHalf.add(checkoutPane,BorderLayout.NORTH);
  button=new JButton("Reset");
  button.setVerticalTextPosition(AbstractButton.CENTER);
  button.setHorizontalTextPosition(AbstractButton.TRAILING);
  button.addMouseListener(new ResetButtonHandler());
  button.setActionCommand("reset");
  checkoutPane.add(button);
  bottomHalf.add(checkoutPane,BorderLayout.NORTH);
  output=new JTextArea(1,10);
  output.setEditable(false);
  JScrollPane outputPane=new JScrollPane(output,ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS,ScrollPaneConstants.HORIZONTAL_SCROLLBAR_AS_NEEDED);
  bottomHalf.add(outputPane,BorderLayout.CENTER);
  this.callback.setOutput(this.output);
}
