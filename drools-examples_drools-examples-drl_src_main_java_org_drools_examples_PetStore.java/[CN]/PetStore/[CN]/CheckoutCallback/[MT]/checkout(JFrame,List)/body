{
  Order order=new Order();
  for (int i=0; i < items.size(); i++) {
    order.addItem(new Purchase(order,(Product)items.get(i)));
  }
  WorkingMemory workingMemory=ruleBase.newStatefulSession();
  workingMemory.setGlobal("frame",frame);
  workingMemory.setGlobal("textArea",this.output);
  workingMemory.insert(order);
  workingMemory.fireAllRules();
  return order.toString();
}
