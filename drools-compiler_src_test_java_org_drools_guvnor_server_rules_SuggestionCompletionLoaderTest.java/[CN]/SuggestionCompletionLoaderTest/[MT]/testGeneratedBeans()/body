{
  SuggestionCompletionLoader loader=new SuggestionCompletionLoader();
  SuggestionCompletionEngine eng=loader.getSuggestionEngine("package foo \n declare GenBean \n   id: int \n name : String \n end \n declare GenBean2 \n list: java.util.List \n gb: GenBean \n end",new ArrayList(),new ArrayList());
  assertFalse(loader.hasErrors());
  assertNotNull(eng);
  assertEquals(6,eng.getFactTypes().length);
  assertEquals("GenBean",eng.getFactTypes()[1]);
  assertEquals("GenBean2",eng.getFactTypes()[2]);
  assertEquals(SuggestionCompletionEngine.TYPE_NUMERIC,eng.getFieldType("GenBean","id"));
  assertEquals(SuggestionCompletionEngine.TYPE_STRING,eng.getFieldType("GenBean","name"));
  assertEquals("GenBean",eng.getFieldType("GenBean2","gb"));
}
