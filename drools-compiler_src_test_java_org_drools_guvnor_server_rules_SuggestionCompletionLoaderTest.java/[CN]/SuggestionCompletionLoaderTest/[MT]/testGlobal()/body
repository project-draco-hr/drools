{
  SuggestionCompletionLoader loader=new SuggestionCompletionLoader();
  SuggestionCompletionEngine eng=loader.getSuggestionEngine("package foo \n global org.drools.Person p",new ArrayList(),new ArrayList());
  assertNotNull(eng);
  assertFalse(loader.hasErrors());
  assertEquals(1,eng.getGlobalVariables().length);
  assertEquals("p",eng.getGlobalVariables()[0]);
  assertEquals("Person",eng.getGlobalVariable("p"));
  String[] flds=(String[])eng.getModelFields("Person");
  assertNotNull(flds);
  assertEquals(0,eng.getGlobalCollections().length);
}
