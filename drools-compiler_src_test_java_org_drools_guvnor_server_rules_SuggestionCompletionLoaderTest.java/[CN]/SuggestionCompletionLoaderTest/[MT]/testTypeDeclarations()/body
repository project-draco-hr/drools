{
  SuggestionCompletionLoader loader=new SuggestionCompletionLoader();
  String header="";
  header+="package foo\n";
  header+="declare Applicant\n";
  header+="     creditRating: String\n";
  header+="     approved: Boolean\n";
  header+="     applicationDate: java.util.Date\n";
  header+="     age: Integer\n";
  header+="     name: String\n";
  header+="end\n";
  header+="declare LoanApplication\n";
  header+="     amount: Integer\n";
  header+="     approved: Boolean\n";
  header+="     deposit: Integer\n";
  header+="     approvedRate: Integer\n";
  header+="     lengthYears: Integer\n";
  header+="     explanation: String\n";
  header+="     insuranceCost: Integer\n";
  header+="     applicant: Applicant\n";
  header+="end\n";
  SuggestionCompletionEngine eng=loader.getSuggestionEngine(header,new ArrayList(),new ArrayList());
  assertNotNull(eng);
  assertEquals(SuggestionCompletionEngine.TYPE_STRING,eng.getFieldType("Applicant","creditRating"));
  assertEquals("java.lang.String",eng.getFieldClassName("Applicant","creditRating"));
  assertEquals(FIELD_CLASS_TYPE.REGULAR_CLASS,eng.getFieldClassType("Applicant","creditRating"));
  assertEquals(SuggestionCompletionEngine.TYPE_NUMERIC,eng.getFieldType("LoanApplication","deposit"));
  assertEquals("java.lang.Integer",eng.getFieldClassName("LoanApplication","deposit"));
  assertEquals(FIELD_CLASS_TYPE.REGULAR_CLASS,eng.getFieldClassType("LoanApplication","deposit"));
  assertEquals("Applicant",eng.getFieldType("LoanApplication","applicant"));
  assertNull(eng.getFieldClassName("LoanApplication","applicant"));
  assertEquals(FIELD_CLASS_TYPE.TYPE_DECLARATION_CLASS,eng.getFieldClassType("LoanApplication","applicant"));
}
