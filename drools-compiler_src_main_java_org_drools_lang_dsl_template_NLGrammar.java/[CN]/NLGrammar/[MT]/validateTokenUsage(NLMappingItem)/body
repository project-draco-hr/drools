{
  List result=new ArrayList();
  Matcher natural=tokenPattern.matcher(item.getNaturalTemplate());
  Matcher target=tokenPattern.matcher(item.getTargetTemplate());
  Set naturalSet=new HashSet();
  Set targetSet=new HashSet();
  while (natural.find()) {
    naturalSet.add(natural.group());
  }
  while (target.find()) {
    targetSet.add(target.group());
  }
  if (!naturalSet.equals(targetSet)) {
    Set aux=new HashSet(naturalSet);
    naturalSet.removeAll(targetSet);
    targetSet.removeAll(aux);
    for (Iterator i=naturalSet.iterator(); i.hasNext(); ) {
      String token=(String)i.next();
      result.add(new MappingError(MappingError.ERROR_UNUSED_TOKEN,MappingError.TEMPLATE_NATURAL,item.getNaturalTemplate().indexOf(token),token));
    }
    for (Iterator i=targetSet.iterator(); i.hasNext(); ) {
      String token=(String)i.next();
      result.add(new MappingError(MappingError.ERROR_UNDECLARED_TOKEN,MappingError.TEMPLATE_TARGET,item.getTargetTemplate().indexOf(token),token));
    }
  }
  return result;
}
