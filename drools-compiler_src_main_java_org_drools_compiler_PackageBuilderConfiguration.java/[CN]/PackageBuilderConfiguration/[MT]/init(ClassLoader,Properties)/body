{
  if (classLoader == null) {
    classLoader=Thread.currentThread().getContextClassLoader();
    if (classLoader == null) {
      classLoader=this.getClass().getClassLoader();
    }
  }
  setClassLoader(classLoader);
  this.chainedProperties=new ChainedProperties(this.classLoader,"packagebuilder.conf");
  if (properties != null) {
    this.chainedProperties.addProperties(properties);
  }
  this.dialectConfigurations=new HashMap();
  buildDialectConfigurationMap();
  buildAccumulateFunctionsMap();
  buildEvaluatorRegistry();
  buildDumpDirectory();
  setProperty(DROOLS_PARSER_PROCESS_STRING_ESCAPES,this.chainedProperties.getProperty(DROOLS_PARSER_PROCESS_STRING_ESCAPES,"true"));
}
