{
  final SuggestionCompletionEngine com=new SuggestionCompletionEngine();
  com.factTypes=new String[]{"Person","Vehicle"};
  com.fieldsForType=new HashMap(){
{
      put("Person",new String[]{"age","name","rank"});
      put("Vehicle",new String[]{"type","make"});
    }
  }
;
  com.fieldTypes=new HashMap(){
{
      put("Person.age","Numeric");
      put("Person.rank","Comparable");
      put("Person.name","String");
      put("Vehicle.make","String");
      put("Vehicle.type","String");
    }
  }
;
  com.globalTypes=new HashMap(){
{
      put("bar","Person");
      put("baz","Vehicle");
    }
  }
;
  String[] c=com.getConditionalElements();
  assertEquals("not",c[0]);
  assertEquals("exists",c[1]);
  assertEquals("or",c[2]);
  c=com.getFactTypes();
  assertEquals(2,c.length);
  assertContains("Person",c);
  assertContains("Vehicle",c);
  c=com.getFieldCompletions("Person");
  assertEquals("age",c[0]);
  assertEquals("name",c[1]);
  c=com.getFieldCompletions("Vehicle");
  assertEquals("type",c[0]);
  assertEquals("make",c[1]);
  c=com.getOperatorCompletions("Person","name");
  assertEquals(3,c.length);
  assertEquals("==",c[0]);
  assertEquals("!=",c[1]);
  assertEquals("matches",c[2]);
  c=com.getOperatorCompletions("Person","age");
  assertEquals(6,c.length);
  assertEquals(c[0],"==");
  assertEquals(c[1],"!=");
  assertEquals(c[2],"<");
  assertEquals(c[3],">");
  c=com.getOperatorCompletions("Person","rank");
  assertEquals(6,c.length);
  assertEquals(c[0],"==");
  assertEquals(c[1],"!=");
  assertEquals(c[2],"<");
  assertEquals(c[3],">");
  c=com.getConnectiveOperatorCompletions("Vehicle","make");
  assertEquals(5,c.length);
  assertEquals("|| ==",c[0]);
  c=com.getGlobalVariables();
  assertEquals(2,c.length);
  assertEquals("baz",c[0]);
  assertEquals("bar",c[1]);
  c=com.getFieldCompletionsForGlobalVariable("bar");
  assertEquals(3,c.length);
  assertEquals("age",c[0]);
  assertEquals("name",c[1]);
  c=com.getFieldCompletionsForGlobalVariable("baz");
  assertEquals(2,c.length);
  assertEquals("type",c[0]);
  assertEquals("make",c[1]);
  c=com.getOperatorCompletions("Person","wankle");
  assertEquals(2,c.length);
}
