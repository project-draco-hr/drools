{
  if (leftTuple.getStagedType() != LeftTuple.INSERT) {
    leftTuple.setPropagationContext(context);
  }
synchronized (((SynchronizedLeftTupleSets)leftTuples).getLock()) {
    if (leftTuple.getStagedType() == LeftTuple.NONE) {
      long mask=sink.getLeftInferredMask();
      if (mask == Long.MAX_VALUE || intersect(context.getModificationMask(),mask)) {
        if (leftTuples.addUpdate(leftTuple) && linkOrNotify) {
          sm.notifyRuleLinkSegment(wm);
        }
      }
    }
  }
}
