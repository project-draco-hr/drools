{
  super(id,context.getPartitionId(),context.getRuleBase().getConfiguration().isMultithreadEvaluation());
  this.objectSource=source;
  this.leftTupleMemoryEnabled=context.isTupleMemoryEnabled();
  ObjectSource current=source;
  while (!(current.getType() == NodeTypeEnums.ObjectTypeNode)) {
    current=current.getParentObjectSource();
  }
  ObjectTypeNode otn=(ObjectTypeNode)current;
  rootQueryNode=ClassObjectType.DroolsQuery_ObjectType.isAssignableFrom(otn.getObjectType());
  if (context.isStreamMode() && context.getRootObjectTypeNode().getObjectType().isEvent()) {
    streamMode=true;
  }
 else {
    streamMode=false;
  }
}
