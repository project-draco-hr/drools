{
  String drl1="package org.drools\n" + "rule R1 when\n" + "   $m : Message( message == \"Hello World\" )\n"+ "then\n"+ "end\n";
  String drl2="package org.drools\n" + "rule R2 when\n" + "   $m : Message( message == \"Hello World\" )\n"+ "then\n"+ "end\n";
  String drl3="package org.drools\n" + "rule R3 when\n" + "   $m : Message( message == \"Good bye World\" )\n"+ "then\n"+ "end\n";
  KieJar kieJar1=createKieJar(drl1,drl2);
  KieJar kieJar2=createKieJar(drl1,drl3);
  ChangeSet changes=ChangeSetBuilder.build(kieJar1,kieJar2);
  assertThat(changes.getResourcesAdded().size(),is(0));
  assertThat(changes.getResourcesRemoved().size(),is(0));
  assertThat(changes.getResourcesModified().size(),is(1));
  assertThat(changes.getResourcesModified(),hasItem(ResourceFactory.newUrlResource("jar:file://!/" + kieJar2.getFiles().get(1))));
}
