{
  for (final Iterator it=ruleDescr.getLhs().getDescrs().iterator(); it.hasNext(); ) {
    final Object object=it.next();
    if (object instanceof ConditionalElementDescr) {
      if (object.getClass() == AndDescr.class) {
        final GroupElement and=GroupElementFactory.newAndInstance();
        build(this.context.getRule(),(ConditionalElementDescr)object,and,false,false);
        this.context.getRule().addPattern(and);
      }
 else       if (object.getClass() == OrDescr.class) {
        final GroupElement or=GroupElementFactory.newOrInstance();
        build(this.context.getRule(),(ConditionalElementDescr)object,or,true,false);
        this.context.getRule().addPattern(or);
      }
 else       if (object.getClass() == NotDescr.class) {
        context.setInnerDeclarations(new HashMap());
        final GroupElement not=GroupElementFactory.newNotInstance();
        build(this.context.getRule(),(ConditionalElementDescr)object,not,true,true);
        this.context.getRule().addPattern(not);
        for (final Iterator notIt=context.getInnerDeclarations().keySet().iterator(); notIt.hasNext(); ) {
          context.getDeclarations().remove(notIt.next());
        }
        context.setInnerDeclarations(null);
      }
 else       if (object.getClass() == ExistsDescr.class) {
        context.setInnerDeclarations(new HashMap());
        final GroupElement exists=GroupElementFactory.newExistsInstance();
        build(this.context.getRule(),(ConditionalElementDescr)object,exists,true,true);
        for (final Iterator notIt=context.getInnerDeclarations().keySet().iterator(); notIt.hasNext(); ) {
          context.getDeclarations().remove(notIt.next());
        }
        context.setInnerDeclarations(null);
        this.context.getRule().addPattern(exists);
      }
 else {
        ConditionalElementBuilder builder=(ConditionalElementBuilder)this.builders.get(object.getClass());
        ConditionalElement ce=builder.build(this.context,this.utils,this.columnBuilder,(BaseDescr)object);
        if (ce != null) {
          this.context.getRule().addPattern(ce);
        }
      }
    }
 else     if (object.getClass() == ColumnDescr.class) {
      final Column column=this.columnBuilder.build(this.context,this.utils,(ColumnDescr)object);
      if (column != null) {
        this.context.getRule().addPattern(column);
      }
    }
  }
  if (!(ruleDescr instanceof QueryDescr)) {
    this.consequenceBuilder.buildConsequence(this.context,this.utils,ruleDescr);
  }
  this.classBuilder.buildRule(this.context,this.utils,ruleDescr);
}
