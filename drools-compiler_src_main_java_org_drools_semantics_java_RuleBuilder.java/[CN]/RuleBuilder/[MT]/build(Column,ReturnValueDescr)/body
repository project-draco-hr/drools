{
  String classMethodName="returnValue" + counter++;
  returnValueDescr.setClassMethodName(classMethodName);
  List usedDeclarations=getUsedDeclarations(returnValueDescr,returnValueDescr.getText());
  if (usedDeclarations == null) {
    return;
  }
  Declaration[] declarations=new Declaration[usedDeclarations.size()];
  for (int i=0, size=usedDeclarations.size(); i < size; i++) {
    declarations[i]=(Declaration)this.declarations.get((String)usedDeclarations.get(i));
  }
  Class clazz=((ClassObjectType)column.getObjectType()).getClassType();
  FieldExtractor extractor=getFieldExtractor(returnValueDescr,clazz,returnValueDescr.getFieldName());
  if (extractor == null) {
    return;
  }
  Evaluator evaluator=getEvaluator(returnValueDescr,extractor.getObjectType().getValueType(),returnValueDescr.getEvaluator());
  if (evaluator == null) {
    return;
  }
  ReturnValueConstraint returnValueConstraint=new ReturnValueConstraint(extractor,declarations,evaluator);
  column.addConstraint(returnValueConstraint);
  StringTemplate st=ruleGroup.getInstanceOf("returnValueMethod");
  setStringTemplateAttributes(st,declarations,returnValueDescr.getText());
  st.setAttribute("methodName",classMethodName);
  st.setAttribute("text",returnValueDescr.getText());
  this.methods.add(st.toString());
  st=invokerGroup.getInstanceOf("returnValueInvoker");
  st.setAttribute("package",this.pkg.getName());
  st.setAttribute("ruleClassName",ucFirst(this.ruleDescr.getClassName()));
  st.setAttribute("invokerClassName",ruleDescr.getClassName() + ucFirst(classMethodName) + "Invoker");
  st.setAttribute("methodName",classMethodName);
  setStringTemplateAttributes(st,declarations,returnValueDescr.getText());
  st.setAttribute("text",returnValueDescr.getText());
  String invokerClassName=pkg.getName() + "." + ruleDescr.getClassName()+ ucFirst(classMethodName)+ "Invoker";
  this.invokers.put(invokerClassName,st.toString());
  this.invokerLookups.put(invokerClassName,returnValueConstraint);
  this.descrLookups.put(invokerClassName,returnValueDescr);
}
