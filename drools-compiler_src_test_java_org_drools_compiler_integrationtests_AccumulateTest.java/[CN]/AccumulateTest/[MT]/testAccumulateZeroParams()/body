{
  String rule="rule fromIt\n" + "when\n" + "    Number( $c: intValue ) from accumulate( Integer(), count( ) )\n"+ "then\n"+ "    System.out.println( \"got \" + $c );\n"+ "end";
  KnowledgeBuilder kbuilder=KnowledgeBuilderFactory.newKnowledgeBuilder();
  kbuilder.add(ResourceFactory.newReaderResource(new StringReader(rule)),ResourceType.DRL);
  if (kbuilder.hasErrors()) {
    Iterator<KnowledgeBuilderError> errors=kbuilder.getErrors().iterator();
    while (errors.hasNext()) {
      System.out.println("kbuilder error: " + errors.next().getMessage());
    }
  }
  assertFalse(kbuilder.hasErrors());
  KnowledgeBase kbase=KnowledgeBaseFactory.newKnowledgeBase();
  kbase.addKnowledgePackages(kbuilder.getKnowledgePackages());
}
