{
  Scenario sc=new Scenario();
  List facts=ls(new FactData("Cheese","c1",ls(new FieldData("type","cheddar"),new FieldData("price","42")),false),new FactData("Cheese","c2",ls(new FieldData("type","= c1.type")),false));
  sc.fixtures.addAll(facts);
  TypeResolver resolver=new ClassTypeResolver(new HashSet<Object>(),Thread.currentThread().getContextClassLoader());
  resolver.addImport("org.drools.Cheese");
  ScenarioRunner runner=new ScenarioRunner(sc,resolver,new MockWorkingMemory(),null);
  assertTrue(runner.populatedData.containsKey("c1"));
  assertTrue(runner.populatedData.containsKey("c2"));
  Cheese c=(Cheese)runner.populatedData.get("c1");
  assertEquals("cheddar",c.getType());
  assertEquals(42,c.getPrice());
  Cheese c2=(Cheese)runner.populatedData.get("c2");
  assertEquals(c.getType(),c2.getType());
}
