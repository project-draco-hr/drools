{
  Scenario sc=new Scenario();
  sc.rules.add("foo");
  sc.rules.add("bar");
  ExecutionTrace ext=new ExecutionTrace();
  sc.fixtures.add(ext);
  MockWorkingMemory wm=new MockWorkingMemory();
  ScenarioRunner run=new ScenarioRunner(sc,null,wm);
  assertEquals(wm,run.workingMemory);
  assertNotNull(wm.agendaEventListener);
  assertTrue(wm.agendaEventListener instanceof TestingEventListener);
  TestingEventListener lnr=(TestingEventListener)wm.agendaEventListener;
  assertEquals(2,sc.rules.size());
  assertTrue(sc.rules.contains("foo"));
  assertTrue(sc.rules.contains("bar"));
}
