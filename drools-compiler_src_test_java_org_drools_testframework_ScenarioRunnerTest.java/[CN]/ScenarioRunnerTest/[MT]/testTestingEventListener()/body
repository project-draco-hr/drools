{
  Scenario sc=new Scenario();
  ExecutionTrace ext=new ExecutionTrace();
  ext.rules=new String[]{"foo","bar"};
  sc.fixtures.add(ext);
  MockWorkingMemory wm=new MockWorkingMemory();
  ScenarioRunner run=new ScenarioRunner(sc,null,wm);
  assertEquals(wm,run.workingMemory);
  assertNotNull(wm.agendaEventListener);
  assertTrue(wm.agendaEventListener instanceof TestingEventListener);
  TestingEventListener lnr=(TestingEventListener)wm.agendaEventListener;
  assertEquals(2,lnr.ruleNames.size());
  assertTrue(lnr.ruleNames.contains("foo"));
  assertTrue(lnr.ruleNames.contains("bar"));
}
