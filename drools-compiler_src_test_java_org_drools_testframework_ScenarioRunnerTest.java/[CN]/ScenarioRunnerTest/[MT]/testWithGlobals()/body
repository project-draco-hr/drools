{
  Scenario sc=new Scenario();
  FactData[] facts=new FactData[]{new FactData("Cheese","c2",new FieldData[]{new FieldData("type","stilton")},false)};
  sc.globals.add(new FactData("Cheese","c",new FieldData[]{new FieldData("type","cheddar")},false));
  sc.fixtures.addAll(Arrays.asList(facts));
  TypeResolver resolver=new ClassTypeResolver(new HashSet<Object>(),Thread.currentThread().getContextClassLoader());
  resolver.addImport("org.drools.Cheese");
  MockWorkingMemory wm=new MockWorkingMemory();
  ScenarioRunner run=new ScenarioRunner(sc,resolver,wm);
  assertEquals(1,wm.globals.size());
  assertEquals(1,run.globalData.size());
  assertEquals(1,run.populatedData.size());
  assertEquals(1,wm.facts.size());
  Cheese c=(Cheese)wm.globals.get("c");
  assertEquals("cheddar",c.getType());
  Cheese c2=(Cheese)wm.facts.get(0);
  assertEquals("stilton",c2.getType());
}
