{
  Scenario sc=new Scenario();
  FactData[] facts=new FactData[]{new FactData("Cheese","c1",new FieldData[]{new FieldData("type","cheddar",false),new FieldData("price","42",false)},false,false)};
  VerifyFact[] assertions=new VerifyFact[]{new VerifyFact("c1",new VerifyField[]{new VerifyField("type","cheddar"),new VerifyField("price","42")})};
  sc.fixtures.addAll(Arrays.asList(facts));
  sc.fixtures.addAll(Arrays.asList(assertions));
  TypeResolver resolver=new ClassTypeResolver(new HashSet<Object>(),Thread.currentThread().getContextClassLoader());
  resolver.addImport("org.drools.Cheese");
  MockWorkingMemory wm=new MockWorkingMemory();
  ScenarioRunner runner=new ScenarioRunner(sc,resolver,wm);
  assertEquals(1,wm.facts.size());
  assertEquals(runner.populatedData.get("c1"),wm.facts.get(0));
  assertTrue(runner.populatedData.containsKey("c1"));
  VerifyFact vf=(VerifyFact)assertions[0];
  for (int i=0; i < vf.fieldValues.length; i++) {
    assertTrue(vf.fieldValues[i].successResult);
  }
}
