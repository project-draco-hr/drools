{
  TypeResolver resolver=new ClassTypeResolver(new HashSet<Object>(),Thread.currentThread().getContextClassLoader());
  resolver.addImport("org.drools.Cheese");
  ScenarioRunner run=new ScenarioRunner(new Scenario(),resolver,new MockWorkingMemory());
  run.populatedData.clear();
  Cheese c=new Cheese();
  c.setType("whee");
  c.setPrice(1);
  run.populatedData.put("x",c);
  assertEquals(1,c.getPrice());
  FactData fd=new FactData("Cheese","x",new FieldData[]{new FieldData("type","",false),new FieldData("price","42",false)},false);
  run.populateFields(fd,run.populatedData,c);
  assertEquals("whee",c.getType());
  assertEquals(42,c.getPrice());
}
