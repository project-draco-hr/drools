{
  ModuleImpl module=(ModuleImpl)getNextFocus();
  if (module.getActivationQueue().isEmpty()) {
    return false;
  }
  AgendaItem item=(AgendaItem)module.getActivationQueue().remove();
  if (filter == null || filter.accept(item)) {
    item.fire(this.workingMemory);
  }
  return true;
}
