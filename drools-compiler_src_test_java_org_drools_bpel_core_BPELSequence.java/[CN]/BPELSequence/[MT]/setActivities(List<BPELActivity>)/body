{
  if (activities == null || activities.size() < 2) {
    throw new IllegalArgumentException("A BPEL sequence must contain at least two sub activities!");
  }
  BPELActivity previous=activities.get(0);
  addNode(previous);
  linkIncomingConnections(Node.CONNECTION_DEFAULT_TYPE,new CompositeNode.NodeAndType(previous,Node.CONNECTION_DEFAULT_TYPE));
  for (int i=1; i < activities.size(); i++) {
    BPELActivity next=activities.get(i);
    addNode(next);
    new ConnectionImpl(previous,Node.CONNECTION_DEFAULT_TYPE,next,Node.CONNECTION_DEFAULT_TYPE);
    previous=next;
  }
  linkOutgoingConnections(new CompositeNode.NodeAndType(previous,Node.CONNECTION_DEFAULT_TYPE),Node.CONNECTION_DEFAULT_TYPE);
}
