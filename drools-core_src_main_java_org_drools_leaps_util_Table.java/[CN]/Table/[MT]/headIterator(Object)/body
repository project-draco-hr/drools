{
  TableIterator iterator=null;
  TableRecord startRecord=this.headRecord;
  TableRecord currentRecord=this.headRecord;
  TableRecord lastRecord=null;
  if (!this.empty) {
    if (this.map.comparator().compare(this.headRecord.object,objectAtEnd) <= 0) {
      SortedMap bufMap=this.map.headMap(objectAtEnd);
      if (!bufMap.isEmpty()) {
        lastRecord=(TableRecord)bufMap.get(bufMap.lastKey());
        if (lastRecord.right != null && this.map.comparator().compare(lastRecord.right.object,objectAtEnd) == 0) {
          lastRecord=lastRecord.right;
        }
        iterator=new TableIterator(startRecord,currentRecord,lastRecord);
      }
 else {
        iterator=new TableIterator();
      }
    }
 else {
      iterator=new TableIterator();
    }
  }
 else {
    iterator=new TableIterator();
  }
  return iterator;
}
