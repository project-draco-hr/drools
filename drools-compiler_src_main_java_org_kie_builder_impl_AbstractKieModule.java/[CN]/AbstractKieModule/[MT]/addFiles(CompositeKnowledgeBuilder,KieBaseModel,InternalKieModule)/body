{
  int fileCount=0;
  for (  String fileName : kieModule.getFileNames()) {
    if (filterFileInKBase(kieBaseModel,fileName) && !fileName.endsWith(".properties")) {
      ResourceConfiguration conf=getResourceConfiguration(kieModule,fileName);
      if (conf == null) {
        ckbuilder.add(ResourceFactory.newByteArrayResource(kieModule.getBytes(fileName)).setSourcePath(fileName),ResourceType.determineResourceType(fileName));
      }
 else {
        ckbuilder.add(ResourceFactory.newByteArrayResource(kieModule.getBytes(fileName)).setSourcePath(fileName),ResourceType.determineResourceType(fileName),conf);
      }
      fileCount++;
    }
  }
  if (fileCount == 0) {
    if (kieModule instanceof FileKieModule) {
      log.warn("No files found for KieBase " + kieBaseModel.getName() + ", searching folder "+ kieModule.getFile());
    }
 else {
      log.warn("No files found for KieBase " + kieBaseModel.getName());
    }
  }
}
