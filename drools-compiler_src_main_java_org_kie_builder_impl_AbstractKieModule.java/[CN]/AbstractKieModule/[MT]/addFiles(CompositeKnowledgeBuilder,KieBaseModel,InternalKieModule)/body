{
  int fileCount=0;
  String prefixPath=kieBaseModel.getName().replace('.','/');
  for (  String fileName : kieModule.getFileNames()) {
    if (((KieBaseModelImpl)kieBaseModel).isDefault() || fileName.startsWith(prefixPath)) {
      if (isKieExtension(fileName)) {
        ckbuilder.add(ResourceFactory.newByteArrayResource(kieModule.getBytes(fileName)),ResourceType.determineResourceType(fileName));
        fileCount++;
      }
    }
  }
  if (fileCount == 0) {
    if (kieModule instanceof FileKieModule) {
      log.warn("No files found for KieBase " + kieBaseModel.getName() + ", searching folder "+ kieModule.getFile());
    }
 else {
      log.warn("No files found for KieBase " + kieBaseModel.getName());
    }
  }
}
