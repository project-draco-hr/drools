{
  VariableResolver vr;
  try {
    vr=getVariableResolver(name);
  }
 catch (  UnresolveablePropertyException e) {
    vr=null;
  }
  if (vr != null && vr.getType() != null) {
    throw new RuntimeException("variable already defined within scope: " + vr.getType() + " "+ name);
  }
 else {
    addResolver(name,vr=new MapVariableResolver(variables,name,type)).setValue(value);
    return vr;
  }
}
