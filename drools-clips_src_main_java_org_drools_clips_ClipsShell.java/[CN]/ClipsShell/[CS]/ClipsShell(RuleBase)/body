{
  this.moduleName=MAIN;
  this.ruleBase=ruleBase;
  this.packageBuilder=new PackageBuilder(this.ruleBase);
  String str="global java.util.Map printrouters\n";
  packageBuilder.addKnowledgeResource(ResourceFactory.newByteArrayResource(str.getBytes()),ResourceType.DRL,null);
  this.session=this.ruleBase.newStatefulSession();
  this.factory=(DroolsMVELFactory)new DroolsMVELFactory(null,null,((InternalRuleBase)this.ruleBase).getGlobals().keySet());
  this.vars=new HashMap<String,Object>();
  GlobalResolver2 globalResolver=new GlobalResolver2(this.vars,this.session.getGlobalResolver());
  this.session.setGlobalResolver(globalResolver);
  this.factory.setContext(null,null,null,this.session,this.vars);
}
