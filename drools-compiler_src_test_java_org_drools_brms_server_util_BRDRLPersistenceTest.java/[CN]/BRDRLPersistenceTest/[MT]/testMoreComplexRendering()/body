{
  final RuleModel m=getComplexModel();
  String expected="rule \"Complex Rule\"\n" + "\tno-loop true\n" + "\tsalience -10\n"+ "\tagenda-group \"aGroup\"\n"+ "\twhen\n"+ "\t\t>p1 : Person( f1 : age < 42 )\n"+ "\t\t>not Cancel( )\n"+ "\tthen\n"+ "\t\t>p1.setStatus( \"rejected\" );\n"+ "\t\t>update( p1 );\n"+ "\t\t>retract( p1 );\n"+ "\t\tSend an email to administrator\n"+ "end\n";
  final String drl=p.marshal(m);
  assertEquals(expected,drl);
}
