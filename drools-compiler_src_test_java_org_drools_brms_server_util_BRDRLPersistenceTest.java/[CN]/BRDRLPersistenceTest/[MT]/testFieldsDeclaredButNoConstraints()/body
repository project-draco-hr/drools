{
  RuleModel m=new RuleModel();
  m.name="boo";
  FactPattern p=new FactPattern();
  p.factType="Person";
  p.addConstraint(new SingleFieldConstraint("field1"));
  m.addLhsItem(p);
  String actual=BRDRLPersistence.getInstance().marshal(m);
  String expected="rule \"boo\" when Person() then end";
  assertEqualsIgnoreWhitespace(expected,actual);
  SingleFieldConstraint con=(SingleFieldConstraint)p.constraintList.constraints[0];
  con.fieldBinding="q";
  actual=BRDRLPersistence.getInstance().marshal(m);
  expected="rule \"boo\" when Person(q : field1) then end";
  assertEqualsIgnoreWhitespace(expected,actual);
}
