{
  if (!context.getRuleBase().getConfiguration().isPhreakEnabled() && !this.isInUse()) {
    for (    InternalWorkingMemory workingMemory : workingMemories) {
      RiaNodeMemory memory=(RiaNodeMemory)workingMemory.getNodeMemory(this);
      Iterator it=memory.getMap().iterator();
      for (ObjectEntry entry=(ObjectEntry)it.next(); entry != null; entry=(ObjectEntry)it.next()) {
        LeftTuple leftTuple=(LeftTuple)entry.getKey();
        leftTuple.unlinkFromLeftParent();
        leftTuple.unlinkFromRightParent();
      }
      workingMemory.clearNodeMemory(this);
    }
  }
  if (!isInUse()) {
    tupleSource.removeTupleSink(this);
  }
}
