{
  RuleRuntime ruleRuntime=ruleServiceProvider.getRuleRuntime();
  assertNotNull("cannot obtain RuleRuntime",ruleRuntime);
  try {
    ruleRuntime.createRuleSession("someUri",null,RuleRuntime.STATEFUL_SESSION_TYPE);
    fail("RuleExecutionSetNotFoundException expected");
  }
 catch (  RuleExecutionSetNotFoundException ex) {
  }
  Reader ruleReader=new InputStreamReader(RuleRuntimeTestCase.class.getResourceAsStream(RULES_RESOURCE));
  RuleExecutionSet ruleSet=ruleSetProvider.createRuleExecutionSet(ruleReader,null);
  ruleAdministrator.registerRuleExecutionSet(RULES_RESOURCE,ruleSet,null);
  StatefulRuleSession statefulRuleSession=(StatefulRuleSession)ruleRuntime.createRuleSession(RULES_RESOURCE,null,RuleRuntime.STATEFUL_SESSION_TYPE);
  assertNotNull("cannot obtain StatefulRuleSession",statefulRuleSession);
  ruleAdministrator.deregisterRuleExecutionSet(RULES_RESOURCE,null);
}
