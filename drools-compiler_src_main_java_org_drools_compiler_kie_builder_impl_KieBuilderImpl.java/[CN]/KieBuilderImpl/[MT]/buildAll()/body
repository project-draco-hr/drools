{
  if (!isBuilt() && kModuleModel != null) {
    trgMfs=new MemoryFileSystem();
    writePomAndKModule();
    compileJavaClasses();
    addKBasesFilesToTrg();
    kModule=new MemoryKieModule(releaseId,kModuleModel,trgMfs);
    if (kieDependencies != null && !kieDependencies.isEmpty()) {
      for (      KieModule kieModule : kieDependencies) {
        kModule.addKieDependency((InternalKieModule)kieModule);
      }
    }
    if (buildKieModule(kModule,results)) {
      writeKieModuleMetaInfo(generateKieModuleMetaInfo());
    }
  }
  return this;
}
