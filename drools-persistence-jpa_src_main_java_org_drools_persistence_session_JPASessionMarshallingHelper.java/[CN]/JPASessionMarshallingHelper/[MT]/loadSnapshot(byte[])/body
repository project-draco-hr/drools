{
  try {
    ByteArrayInputStream bais=new ByteArrayInputStream(bytes);
    if (this.ksession == null) {
      this.ksession=this.marshaller.unmarshall(bais,this.conf,this.env);
    }
 else {
      loadSnapshot(bytes,this.ksession);
    }
  }
 catch (  Exception e) {
    throw new RuntimeException("Unable to load session snapshot",e);
  }
  return this.ksession;
}
