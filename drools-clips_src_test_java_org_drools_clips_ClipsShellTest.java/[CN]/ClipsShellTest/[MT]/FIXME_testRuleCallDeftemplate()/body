{
  String function="(deffunction max (?a ?b) (if (> ?a ?b) then (return ?a) else (return ?b) ) )";
  this.shell.eval(function);
  this.shell.eval("(import org.drools.*)");
  this.shell.eval("(defrule testRule (Person (age ?age) ) => (printout t hello) (printout t \" \" (max 3 ?age) ) )");
  this.shell.eval("(assert (Person (name mark) (age 32) ) )");
  this.shell.eval("(run)");
  assertEquals("hello 32",new String(this.baos.toByteArray()));
}
