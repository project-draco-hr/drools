{
  String function="(deffunction max (?a ?b) (if (> ?a ?b) then (return ?a) else (return ?b) ) )";
  this.shell.eval(function);
  String expr="(if (eq (max 3 5) 5) then (printout t right) else (printout t wrong) )";
  this.shell.eval(expr);
  assertEquals("right",new String(baos.toByteArray()));
  expr="(if (eq (max ?a ?b) 5) then (printout t right) else (printout t wrong)  )";
  this.shell.addVariable("$a","3");
  this.shell.addVariable("$b","5");
  this.shell.eval(expr);
  assertEquals("rightright",new String(baos.toByteArray()));
}
