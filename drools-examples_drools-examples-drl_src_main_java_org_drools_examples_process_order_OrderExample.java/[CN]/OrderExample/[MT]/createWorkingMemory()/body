{
  try {
    ruleBase=createKnowledgeBase();
    session=ruleBase.newStatefulSession();
    logger=new WorkingMemoryFileLogger(session);
    CustomerService customerService=new DefaultCustomerService();
    Customer c=new Customer("A-12345");
    Calendar birthday=Calendar.getInstance();
    birthday.set(1982,1,1);
    c.setBirthday(birthday.getTime());
    c.setFirstName("John");
    c.setLastName("Doe");
    customerService.addCustomer(c);
    session.setGlobal("customerService",customerService);
    ItemCatalog itemCatalog=new DefaultItemCatalog();
    Item i=new Item("I-9876");
    i.setName("PC game");
    i.setMinimalAge(18);
    itemCatalog.addItem(i);
    i=new Item("I-5432");
    i.setName("Laptop");
    itemCatalog.addItem(i);
    session.setGlobal("itemCatalog",itemCatalog);
    UIWorkItemHandler handler=new UIWorkItemHandler();
    session.getWorkItemManager().registerWorkItemHandler("Human Task",handler);
    handler.setVisible(true);
  }
 catch (  Throwable t) {
    t.printStackTrace();
  }
}
