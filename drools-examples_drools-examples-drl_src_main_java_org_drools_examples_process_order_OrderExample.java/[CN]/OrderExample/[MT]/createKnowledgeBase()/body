{
  PackageBuilder builder=new PackageBuilder();
  Reader source=new InputStreamReader(OrderExample.class.getResourceAsStream("RuleSetExample.rf"));
  builder.addProcessFromXml(source);
  source=new InputStreamReader(OrderExample.class.getResourceAsStream("workflow_rules.drl"));
  builder.addPackageFromDrl(source);
  source=new InputStreamReader(OrderExample.class.getResourceAsStream("validation.drl"));
  builder.addPackageFromDrl(source);
  source=new InputStreamReader(OrderExample.class.getResourceAsStream("logging.drl"));
  builder.addPackageFromDrl(source);
  RuleBaseConfiguration configuration=new RuleBaseConfiguration();
  configuration.setAdvancedProcessRuleIntegration(true);
  RuleBase ruleBase=RuleBaseFactory.newRuleBase(configuration);
  for (  Package p : builder.getPackages()) {
    if (!p.isValid()) {
      System.err.println("Invalid package " + p.getName() + ": "+ p.getErrorSummary());
    }
    ruleBase.addPackage(p);
  }
  return ruleBase;
}
