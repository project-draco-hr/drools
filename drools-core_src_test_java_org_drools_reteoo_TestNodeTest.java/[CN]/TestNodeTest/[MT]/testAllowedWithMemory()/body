{
  TestNode node=new TestNode(1,new MockTupleSource(15),new MockCondition(null,true),true);
  MockTupleSink sink=new MockTupleSink();
  node.addTupleSink(sink);
  FactHandleImpl f0=new FactHandleImpl(0);
  ReteTuple tuple=new ReteTuple(0,f0,this.workingMemory);
  node.assertTuple(tuple,this.context,this.workingMemory);
  TestNodeMemory memory=(TestNodeMemory)this.workingMemory.getNodeMemory(node);
  assertEquals(1,iteratorSize(memory.iterator(context,workingMemory)));
  assertEquals(tuple,memory.iterator(context,workingMemory).next());
  tuple.remove(context,workingMemory);
  assertEquals(0,iteratorSize(memory.iterator(context,workingMemory)));
}
