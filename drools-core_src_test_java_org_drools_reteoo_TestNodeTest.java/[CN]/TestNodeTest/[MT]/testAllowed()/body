{
  TestNode node=new TestNode(1,new MockTupleSource(15),new MockCondition(null,true));
  MockTupleSink sink=new MockTupleSink();
  node.addTupleSink(sink);
  FactHandleImpl f0=new FactHandleImpl(0);
  ReteTuple tuple=new ReteTuple(f0);
  node.assertTuple(tuple,this.context,this.workingMemory);
  LinkedList memory=(LinkedList)this.workingMemory.getNodeMemory(node);
  assertEquals(1,memory.size());
  assertEquals(tuple,memory.getFirst());
  node.retractTuple(tuple,context,workingMemory);
  assertEquals(0,memory.size());
}
