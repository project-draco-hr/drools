{
  final SlidingTimeWindowContext queue=(SlidingTimeWindowContext)context;
  final EventFactHandle handle=(EventFactHandle)fact;
  long currentTime=workingMemory.getTimerService().getCurrentTime();
  if (isExpired(currentTime,handle)) {
    return false;
  }
synchronized (queue.queue) {
    queue.queue.add(handle);
    if (queue.queue.peek() == handle) {
      updateNextExpiration(handle,pctx,workingMemory,queue,nodeId);
    }
  }
  return true;
}
