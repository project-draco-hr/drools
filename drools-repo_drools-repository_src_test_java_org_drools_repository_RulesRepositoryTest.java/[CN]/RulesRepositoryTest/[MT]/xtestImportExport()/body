{
  RulesRepository repo=RepositorySessionUtil.getRepository();
  byte[] repository_unitest;
  byte[] repository_backup;
  ByteArrayOutputStream bout=new ByteArrayOutputStream();
  repo.exportRulesRepositoryToStream(bout);
  repository_backup=bout.toByteArray();
  assertNotNull(repository_backup);
  repo.createPackage("testImportExport","nodescription");
  bout=new ByteArrayOutputStream();
  repo.exportRulesRepositoryToStream(bout);
  repository_unitest=bout.toByteArray();
  repo.importRulesRepositoryFromStream(new ByteArrayInputStream(repository_backup));
  assertFalse(repo.containsPackage("testImportExport"));
  repo.importRulesRepositoryFromStream(new ByteArrayInputStream(repository_unitest));
  assertTrue(repo.containsPackage("testImportExport"));
  repo.importRepository(new ByteArrayInputStream(repository_unitest));
  assertTrue(repo.containsPackage("testImportExport"));
}
