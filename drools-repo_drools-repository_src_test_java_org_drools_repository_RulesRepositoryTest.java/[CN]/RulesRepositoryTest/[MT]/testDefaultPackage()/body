{
  RulesRepository repo=getRepo();
  Iterator it=repo.listPackages();
  boolean foundDefault=false;
  while (it.hasNext()) {
    PackageItem item=(PackageItem)it.next();
    if (item.getName().equals(RulesRepository.DEFAULT_PACKAGE)) {
      foundDefault=true;
    }
  }
  assertTrue(foundDefault);
  PackageItem def=repo.loadDefaultPackage();
  assertNotNull(def);
  assertEquals(RulesRepository.DEFAULT_PACKAGE,def.getName());
  String userId=repo.getSession().getUserID();
  assertNotNull(userId);
  assertFalse(userId.equals(""));
  MigrateDroolsPackage mig=new MigrateDroolsPackage();
  assertFalse(mig.needsMigration(repo));
  assertTrue(repo.initialized);
}
