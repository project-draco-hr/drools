{
  RulesRepository repo=getRepo();
  PackageItem pkg=repo.createPackage("testMove","description");
  AssetItem r=pkg.addAsset("testMove","description");
  r.checkin("version0");
  String uuid=r.getUUID();
  assertEquals("testMove",r.getPackageName());
  repo.save();
  assertEquals(1,iteratorToList(pkg.getAssets()).size());
  repo.createPackage("testMove2","description");
  repo.moveRuleItemPackage("testMove2",r.node.getIdentifier(),"explanation");
  pkg=repo.loadPackage("testMove");
  assertEquals(0,iteratorToList(pkg.getAssets()).size());
  pkg=repo.loadPackage("testMove2");
  assertEquals(1,iteratorToList(pkg.getAssets()).size());
  r=(AssetItem)pkg.getAssets().next();
  assertEquals("testMove",r.getName());
  assertEquals("testMove2",r.getPackageName());
  assertEquals("explanation",r.getCheckinComment());
  AssetItem p=(AssetItem)r.getPrecedingVersion();
  assertEquals("testMove",p.getPackageName());
  assertEquals("version0",p.getCheckinComment());
  assertEquals(uuid,r.getUUID());
}
