{
  RulesRepository repo=getRepo();
  PackageItem original=repo.createPackage("testRenamePackage","asset");
  List packagesOriginal=iteratorToList(repo.listPackages());
  AssetItem item=repo.loadPackage("testRenamePackage").addAsset("testRenameAssetSource","desc");
  item.updateContent("la");
  item.checkin("");
  String uuid=repo.renamePackage(original.getUUID(),"testRenamePackage2");
  PackageItem pkg=repo.loadPackageByUUID(uuid);
  assertEquals("testRenamePackage2",pkg.getName());
  List assets=iteratorToList(repo.loadPackage("testRenamePackage2").getAssets());
  assertEquals(1,assets.size());
  item=(AssetItem)assets.get(0);
  assertEquals("testRenameAssetSource",item.getName());
  assertEquals("la",item.getContent());
  assertEquals("testRenamePackage2",item.getPackageName());
  List packageFinal=iteratorToList(repo.listPackages());
  assertEquals(packagesOriginal.size(),packageFinal.size());
}
