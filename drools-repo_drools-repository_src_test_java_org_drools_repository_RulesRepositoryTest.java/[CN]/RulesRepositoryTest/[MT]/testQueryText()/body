{
  RulesRepository repo=getRepo();
  PackageItem pkg=repo.createPackage("testQueryTest","");
  AssetItem asset=pkg.addAsset("asset1","testQueryText1");
  asset.updateSubject("testQueryText42");
  asset.checkin("firstCheckintestQueryTest");
  asset.updateFormat("drl");
  asset.checkin("firstCheckintestQueryTest2");
  pkg.addAsset("asset2","testQueryText2");
  repo.save();
  List<AssetItem> ls=iteratorToList(repo.queryFullText("testQueryText*",false));
  assertEquals(2,ls.size());
  ls=iteratorToList(repo.queryFullText("firstCheckintestQueryTest2",false));
  assertEquals(1,ls.size());
  ls=iteratorToList(repo.queryFullText("firstCheckintestQueryTest",false));
  assertEquals(0,ls.size());
  ls=iteratorToList(repo.queryFullText("testQueryText*",false));
  assertEquals(2,ls.size());
  asset.archiveItem(true);
  asset.checkin("");
  ls=iteratorToList(repo.queryFullText("testQueryText*",false));
  assertEquals(1,ls.size());
  ls=iteratorToList(repo.queryFullText("testQueryText*",true));
  assertEquals(2,ls.size());
}
