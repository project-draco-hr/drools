{
  KieServices ks=KieServices.Factory.get();
  buildVersion(ks,"Hello World","1.0");
  buildVersion(ks,"Aloha Earth","1.1");
  buildVersion(ks,"Hi Universe","1.2");
  GAV latestGav=ks.newGav("org.kie","hello-world","LATEST");
  KieSession ksession=ks.newKieContainer(latestGav).newKieSession("KSession1");
  ksession.insert(new Message("Hello World"));
  assertEquals(0,ksession.fireAllRules());
  ksession=ks.newKieContainer(latestGav).newKieSession("KSession1");
  ksession.insert(new Message("Hi Universe"));
  assertEquals(1,ksession.fireAllRules());
  GAV gav1=ks.newGav("org.kie","hello-world","1.0");
  ksession=ks.newKieContainer(gav1).newKieSession("KSession1");
  ksession.insert(new Message("Hello World"));
  assertEquals(1,ksession.fireAllRules());
  ksession=ks.newKieContainer(gav1).newKieSession("KSession1");
  ksession.insert(new Message("Hi Universe"));
  assertEquals(0,ksession.fireAllRules());
  GAV gav2=ks.newGav("org.kie","hello-world","[1.0,1.2)");
  ksession=ks.newKieContainer(gav2).newKieSession("KSession1");
  ksession.insert(new Message("Aloha Earth"));
  assertEquals(1,ksession.fireAllRules());
  ksession=ks.newKieContainer(gav2).newKieSession("KSession1");
  ksession.insert(new Message("Hi Universe"));
  assertEquals(0,ksession.fireAllRules());
}
