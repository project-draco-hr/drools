{
  super(rulesRepository,node);
  try {
    if (!(this.node.getPrimaryNodeType().getName().equals(RULE_NODE_TYPE_NAME) || isHistoricalVersion())) {
      String message=this.node.getName() + " is not a node of type " + RULE_NODE_TYPE_NAME+ " nor nt:version. It is a node of type: "+ this.node.getPrimaryNodeType().getName();
      log.error(message);
      throw new RulesRepositoryException(message);
    }
  }
 catch (  Exception e) {
    log.error("Caught exception",e);
    throw new RulesRepositoryException(e);
  }
}
