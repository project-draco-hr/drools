{
  try {
    if (StorageEventManager.hasLoadEvent() && !fromRepo) {
      return IOUtils.toString(StorageEventManager.getLoadEvent().loadContent(this));
    }
    if (isBinary()) {
      return new String(this.getBinaryContentAsBytes());
    }
    Node ruleNode=getVersionContentNode();
    if (ruleNode.hasProperty(CONTENT_PROPERTY_NAME)) {
      Property data=ruleNode.getProperty(CONTENT_PROPERTY_NAME);
      return data.getValue().getString();
    }
 else {
      return "";
    }
  }
 catch (  Exception e) {
    log.error("Caught Exception",e);
    throw new RulesRepositoryException(e);
  }
}
