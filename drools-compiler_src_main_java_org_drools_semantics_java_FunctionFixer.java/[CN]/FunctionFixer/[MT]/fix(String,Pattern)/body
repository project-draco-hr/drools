{
  if (raw == null)   return null;
  Matcher matcher=pattern.matcher(raw);
  if (matcher.matches()) {
    String pre=matcher.group(1);
    if (matcher.group(1) != null) {
      pre=fix(pre,pattern);
    }
    String function=matcher.group(2).trim();
    String params=matcher.group(3).trim();
    String post=matcher.group(4);
    if (post != null) {
      post=fix(post);
    }
    return pre + matcher.replaceAll(ucFirst(function) + "." + function+ "("+ params+ ")") + post;
  }
  return raw;
}
