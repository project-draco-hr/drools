{
  if (left instanceof String) {
    if (right instanceof String) {
      return ((String)left).compareTo((String)right);
    }
    final String seq1=(String)left;
    final CharSequence seq2=(CharSequence)right;
    int i=0;
    int n=Math.min(seq1.length(),seq2.length());
    while (n-- != 0) {
      final char c1=seq1.charAt(i);
      final char c2=seq2.charAt(i++);
      if (c1 != c2) {
        return c1 - c2;
      }
    }
    return seq1.length() - seq2.length();
  }
  if (right instanceof String) {
    return -compare(right,left);
  }
  final CharSequence seq1=(CharSequence)left;
  final CharSequence seq2=(CharSequence)right;
  int i=0;
  int n=Math.min(seq1.length(),seq2.length());
  while (n-- != 0) {
    final char c1=seq1.charAt(i);
    final char c2=seq2.charAt(i++);
    if (c1 != c2) {
      return c1 - c2;
    }
  }
  return seq1.length() - seq2.length();
}
