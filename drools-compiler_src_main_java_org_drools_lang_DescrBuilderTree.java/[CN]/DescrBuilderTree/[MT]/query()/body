{
  DescrBuilderTree.query_return retval=new DescrBuilderTree.query_return();
  retval.start=input.LT(1);
  DroolsTree start=null;
  DroolsTree id=null;
  DroolsTree end=null;
  List params=null;
  AndDescr lb=null;
  try {
{
      start=(DroolsTree)match(input,VK_QUERY,FOLLOW_VK_QUERY_in_query368);
      match(input,Token.DOWN,null);
      id=(DroolsTree)match(input,VT_QUERY_ID,FOLLOW_VT_QUERY_ID_in_query372);
      int alt8=2;
      int LA8_0=input.LA(1);
      if ((LA8_0 == VT_PARAM_LIST)) {
        alt8=1;
      }
switch (alt8) {
case 1:
{
          pushFollow(FOLLOW_parameters_in_query376);
          params=parameters();
          state._fsp--;
        }
      break;
  }
  pushFollow(FOLLOW_lhs_block_in_query381);
  lb=lhs_block();
  state._fsp--;
  end=(DroolsTree)match(input,VK_END,FOLLOW_VK_END_in_query385);
  match(input,Token.UP,null);
  retval.queryDescr=factory.createQuery(start,id,params,lb,end);
}
}
 catch (RecognitionException re) {
reportError(re);
recover(input,re);
}
 finally {
}
return retval;
}
