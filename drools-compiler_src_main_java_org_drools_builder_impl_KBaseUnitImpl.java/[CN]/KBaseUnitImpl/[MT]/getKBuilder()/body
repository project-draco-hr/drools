{
  if (kbuilder != null) {
    return kbuilder;
  }
  KnowledgeBuilderConfiguration kConf=KnowledgeBuilderFactory.newKnowledgeBuilderConfiguration(null,classLoader);
  kbuilder=KnowledgeBuilderFactory.newKnowledgeBuilder(kConf);
  CompositeKnowledgeBuilder ckbuilder=kbuilder.batch();
  buildKBaseFiles(ckbuilder,kieBaseDescr);
  if (includes != null) {
    for (    KieBaseDescr include : includes) {
      buildKBaseFiles(ckbuilder,include);
    }
  }
  ckbuilder.build();
  return kbuilder;
}
