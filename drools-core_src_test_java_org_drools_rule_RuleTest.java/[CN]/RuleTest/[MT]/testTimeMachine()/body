{
  final Rule rule=new Rule("myrule");
  rule.setEnabled(EnabledBoolean.ENABLED_TRUE);
  assertTrue(rule.isEffective(new TimeMachine(),null,null));
  final Calendar future=Calendar.getInstance();
  future.setTimeInMillis(future.getTimeInMillis() + 100000000);
  rule.setDateEffective(future);
  assertFalse(rule.isEffective(new TimeMachine(),null,null));
  assertTrue(rule.isEffective(new TimeMachine(){
    public Calendar getNow(){
      Calendar loveYouLongTime=Calendar.getInstance();
      loveYouLongTime.setTimeInMillis(future.getTimeInMillis() + 1000000000000L);
      return loveYouLongTime;
    }
  }
,null,null));
}
