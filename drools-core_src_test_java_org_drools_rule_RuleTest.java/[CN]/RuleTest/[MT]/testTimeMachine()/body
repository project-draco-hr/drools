{
  final Rule rule=new Rule("myrule");
  rule.setEnabled(true);
  assertTrue(rule.isEffective(new TimeMachine()));
  final Calendar future=Calendar.getInstance();
  future.setTimeInMillis(future.getTimeInMillis() + 100000000);
  rule.setDateEffective(future);
  assertFalse(rule.isEffective(new TimeMachine()));
  assertTrue(rule.isEffective(new TimeMachine(){
    public Calendar getNow(){
      Calendar loveYouLongTime=Calendar.getInstance();
      loveYouLongTime.setTimeInMillis(future.getTimeInMillis() + 1000000000000L);
      return loveYouLongTime;
    }
  }
));
}
