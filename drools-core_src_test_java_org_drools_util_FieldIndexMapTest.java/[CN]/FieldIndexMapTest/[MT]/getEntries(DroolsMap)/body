{
  Field field=DroolsMap.class.getDeclaredField("table");
  field.setAccessible(true);
  List list=new ArrayList();
  Entry[] array=(Entry[])field.get(map);
  for (int i=0, length=array.length; i < length; i++) {
    if (array[i] != null) {
      list.add(array[i]);
    }
  }
  return (Entry[])list.toArray(new Entry[list.size()]);
}
