{
  if (!smem.isSegmentLinked()) {
    GarbageCollector garbageCollector=((InternalAgenda)wm.getAgenda()).getGarbageCollector();
    garbageCollector.increaseDeleteCounter();
    if (stagedDeleteWasEmpty) {
synchronized (garbageCollector) {
        for (        PathMemory pmem : smem.getPathMemories()) {
          if (pmem.getNodeType() == NodeTypeEnums.RuleTerminalNode) {
            garbageCollector.add(pmem.getOrCreateRuleAgendaItem(wm));
          }
        }
      }
    }
  }
}
