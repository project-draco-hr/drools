{
  VerifierBuilder vBuilder=VerifierBuilderFactory.newVerifierBuilder();
  Verifier verifier=vBuilder.newVerifier();
  verifier.addResourcesToVerify(ResourceFactory.newClassPathResource("RedundantRules1.drl",getClass()),ResourceType.DRL);
  for (  VerifierError error : verifier.getErrors()) {
    System.out.println(error.getMessage());
  }
  assertFalse(verifier.hasErrors());
  boolean noProblems=verifier.fireAnalysis();
  assertTrue(noProblems);
  VerifierReport result=verifier.getResult();
  Collection<VerifierMessageBase> warnings=result.getBySeverity(Severity.WARNING);
  int counter=0;
  for (  VerifierMessageBase message : warnings) {
    if (message.getMessageType().equals(MessageType.REDUNDANCY)) {
      counter++;
    }
  }
  assertEquals(2,counter);
  verifier.dispose();
}
