{
  PackageBuilderConfiguration conf=new PackageBuilderConfiguration();
  XmlCompositionReader xmlReader=new XmlCompositionReader(conf.getSemanticModules());
  String str="";
  str+="<composition ";
  str+="xmlns='http://drools.org/drools-4.0/composition' ";
  str+="xmlns:xs='http://www.w3.org/2001/XMLSchema-instance' ";
  str+="xs:schemaLocation='http://drools.org/drools-4.0/composition drools-composition-4.0.xsd' >";
  str+="    <resource source='http://www.domain.com/test.drl' type='DRL' />";
  str+="    <resource source='http://www.domain.com/test.xls' type='DTABLE' >";
  str+="        <decisiontable-conf worksheet-name='sheet10' input-type='XLS' />";
  str+="    </resource>";
  str+="</composition>";
  StringReader reader=new StringReader(str);
  KnowledgeComposition composition=xmlReader.read(reader);
  assertEquals(2,composition.getResources().size());
  KnowledgeResource resource=composition.getResources().get(0);
  assertNull(resource.getConfiguration());
  assertEquals("http://www.domain.com/test.drl",resource.getSource());
  assertEquals(KnowledgeType.DRL,resource.getType());
  resource=composition.getResources().get(1);
  assertEquals("http://www.domain.com/test.xls",resource.getSource());
  assertEquals(KnowledgeType.DTABLE,resource.getType());
  DecisionTableConfiguration dtConf=(DecisionTableConfiguration)resource.getConfiguration();
  assertEquals(DecisionTableInputType.XLS,dtConf.getInputType());
}
