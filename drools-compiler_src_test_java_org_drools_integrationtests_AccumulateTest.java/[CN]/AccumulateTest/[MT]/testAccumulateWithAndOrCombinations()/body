{
  String rule="package org.drools.test;\n" + "import org.drools.Cheese;\n" + "import org.drools.Person;\n"+ "rule \"Class cast causer\"\n"+ "    when\n"+ "        $person      : Person( $likes : likes )\n"+ "        $total       : Number() from accumulate( $p : Person(likes != $likes, $l : likes) and $c : Cheese( type == $l ),\n"+ "                                                min($c.getPrice()) )\n"+ "        ($p2 : Person(name == 'nobody') or $p2 : Person(name == 'Doug'))\n"+ "    then\n"+ "        System.out.println($p2.getName());\n"+ "end\n";
  final Reader reader=new StringReader(rule);
  final RuleBase ruleBase=loadRuleBase(reader);
  final WorkingMemory wm=ruleBase.newStatefulSession();
  wm.insert(new Cheese("stilton",10));
  wm.insert(new Person("Alice","brie"));
  wm.insert(new Person("Bob","stilton"));
}
