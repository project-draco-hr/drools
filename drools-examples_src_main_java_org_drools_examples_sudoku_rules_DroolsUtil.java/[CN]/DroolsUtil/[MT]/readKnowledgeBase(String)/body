{
  KnowledgeBuilder kBuilder=KnowledgeBuilderFactory.newKnowledgeBuilder();
  for (  String drlFileName : drlFileNames) {
    kBuilder.add(ResourceFactory.newClassPathResource(drlFileName,org.drools.examples.sudoku.SudokuExample.class),ResourceType.DRL);
    if (kBuilder.hasErrors()) {
      for (      KnowledgeBuilderError err : kBuilder.getErrors()) {
        System.out.println(err.toString());
      }
      throw new IllegalStateException("DRL errors");
    }
  }
  KieBaseConfiguration kBaseConfig=KnowledgeBaseFactory.newKnowledgeBaseConfiguration();
  KnowledgeBase kBase=KnowledgeBaseFactory.newKnowledgeBase(kBaseConfig);
  kBase.addKnowledgePackages(kBuilder.getKnowledgePackages());
  return kBase;
}
