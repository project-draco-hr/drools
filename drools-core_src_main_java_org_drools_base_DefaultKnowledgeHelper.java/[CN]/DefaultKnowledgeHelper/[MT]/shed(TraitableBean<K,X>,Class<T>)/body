{
  if (trait.isAssignableFrom(core.getClass())) {
    core.removeTrait(trait.getName());
    update(core);
    return (Thing<K>)core;
  }
 else {
    retract(core.removeTrait(trait.getName()));
    Thing<K> thing=core.getTrait(Thing.class.getName());
    update(thing);
    return thing;
  }
}
