{
  TraitFactory builder=new TraitFactory(this.getKnowledgeRuntime().getKnowledgeBase());
  boolean needsWrapping=!(core instanceof TraitableBean);
  TraitableBean inner=needsWrapping ? asTraitable(core,builder) : (TraitableBean)core;
  return processTraits(core,trait,builder,needsWrapping,inner);
}
