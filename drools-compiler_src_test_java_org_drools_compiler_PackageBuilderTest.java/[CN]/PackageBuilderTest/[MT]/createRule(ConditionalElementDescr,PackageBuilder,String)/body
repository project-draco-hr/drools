{
  final PackageDescr packageDescr=new PackageDescr("p1");
  final RuleDescr ruleDescr=new RuleDescr("rule-1");
  packageDescr.addRule(ruleDescr);
  final AndDescr lhs=new AndDescr();
  ruleDescr.setLhs(lhs);
  lhs.addDescr((BaseDescr)ceDescr);
  final PatternDescr patternDescr=new PatternDescr(Cheese.class.getName(),"stilton");
  final FieldConstraintDescr literalDescr=new FieldConstraintDescr("type");
  literalDescr.addRestriction(new LiteralRestrictionDescr("==","stilton"));
  patternDescr.addDescr(literalDescr);
  ceDescr.addDescr(patternDescr);
  ruleDescr.setConsequence(consequence);
  builder.addPackage(packageDescr);
  final Package pkg=(Package)builder.getPackage();
  final Rule rule=pkg.getRule("rule-1");
  assertEquals("rule-1",rule.getName());
  return rule;
}
