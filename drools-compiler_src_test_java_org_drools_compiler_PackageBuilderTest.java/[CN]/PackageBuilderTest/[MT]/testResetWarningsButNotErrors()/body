{
  System.setProperty("drools.problem.severity." + DuplicateRuleProblem.KEY,"WARNING");
  System.setProperty("drools.problem.severity." + DuplicateFunctionProblem.KEY,"ERROR");
  final PackageBuilder builder=new PackageBuilder();
  final PackageDescr packageDescr1=createBasicPackageWithOneRule(11,1);
  final PackageDescr packageDescr2=createBasicPackageWithOneRule(22,2);
  builder.addPackage(packageDescr1);
  builder.addPackage(packageDescr2);
  builder.addPackageFromDrl(new StringReader("package foo \n rule ORB"));
  builder.addPackageFromDrl(new StringReader("package org.drools\n" + "function boolean testIt() {\n" + "  return true;\n"+ "}\n"));
  builder.addPackageFromDrl(new StringReader("package org.drools\n" + "function boolean testIt() {\n" + "  return false;\n"+ "}\n"));
  assertTrue(builder.hasWarnings());
  assertTrue(builder.hasErrors());
  builder.resetWarnings();
  assertFalse(builder.hasWarnings());
  assertTrue(builder.hasErrors());
}
