{
  PackageDescr pkgDescr=new PackageDescr("org.kie");
  TypeDeclarationDescr typeDescr=new TypeDeclarationDescr("StockTick");
  typeDescr.addAnnotation(TypeDeclaration.Role.ID,"event");
  typeDescr.addAnnotation(TypeDeclaration.ATTR_CLASS,"org.kie.StockTick");
  pkgDescr.addTypeDeclaration(typeDescr);
  PackageBuilder builder=new PackageBuilder();
  builder.addPackage(pkgDescr);
  if (builder.hasErrors()) {
    fail(builder.getErrors().toString());
  }
  Package pkg=builder.getPackage();
  assertEquals(1,pkg.getTypeDeclarations().size());
  TypeDeclaration type=pkg.getTypeDeclaration("StockTick");
  assertEquals("StockTick",type.getTypeName());
  assertEquals(TypeDeclaration.Role.EVENT,type.getRole());
  assertEquals(StockTick.class,type.getTypeClass());
}
