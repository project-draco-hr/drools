{
  NodeInstance result=nodeInstanceContainer.getFirstNodeInstance(node.getId());
  if (result != null) {
    return result;
  }
  try {
    NodeInstanceImpl nodeInstance=(NodeInstanceImpl)cls.newInstance();
    nodeInstance.setNodeId(node.getId());
    nodeInstance.setNodeInstanceContainer(nodeInstanceContainer);
    nodeInstance.setProcessInstance(processInstance);
    return nodeInstance;
  }
 catch (  Exception e) {
    throw new RuntimeException("Unable to instantiate node '" + this.cls.getName() + "': "+ e.getMessage());
  }
}
