{
  PackageBuilder builder=new PackageBuilder();
  builder.addPackageFromDrl(new InputStreamReader(MannersBenchmark.class.getResourceAsStream("manners.drl")));
  Package pkg=builder.getPackage();
  final RuleBase ruleBase=RuleBaseFactory.newRuleBase();
  ruleBase.addPackage(pkg);
  WorkingMemory workingMemory=ruleBase.newWorkingMemory();
  InputStream is=MannersBenchmark.class.getResourceAsStream("manners64.dat");
  List list=getInputObjects(is);
  for (Iterator it=list.iterator(); it.hasNext(); ) {
    Object object=it.next();
    workingMemory.assertObject(object);
  }
  workingMemory.assertObject(new Count(1));
  long start=System.currentTimeMillis();
  workingMemory.fireAllRules();
  System.err.println(System.currentTimeMillis() - start);
}
