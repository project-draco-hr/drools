{
  if (this.tailRecord != null) {
    Object ret=this.tailRecord.object;
    TableRecord buf=this.tailRecord;
    this.tailRecord=buf.left;
    if (buf.left != null) {
      this.tailRecord.right=null;
    }
    buf.left=null;
    map.remove(((Token)ret).getDominantFactHandle().getId());
    return ret;
  }
 else {
    throw new EmptyStackException();
  }
}
