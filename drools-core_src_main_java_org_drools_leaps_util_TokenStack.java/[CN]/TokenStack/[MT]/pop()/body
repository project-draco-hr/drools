{
  if (this.tailRecord != null) {
    final Object ret=this.tailRecord.object;
    final TableRecord buf=this.tailRecord;
    this.tailRecord=buf.left;
    if (buf.left != null) {
      this.tailRecord.right=null;
    }
    buf.left=null;
    this.map.remove(((Token)ret).getDominantFactHandle().getId());
    return ret;
  }
 else {
    throw new EmptyStackException();
  }
}
