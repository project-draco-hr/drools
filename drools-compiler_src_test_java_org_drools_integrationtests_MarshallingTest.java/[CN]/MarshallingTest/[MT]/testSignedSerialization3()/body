{
  try {
    setPrivateKeyProperties();
    PackageBuilder builder=new PackageBuilder();
    builder.addPackageFromDrl(new InputStreamReader(getClass().getResourceAsStream("test_Dynamic1_0.drl")));
    RuleBase ruleBase=RuleBaseFactory.newRuleBase();
    ruleBase.addPackage(builder.getPackage());
    byte[] serializedRulebase=DroolsStreamUtils.streamOut(ruleBase);
    try {
      ruleBase=(RuleBase)DroolsStreamUtils.streamIn(serializedRulebase);
      fail("Deserialisation should have failed.");
    }
 catch (    Exception e) {
    }
  }
  finally {
    unsetPrivateKeyProperties();
  }
}
