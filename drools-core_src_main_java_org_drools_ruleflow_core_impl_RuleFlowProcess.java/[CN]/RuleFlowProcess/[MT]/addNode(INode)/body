{
  validateAddNode(node);
  if (!nodes.containsValue(node)) {
    node.setId(++lastNodeId);
    nodes.put(new Long(node.getId()),node);
  }
}
