{
  if (!isBuilt() && gav != null && kModuleModel != null) {
    trgMfs=new MemoryFileSystem();
    writePomAndKModule();
    compileJavaClasses();
    addKBasesFilesToTrg();
    kModule=new MemoryKieModule(gav,kModuleModel,trgMfs);
    if (dependencies != null && !dependencies.isEmpty()) {
      for (      KieModule kieModule : dependencies) {
        kModule.addDependency((InternalKieModule)kieModule);
      }
    }
    buildKieModule(kModule,results);
  }
  return this;
}
