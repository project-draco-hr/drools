{
  if (srcMfs.isAvailable(KieModuleModelImpl.KMODULE_SRC_PATH)) {
    kModuleModelXml=srcMfs.getBytes(KieModuleModelImpl.KMODULE_SRC_PATH);
    try {
      kModuleModel=KieModuleModelImpl.fromXML(new ByteArrayInputStream(kModuleModelXml));
    }
 catch (    Exception e) {
      messages.addMessage(Level.ERROR,"kmodule.xml","kmodulet.xml found, but unable to read\n" + e.getMessage());
    }
  }
 else {
    KieFactory kf=KieFactory.Factory.get();
    kModuleModel=kf.newKieModuleModel();
    ((KieModuleModelImpl)kModuleModel).newDefaultKieBaseModel();
    kModuleModelXml=kModuleModel.toXML().getBytes();
  }
}
