{
  if (otnIterator != null) {
    LeftTuple leftParent=leftTuple.getLeftParent();
    while (leftTuple != null) {
      leftTuple=leftTuple.getLeftParentNext();
      for (; leftTuple != null; leftTuple=leftTuple.getLeftParentNext()) {
        if (leftTuple.getLeftTupleSink() == sink) {
          return leftTuple;
        }
      }
    }
    if (leftParent != null) {
      while (leftParent != null) {
        leftParent=getNextLeftTuple(source.getLeftTupleSource(),(LeftTupleSink)source,leftParent,wm);
        if (leftParent != null) {
          for (leftTuple=leftParent.getFirstChild(); leftTuple != null; leftTuple=leftTuple.getLeftParentNext()) {
            if (leftTuple.getLeftTupleSink() == sink) {
              return leftTuple;
            }
          }
        }
      }
      return null;
    }
    while (otnIterator.hasNext()) {
      InternalFactHandle handle=otnIterator.next();
      for (leftTuple=handle.getFirstLeftTuple(); leftTuple != null; leftTuple=leftTuple.getLeftParentNext()) {
        if (leftTuple.getLeftTupleSink() == sink) {
          return leftTuple;
        }
      }
    }
    otnIterator=null;
  }
 else   if (wm.getKnowledgeBase().getConfiguration().isPhreakEnabled() && source instanceof AccumulateNode) {
    BetaMemory memory=((AccumulateMemory)wm.getNodeMemory((MemoryFactory)source)).betaMemory;
    FastIterator localIt=memory.getLeftTupleMemory().fullFastIterator(leftTuple.getParent());
    LeftTuple childLeftTuple=leftTuple;
    if (childLeftTuple != null) {
      leftTuple=childLeftTuple.getParent();
      while (leftTuple != null) {
        if (childLeftTuple == null) {
          childLeftTuple=leftTuple.getFirstChild();
        }
 else {
          childLeftTuple=childLeftTuple.getLeftParentNext();
        }
        for (; childLeftTuple != null; childLeftTuple=childLeftTuple.getLeftParentNext()) {
          if (childLeftTuple.getLeftTupleSink() == sink) {
            return childLeftTuple;
          }
        }
        leftTuple=(LeftTuple)localIt.next(leftTuple);
      }
    }
  }
 else   if (source instanceof JoinNode || source instanceof NotNode || source instanceof FromNode|| source instanceof AccumulateNode) {
    BetaMemory memory;
    FastIterator localIt;
    if (source instanceof FromNode) {
      memory=((FromMemory)wm.getNodeMemory((MemoryFactory)source)).betaMemory;
    }
 else     if (source instanceof AccumulateNode) {
      memory=((AccumulateMemory)wm.getNodeMemory((MemoryFactory)source)).betaMemory;
    }
 else {
      memory=(BetaMemory)wm.getNodeMemory((MemoryFactory)source);
    }
    localIt=memory.getLeftTupleMemory().fullFastIterator(leftTuple.getLeftParent());
    LeftTuple childLeftTuple=leftTuple;
    if (childLeftTuple != null) {
      leftTuple=childLeftTuple.getLeftParent();
      while (leftTuple != null) {
        if (childLeftTuple == null) {
          childLeftTuple=leftTuple.getFirstChild();
        }
 else {
          childLeftTuple=childLeftTuple.getLeftParentNext();
        }
        for (; childLeftTuple != null; childLeftTuple=childLeftTuple.getLeftParentNext()) {
          if (childLeftTuple.getLeftTupleSink() == sink) {
            return childLeftTuple;
          }
        }
        leftTuple=(LeftTuple)localIt.next(leftTuple);
      }
    }
  }
  if (source instanceof ExistsNode) {
    BetaMemory memory=(BetaMemory)wm.getNodeMemory((MemoryFactory)source);
    RightTuple rightTuple=leftTuple.getLeftParent().getBlocker();
    FastIterator localIt=memory.getRightTupleMemory().fullFastIterator(rightTuple);
    for (LeftTuple childleftTuple=leftTuple.getLeftParentNext(); childleftTuple != null; childleftTuple=childleftTuple.getLeftParentNext()) {
      if (childleftTuple.getLeftTupleSink() == sink) {
        return childleftTuple;
      }
    }
    leftTuple=leftTuple.getLeftParent();
    while (rightTuple != null) {
      if (rightTuple.getBlocked() != null) {
        if (leftTuple != null) {
          leftTuple=leftTuple.getBlockedNext();
        }
 else {
          leftTuple=rightTuple.getBlocked();
        }
        for (; leftTuple != null; leftTuple=leftTuple.getBlockedNext()) {
          for (LeftTuple childleftTuple=leftTuple.getFirstChild(); childleftTuple != null; childleftTuple=childleftTuple.getLeftParentNext()) {
            if (childleftTuple.getLeftTupleSink() == sink) {
              return childleftTuple;
            }
          }
        }
      }
      rightTuple=(RightTuple)localIt.next(rightTuple);
    }
  }
 else   if (source instanceof EvalConditionNode || source instanceof QueryElementNode) {
    LeftTuple childLeftTuple=leftTuple;
    if (leftTuple != null) {
      leftTuple=leftTuple.getLeftParent();
      while (leftTuple != null) {
        if (childLeftTuple != null) {
          childLeftTuple=childLeftTuple.getLeftParentNext();
        }
 else {
          childLeftTuple=leftTuple.getFirstChild();
        }
        for (; childLeftTuple != null; childLeftTuple=childLeftTuple.getLeftParentNext()) {
          if (childLeftTuple.getLeftTupleSink() == sink) {
            return childLeftTuple;
          }
        }
        if (source instanceof EvalConditionNode) {
          leftTuple=getNextLeftTuple(((EvalConditionNode)source).getLeftTupleSource(),(LeftTupleSink)source,leftTuple,wm);
        }
 else {
          leftTuple=getNextLeftTuple(((QueryElementNode)source).getLeftTupleSource(),(LeftTupleSink)source,leftTuple,wm);
        }
      }
    }
  }
  return null;
}
