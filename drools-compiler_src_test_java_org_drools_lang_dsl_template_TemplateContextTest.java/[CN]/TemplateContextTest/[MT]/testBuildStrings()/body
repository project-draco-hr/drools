{
  final Template ctx=new Template();
  ctx.addChunk("baby on board").addChunk("{0}").addChunk("and").addChunk("{1}").addChunk("burt ward");
  final String grammar_r="something({0}, {1})";
  final String nl="yeah this is an expression baby on board exp1 and exp2 burt ward end.";
  final HashMap map=new HashMap();
  ctx.processNL(nl,map);
  final String subKey=ctx.getSubstitutionKey();
  assertEquals("baby on board exp1 and exp2 burt ward",subKey);
  final String target=ctx.populateTargetString(map,grammar_r);
  assertEquals("something(exp1, exp2)",target);
  final String result=ctx.interpolate(nl,subKey,target);
  assertEquals("yeah this is an expression something(exp1, exp2) end.",result);
}
