{
  PvmNodeConf conf=this.nodeRegistry.getRuleFlowNodeConf(node);
  if (conf == null) {
    throw new IllegalArgumentException("Illegal node type: " + node.getClass());
  }
  RuleFlowNodeInstance nodeInstance=conf.getNodeInstance(node,this);
  if (nodeInstance == null) {
    throw new IllegalArgumentException("Illegal node type: " + node.getClass());
  }
  return nodeInstance;
}
