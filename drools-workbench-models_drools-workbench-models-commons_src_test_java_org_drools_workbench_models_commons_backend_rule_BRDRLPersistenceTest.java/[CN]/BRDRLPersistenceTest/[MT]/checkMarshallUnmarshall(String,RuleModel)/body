{
  String drl=brlPersistence.marshal(m);
  assertNotNull(drl);
  if (expected != null) {
    assertEqualsIgnoreWhitespace(expected,drl);
  }
  PackageDataModelOracle dmo=mock(PackageDataModelOracle.class);
  RuleModel unmarshalledModel=brlPersistence.unmarshal(drl,dmo);
  if (expected != null) {
    assertEqualsIgnoreWhitespace(expected,brlPersistence.marshal(unmarshalledModel));
  }
 else {
    assertEquals(drl,brlPersistence.marshal(unmarshalledModel));
  }
}
