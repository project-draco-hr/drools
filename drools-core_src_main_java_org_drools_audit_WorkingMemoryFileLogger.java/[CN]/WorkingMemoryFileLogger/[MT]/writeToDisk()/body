{
  try {
    final XStream xstream=new XStream();
    final ObjectOutputStream out=xstream.createObjectOutputStream(new FileWriter(this.fileName + (this.nbOfFile == 0 ? ".log" : this.nbOfFile + ".log"),false));
    out.writeObject(this.events);
    out.close();
    this.nbOfFile++;
    clear();
  }
 catch (  final FileNotFoundException exc) {
    throw new RuntimeException("Could not create the log file.  Please make sure that directory that the log file should be placed in does exist.");
  }
catch (  final Throwable t) {
    t.printStackTrace(System.err);
  }
}
