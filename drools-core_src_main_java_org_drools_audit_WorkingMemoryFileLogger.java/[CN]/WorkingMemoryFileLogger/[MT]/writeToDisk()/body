{
  try {
    XStream xstream=new XStream();
    ObjectOutputStream out=xstream.createObjectOutputStream(new FileWriter(fileName + (nbOfFile == 0 ? ".log" : nbOfFile + ".log"),false));
    out.writeObject(events);
    out.close();
    nbOfFile++;
    clear();
  }
 catch (  FileNotFoundException exc) {
    throw new RuntimeException("Could not create the log file.  Please make sure that directory that the log file should be placed in does exist.");
  }
catch (  Throwable t) {
    t.printStackTrace(System.err);
  }
}
