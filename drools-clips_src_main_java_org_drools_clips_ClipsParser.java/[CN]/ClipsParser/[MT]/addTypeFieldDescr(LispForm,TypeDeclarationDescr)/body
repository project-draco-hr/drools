{
  if (!(lispForm.getSExpressions()[0] instanceof SymbolLispAtom)) {
    throw new RuntimeException("should specify a slot");
  }
  SymbolLispAtom slot=(SymbolLispAtom)lispForm.getSExpressions()[0];
  if (!"slot".equals(slot.getValue().trim())) {
    throw new RuntimeException("should specify a slot");
  }
  if (!(lispForm.getSExpressions()[1] instanceof SymbolLispAtom)) {
    throw new RuntimeException("should specify a slot name");
  }
  SymbolLispAtom slotName=(SymbolLispAtom)lispForm.getSExpressions()[1];
  if (!(lispForm.getSExpressions()[2] instanceof LispForm)) {
    throw new RuntimeException("should specify a type");
  }
  LispForm typeForm=(LispForm)lispForm.getSExpressions()[2];
  if (!(typeForm.getSExpressions()[0] instanceof SymbolLispAtom)) {
    throw new RuntimeException("should specify a type");
  }
  SymbolLispAtom type=(SymbolLispAtom)typeForm.getSExpressions()[0];
  if (!"type".equals(type.getValue().trim())) {
    throw new RuntimeException("should specify a type");
  }
  if (!(typeForm.getSExpressions()[1] instanceof SymbolLispAtom)) {
    throw new RuntimeException("should specify a slot name");
  }
  SymbolLispAtom typeName=(SymbolLispAtom)typeForm.getSExpressions()[1];
  TypeFieldDescr fieldDescr=new TypeFieldDescr(removeQuotes(slotName.getValue()),new PatternDescr(removeQuotes(typeName.getValue())));
  typeDescr.addField(fieldDescr);
}
