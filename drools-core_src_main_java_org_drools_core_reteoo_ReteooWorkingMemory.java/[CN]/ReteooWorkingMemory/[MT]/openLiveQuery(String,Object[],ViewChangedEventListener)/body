{
  try {
    startOperation();
    this.ruleBase.readLock();
    this.lock.lock();
    this.ruleBase.executeQueuedActions();
    executeQueuedActions();
    DroolsQuery queryObject=new DroolsQuery(query,arguments,new OpenQueryViewChangedEventListenerAdapter(listener),true,null,null,null,null);
    InternalFactHandle handle=this.handleFactory.newFactHandle(queryObject,null,this,this);
    final PropagationContext pCtx=new PropagationContextImpl(getNextPropagationIdCounter(),PropagationContext.INSERTION,null,null,handle,agenda.getActiveActivations(),agenda.getDormantActivations(),getEntryPoint());
    BaseNode[] tnodes=evalQuery(queryObject.getName(),queryObject,handle,pCtx);
    executeQueuedActions();
    return new LiveQueryImpl(this,handle);
  }
  finally {
    this.lock.unlock();
    this.ruleBase.readUnlock();
    endOperation();
  }
}
