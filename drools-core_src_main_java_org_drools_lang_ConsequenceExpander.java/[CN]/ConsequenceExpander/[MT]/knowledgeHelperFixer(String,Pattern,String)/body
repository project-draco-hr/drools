{
  Matcher matcher=pattern.matcher(raw);
  if (matcher.matches()) {
    String pre=matcher.group(1);
    if (matcher.group(1) != null) {
      pre=knowledgeHelperFixer(pre,pattern,action);
    }
    String obj=matcher.group(2).trim();
    String post=matcher.group(3);
    if (post != null) {
      post=knowledgeHelperFixer(post,pattern,action);
    }
    return pre + matcher.replaceAll("drools." + action + "("+ obj+ "Handle, "+ obj+ ")") + post;
  }
  return raw;
}
