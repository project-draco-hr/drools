{
  context.getBuildStack().push(context.getRule().getLhs());
  final DroolsMVELFactory factory=new DroolsMVELFactory();
  factory.setPreviousDeclarationMap(context.getDeclarationResolver().getDeclarations());
  factory.setGlobalsMap(context.getPkg().getGlobals());
  final Serializable expr=MVEL.compileExpression((String)ruleDescr.getConsequence());
  context.getRule().setConsequence(new MVELConsequence(expr,factory));
}
