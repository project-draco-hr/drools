{
  context.getBuildStack().push(context.getRule().getLhs());
  DroolsMVELFactory factory=new DroolsMVELFactory();
  factory.setPreviousDeclarationMap(context.getDeclarationResolver().getDeclarations());
  factory.setGlobalsMap(context.getPkg().getGlobals());
  Serializable expr=MVEL.compileExpression(ruleDescr.getConsequence());
  context.getRule().setConsequence(new MVELConsequence(expr,factory));
}
