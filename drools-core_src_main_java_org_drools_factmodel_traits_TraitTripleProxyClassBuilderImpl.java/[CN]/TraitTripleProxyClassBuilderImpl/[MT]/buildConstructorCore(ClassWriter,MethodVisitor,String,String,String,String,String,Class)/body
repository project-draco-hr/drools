{
  mv.visitVarInsn(ALOAD,0);
  mv.visitMethodInsn(INVOKESPECIAL,BuildUtils.getInternalType(TraitFactory.proxyBaseClass.getName()),"<init>","()V");
  if (mixinClass != null) {
    try {
      Class actualArg=getPossibleConstructor(mixinClass,trait.getDefinedClass());
      mv.visitVarInsn(ALOAD,0);
      mv.visitTypeInsn(NEW,BuildUtils.getInternalType(mixinClass.getName()));
      mv.visitInsn(DUP);
      mv.visitVarInsn(ALOAD,0);
      mv.visitMethodInsn(INVOKESPECIAL,BuildUtils.getInternalType(mixinClass.getName()),"<init>","(" + BuildUtils.getTypeDescriptor(actualArg.getName()) + ")V");
      mv.visitFieldInsn(PUTFIELD,internalProxy,mixin,BuildUtils.getTypeDescriptor(mixinClass.getName()));
    }
 catch (    NoSuchMethodException nsme) {
      mv.visitVarInsn(ALOAD,0);
      mv.visitTypeInsn(NEW,BuildUtils.getInternalType(mixinClass.getName()));
      mv.visitInsn(DUP);
      mv.visitMethodInsn(INVOKESPECIAL,BuildUtils.getInternalType(mixinClass.getName()),"<init>","()V");
      mv.visitFieldInsn(PUTFIELD,internalProxy,mixin,BuildUtils.getTypeDescriptor(mixinClass.getName()));
    }
  }
  mv.visitVarInsn(ALOAD,0);
  mv.visitVarInsn(ALOAD,1);
  mv.visitFieldInsn(PUTFIELD,internalProxy,"object",descrCore);
  mv.visitVarInsn(ALOAD,0);
  mv.visitVarInsn(ALOAD,2);
  mv.visitFieldInsn(PUTFIELD,internalProxy,"store","Lorg/drools/core/util/TripleStore;");
  mv.visitVarInsn(ALOAD,0);
  mv.visitTypeInsn(NEW,internalWrapper);
  mv.visitInsn(DUP);
  mv.visitVarInsn(ALOAD,1);
  mv.visitVarInsn(ALOAD,2);
  mv.visitMethodInsn(INVOKESPECIAL,internalWrapper,"<init>","(" + descrCore + "Lorg/drools/core/util/TripleStore;)V");
  mv.visitFieldInsn(PUTFIELD,internalProxy,"fields","Ljava/util/Map;");
  mv.visitVarInsn(ALOAD,1);
  mv.visitTypeInsn(NEW,"org/drools/factmodel/traits/TripleBasedBean");
  mv.visitInsn(DUP);
  mv.visitVarInsn(ALOAD,1);
  mv.visitVarInsn(ALOAD,2);
  mv.visitMethodInsn(INVOKESPECIAL,"org/drools/factmodel/traits/TripleBasedBean","<init>","(Ljava/lang/Object;Lorg/drools/core/util/TripleStore;)V");
  mv.visitMethodInsn(INVOKEVIRTUAL,internalCore,"setDynamicProperties","(Ljava/util/Map;)V");
  mv.visitVarInsn(ALOAD,1);
  mv.visitTypeInsn(NEW,"org/drools/factmodel/traits/TripleBasedTypes");
  mv.visitInsn(DUP);
  mv.visitVarInsn(ALOAD,1);
  mv.visitVarInsn(ALOAD,2);
  mv.visitMethodInsn(INVOKESPECIAL,"org/drools/factmodel/traits/TripleBasedTypes","<init>","(Ljava/lang/Object;Lorg/drools/core/util/TripleStore;)V");
  mv.visitMethodInsn(INVOKEVIRTUAL,internalCore,"setTraitMap","(Ljava/util/Map;)V");
  return 0;
}
