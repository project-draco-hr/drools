{
synchronized (this.resourcesMap) {
    this.listener.info("KnowledgeAgent applying ChangeSet");
    ChangeSetState changeSetState=new ChangeSetState();
    changeSetState.scanDirectories=this.scanDirectories;
    changeSetState.incrementalBuild=!(this.newInstance);
    processChangeSet(changeSet,changeSetState);
    buildKnowledgeBase(changeSetState);
    buildResourceMapping();
  }
}
