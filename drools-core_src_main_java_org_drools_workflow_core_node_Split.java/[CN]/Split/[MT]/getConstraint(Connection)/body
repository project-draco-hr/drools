{
  if (connection == null) {
    throw new IllegalArgumentException("connection is null");
  }
  final HashMap<Connection,Constraint> newMap=new HashMap<Connection,Constraint>();
  for (final Iterator<Map.Entry<Connection,Constraint>> it=this.constraints.entrySet().iterator(); it.hasNext(); ) {
    final Entry<Connection,Constraint> entry=it.next();
    newMap.put(entry.getKey(),entry.getValue());
  }
  this.constraints=newMap;
  if (this.type == TYPE_OR || this.type == TYPE_XOR) {
    return this.constraints.get(connection);
  }
  throw new UnsupportedOperationException("Constraints are " + "only supported with XOR or OR split types, not with: " + getType());
}
