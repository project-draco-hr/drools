{
  if (this.type == TYPE_OR || this.type == TYPE_XOR) {
    if (connection == null) {
      throw new IllegalArgumentException("connection is null");
    }
    if (getOutgoingConnections(org.drools.workflow.core.Node.CONNECTION_DEFAULT_TYPE) != null && !getOutgoingConnections(org.drools.workflow.core.Node.CONNECTION_DEFAULT_TYPE).contains(connection)) {
      throw new IllegalArgumentException("connection is unknown:" + connection);
    }
    internalSetConstraint(new ConnectionRef(connection.getTo().getId(),connection.getToType()),constraint);
  }
 else {
    throw new UnsupportedOperationException("Constraints are " + "only supported with XOR or OR split types, not with type:" + getType());
  }
}
