{
  final ReteooRuleBase ruleBase=(ReteooRuleBase)RuleBaseFactory.newRuleBase();
  final Rete rete=ruleBase.getRete();
  final ObjectTypeNode objectTypeNode=new ObjectTypeNode(1,new ClassObjectType(Object.class),rete,3);
  objectTypeNode.attach();
  final ObjectTypeNode stringTypeNode=new ObjectTypeNode(2,new ClassObjectType(String.class),rete,3);
  stringTypeNode.attach();
  final Field field=Rete.class.getDeclaredField("objectTypeNodes");
  field.setAccessible(true);
  final ObjectHashMap map=(ObjectHashMap)field.get(rete);
  assertEquals(2,map.size());
  assertNotNull(map.get(new ClassObjectType(Object.class)));
  assertNotNull(map.get(new ClassObjectType(String.class)));
}
