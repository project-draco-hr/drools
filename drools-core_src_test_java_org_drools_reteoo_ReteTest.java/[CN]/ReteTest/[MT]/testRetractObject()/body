{
  PropagationContext context=new PropagationContextImpl(PropagationContext.ASSERTION,null,null);
  FactHandleImpl handle1=new FactHandleImpl(1);
  FactHandleImpl handle2=new FactHandleImpl(2);
  this.workingMemory.putObject(handle1,"cheese1");
  this.workingMemory.putObject(handle2,new Object());
  this.rete.retractObject(handle1,context,this.workingMemory);
  this.rete.retractObject(handle2,context,this.workingMemory);
  List retracted=null;
  MockObjectSink sink1=(MockObjectSink)this.objectTypeNode.getObjectSinks().get(0);
  retracted=sink1.getRetracted();
  assertLength(2,retracted);
  Object[] results=(Object[])retracted.get(0);
  assertSame(handle1,results[0]);
  results=(Object[])retracted.get(1);
  assertSame(handle2,results[0]);
  MockObjectSink sink2=(MockObjectSink)this.stringTypeNode.getObjectSinks().get(0);
  retracted=sink2.getRetracted();
  assertLength(1,retracted);
  results=(Object[])retracted.get(0);
  assertSame(handle1,results[0]);
  MockObjectSink sink3=(MockObjectSink)this.cheeseTypeNode.getObjectSinks().get(0);
  assertLength(0,sink3.getRetracted());
}
