{
  String expr="field1!.field2";
  String expectedNullCheck="field1 != null && ";
  String expectedExpr="field1.field2";
  AtomicExprDescr atomicExpr=new AtomicExprDescr(expr);
  String[] nullCheckAndExpr=dumper.processImplicitConstraints(expr,atomicExpr,null);
  assertEquals(expectedNullCheck,nullCheckAndExpr[0]);
  assertEquals(expectedExpr,nullCheckAndExpr[1]);
  assertEquals(expectedExpr,atomicExpr.getRewrittenExpression());
  expr="field1!.field2!.field3";
  expectedNullCheck="field1 != null && field1.field2 != null && ";
  expectedExpr="field1.field2.field3";
  atomicExpr=new AtomicExprDescr(expr);
  nullCheckAndExpr=dumper.processImplicitConstraints(expr,atomicExpr,null);
  assertEquals(expectedNullCheck,nullCheckAndExpr[0]);
  assertEquals(expectedExpr,nullCheckAndExpr[1]);
  assertEquals(expectedExpr,atomicExpr.getRewrittenExpression());
}
