{
  StringBuffer valuePatternBuffer=new StringBuffer();
  StringBuffer valueBuffer=new StringBuffer();
  if (headMatchGroupAdded) {
    valuePatternBuffer.append("$1");
    valueBuffer.append("$1");
  }
  valuePatternBuffer.append(value);
  valueBuffer.append(value);
  if (tailMatchGroupAdded) {
    Integer tailMatchGroupIndex=(Integer)Collections.max(variables.values()) + 1;
    valuePatternBuffer.append("$" + tailMatchGroupIndex);
    valueBuffer.append("$" + tailMatchGroupIndex);
  }
  this.valuePattern=valuePatternBuffer.toString();
  this.value=valueBuffer.toString();
}
