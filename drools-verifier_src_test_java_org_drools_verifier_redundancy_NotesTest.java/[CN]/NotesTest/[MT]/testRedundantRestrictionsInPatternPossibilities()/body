{
  StatelessSession session=getStatelessSession(this.getClass().getResourceAsStream("Notes.drl"));
  session.setAgendaFilter(new RuleNameMatchesAgendaFilter("Find redundant restrictions from pattern possibilities"));
  Collection<Object> objects=new ArrayList<Object>();
  LiteralRestriction left=new LiteralRestriction();
  LiteralRestriction right=new LiteralRestriction();
  Redundancy redundancy=new Redundancy(RedundancyType.STRONG,left,right);
  SubPattern possibility=new SubPattern();
  possibility.add(left);
  possibility.add(right);
  objects.add(left);
  objects.add(right);
  objects.add(redundancy);
  objects.add(possibility);
  VerifierReport result=VerifierReportFactory.newVerifierReport();
  session.setGlobal("result",result);
  session.executeWithResults(objects);
  Collection<VerifierMessageBase> notes=result.getBySeverity(Severity.NOTE);
  assertEquals(1,notes.size());
  VerifierMessageBase note=notes.iterator().next();
  assertTrue(note.getFaulty().equals(redundancy));
}
