{
  RepositoryManager repo=getRepo();
  RuleDef newRule=new RuleDef("my rule RWT","content");
  newRule.addTag("RWT").addTag("RWT2");
  repo.save(newRule);
  RuleDef rule=repo.loadRule("my rule RWT",1);
  assertNotNull(rule);
  assertEquals("my rule RWT",rule.getName());
  Set tags=rule.getTags();
  assertEquals(2,tags.size());
  Tag firstTag=(Tag)rule.getTags().iterator().next();
  assertTrue(firstTag.getTag().equals("RWT") || firstTag.getTag().equals("RWT2"));
  List rules=repo.findRulesByTag("RWT");
  assertEquals(1,rules.size());
  rule=(RuleDef)rules.get(0);
  assertEquals("my rule RWT",rule.getName());
}
