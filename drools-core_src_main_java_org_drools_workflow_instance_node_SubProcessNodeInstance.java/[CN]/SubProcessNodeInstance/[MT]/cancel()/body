{
  super.cancel();
  if (!getSubProcessNode().isIndependent()) {
    ProcessInstance processInstance=(ProcessInstance)((ProcessInstance)getProcessInstance()).getWorkingMemory().getProcessInstance(processInstanceId);
    processInstance.setState(ProcessInstance.STATE_ABORTED);
  }
}
