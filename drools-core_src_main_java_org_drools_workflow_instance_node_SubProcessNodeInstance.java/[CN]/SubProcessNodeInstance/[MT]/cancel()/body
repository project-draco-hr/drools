{
  super.cancel();
  if (!getSubProcessNode().isIndependent()) {
    InternalProcessInstance processInstance=(InternalProcessInstance)((InternalProcessInstance)getProcessInstance()).getWorkingMemory().getProcessInstance(processInstanceId);
    processInstance.setState(ProcessInstance.STATE_ABORTED);
  }
}
