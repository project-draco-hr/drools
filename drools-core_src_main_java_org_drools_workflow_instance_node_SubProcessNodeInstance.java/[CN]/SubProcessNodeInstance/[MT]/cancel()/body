{
  super.cancel();
  if (!getSubProcessNode().isIndependent()) {
    ProcessInstance processInstance=(ProcessInstance)((ProcessInstance)getProcessInstance()).getWorkingMemory().getProcessInstance(processInstanceId);
    if (processInstance != null) {
      processInstance.setState(ProcessInstance.STATE_ABORTED);
    }
  }
}
