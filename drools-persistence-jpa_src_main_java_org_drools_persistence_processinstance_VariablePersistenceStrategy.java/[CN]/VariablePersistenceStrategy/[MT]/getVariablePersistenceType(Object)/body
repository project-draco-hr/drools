{
  if (o == null) {
    return null;
  }
  String className=o.getClass().getCanonicalName();
  String persisterFQN=types.get(className);
  if (persisterFQN != null && !persisterFQN.equals("")) {
    return persisterFQN;
  }
  Annotation[] annotations=o.getClass().getDeclaredAnnotations();
  if (annotations != null) {
    for (    Annotation annotation : annotations) {
      persisterFQN=types.get(annotation.annotationType().getName());
      if (persisterFQN != null && !persisterFQN.equals("")) {
        return persisterFQN;
      }
    }
  }
  Class<?> clazz=o.getClass();
  do {
    Class<?>[] interfaces=clazz.getInterfaces();
    for (    Class<?> interfaze : interfaces) {
      persisterFQN=types.get(interfaze.getName());
      if (persisterFQN != null && !persisterFQN.equals("")) {
        System.out.println("Persistence strategy returns: " + persisterFQN);
        return persisterFQN;
      }
    }
  }
 while ((clazz=clazz.getSuperclass()) != null);
  return null;
}
