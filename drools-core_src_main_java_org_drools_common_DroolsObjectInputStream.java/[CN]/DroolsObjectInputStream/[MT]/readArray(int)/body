{
  Class clazz=(Class)readObject();
  int length=dataInput.readInt();
  Class componentType=clazz.getComponentType();
  Object array=Array.newInstance(componentType,length);
  registerObject(handle,array);
  if (componentType.isPrimitive()) {
    readPrimitiveArray(array,length,componentType);
  }
 else {
    readObjectArray((Object[])array,length);
  }
  return array;
}
