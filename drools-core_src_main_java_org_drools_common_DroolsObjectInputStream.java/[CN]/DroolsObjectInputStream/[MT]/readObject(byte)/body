{
  int handle=readHandle();
switch (type) {
case RT_EXTERNALIZABLE:
    return readExternalizable(handle);
case RT_STRING:
  return readString(handle);
case RT_MAP:
return readMap(handle);
case RT_COLLECTION:
return readCollection(handle);
case RT_ARRAY:
return readArray(handle);
case RT_CLASS:
return readClass(handle);
case RT_REFERENCE:
return readReference(handle);
case RT_ATOMICREFERENCEARRAY:
return readAtomicReferenceArray(handle);
case RT_SERIALIZABLE:
return readSerializable(handle);
default :
throw new StreamCorruptedException("Unsupported object type: " + type);
}
}
