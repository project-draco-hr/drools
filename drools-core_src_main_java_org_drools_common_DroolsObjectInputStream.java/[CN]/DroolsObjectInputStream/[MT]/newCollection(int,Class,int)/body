{
  Object collection;
  try {
    Constructor constructor=clazz.getConstructor(Integer.TYPE);
    collection=constructor.newInstance(size);
  }
 catch (  InstantiationException e) {
    throw newInvalidClassException(clazz,e);
  }
catch (  IllegalAccessException e) {
    throw newInvalidClassException(clazz,e);
  }
catch (  InvocationTargetException e) {
    throw newInvalidClassException(clazz,e);
  }
catch (  NoSuchMethodException e) {
    try {
      Constructor constructor=clazz.getConstructor();
      collection=constructor.newInstance();
    }
 catch (    Exception e2) {
      throw newInvalidClassException(clazz,e2);
    }
  }
  registerObject(handle,collection);
  return collection;
}
