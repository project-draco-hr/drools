{
  WorkflowProcessInstance processInstance=instance.getProcessInstance();
  RuleFlowGroup systemRuleFlowGroup=processInstance.getAgenda().getRuleFlowGroup("DROOLS_SYSTEM");
  String rule="RuleFlow-Split-" + processInstance.getProcess().getId() + "-"+ instance.getNode().getId()+ "-"+ connection.getTo().getId();
  for (Iterator activations=systemRuleFlowGroup.iterator(); activations.hasNext(); ) {
    Activation activation=((RuleFlowGroupNode)activations.next()).getActivation();
    if (rule.equals(activation.getRule().getName())) {
      return true;
    }
  }
  return false;
}
