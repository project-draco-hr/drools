{
  final List chunks=lex();
  final StringBuffer regex=new StringBuffer();
  final List holes=new ArrayList();
  for (final Iterator iter=chunks.iterator(); iter.hasNext(); ) {
    final String chunk=(String)iter.next();
    if (chunk.startsWith("{")) {
      holes.add(chunk);
      regex.append("\\b(.*)\\b");
    }
 else {
      regex.append(replace(chunk," ","\\s"));
    }
  }
  this.holes=holes;
  this.templatePattern=Pattern.compile("\\s*" + regex.toString() + "\\s*");
}
