{
  String className=consequenceName + "Consequence";
  Map<String,Declaration> decls=context.getDeclarationResolver().getDeclarations(context.getRule(),consequenceName);
  JavaAnalysisResult analysis=JavaRuleBuilderHelper.createJavaAnalysisResult(context,consequenceName,decls);
  if (analysis == null) {
    return null;
  }
  String fixedConsequence=DialectUtil.fixBlockDescr(context,analysis,decls);
  if (fixedConsequence == null) {
    return null;
  }
  fixedConsequence=KnowledgeHelperFixer.fix(fixedConsequence);
  return JavaRuleBuilderHelper.createConsequenceContext(context,consequenceName,className,fixedConsequence,decls,analysis.getBoundIdentifiers());
}
