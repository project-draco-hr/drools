{
  Set<Declaration> decl=new HashSet<Declaration>();
  Set<String> locals=new HashSet<String>();
  for (  Object constr : this.constraints) {
    if (constr instanceof Constraint) {
      for (      Declaration d : ((Constraint)constr).getRequiredDeclarations()) {
        if (!locals.contains(d.getIdentifier())) {
          decl.add(d);
        }
      }
    }
 else {
      locals.add(((Declaration)constr).getIdentifier());
    }
  }
  return decl.toArray(new Declaration[decl.size()]);
}
