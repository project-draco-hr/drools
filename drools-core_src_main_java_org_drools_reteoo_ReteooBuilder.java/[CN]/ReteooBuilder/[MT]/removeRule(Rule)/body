{
  InternalWorkingMemory[] workingMemories=this.ruleBase.getWorkingMemories();
  final Object object=this.rules.remove(rule);
  final BaseNode[] nodes=(BaseNode[])object;
  final RuleRemovalContext context=new RuleRemovalContext(rule);
  if (ruleBase.getConfiguration().isUnlinkingEnabled() && !(ReteooRuleBuilder.unlinkingAllowedForRule(rule))) {
    context.setUnlinkEnabled(true);
  }
 else {
    context.setUnlinkEnabled(false);
  }
  for (  final BaseNode node : nodes) {
    node.remove(context,this,null,workingMemories);
  }
  resetMasks(context);
}
