{
  String rule1="$b : B() A( i == 10 )";
  KnowledgeBase kbase=getKnowledgeBase(rule1);
  ReteooWorkingMemoryInterface wm=((StatefulKnowledgeSessionImpl)kbase.newStatefulKnowledgeSession()).session;
  ObjectTypeNode otn=getObjectTypeNode(kbase,"A");
  List<String> sp=PropertySpecificUtil.getSettableProperties(wm,otn);
  AlphaNode alphaNode=(AlphaNode)otn.getSinkPropagator().getSinks()[0];
  assertEquals(PropertySpecificUtil.calculateMaskFromPattern(list("i"),0L,sp),alphaNode.getDeclaredMask());
  BetaNode betaNode=(BetaNode)alphaNode.getSinkPropagator().getSinks()[0];
  assertEquals(0L,betaNode.getDeclaredMask());
}
