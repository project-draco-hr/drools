{
  String rule1="B() @watch(a) A() @watch(a)";
  KnowledgeBase kbase=getKnowledgeBase(rule1);
  ReteooWorkingMemoryInterface wm=((StatefulKnowledgeSessionImpl)kbase.newStatefulKnowledgeSession()).session;
  ObjectTypeNode otn=getObjectTypeNode(kbase,"A");
  assertNotNull(otn);
  List<String> sp=getSettableProperties(wm,otn);
  BetaNode betaNode=(BetaNode)otn.getSinkPropagator().getSinks()[0];
  assertEquals(calculateMaskFromPattern(list("a"),0L,sp),betaNode.getRightDeclaredMask());
  assertEquals(calculateMaskFromPattern(list("a"),0L,sp),betaNode.getRightInferredMask());
  assertEquals(calculateMaskFromPattern(list("a"),0L,sp),betaNode.getLeftDeclaredMask());
  assertEquals(calculateMaskFromPattern(list("a"),0L,sp),betaNode.getLeftInferredMask());
}
