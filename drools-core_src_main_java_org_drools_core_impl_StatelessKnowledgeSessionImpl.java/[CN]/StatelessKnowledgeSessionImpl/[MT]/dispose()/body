{
  AbstractWorkingMemory wm=(AbstractWorkingMemory)((StatefulKnowledgeSessionImpl)ksession).getInternalWorkingMemory();
  for (  org.drools.core.event.AgendaEventListener listener : wm.getAgendaEventSupport().getEventListeners()) {
    this.agendaEventSupport.removeEventListener(listener);
  }
  for (  org.drools.core.event.WorkingMemoryEventListener listener : wm.getWorkingMemoryEventSupport().getEventListeners()) {
    this.workingMemoryEventSupport.removeEventListener(listener);
  }
  InternalProcessRuntime processRuntime=wm.getProcessRuntime();
  if (processRuntime != null) {
    for (    ProcessEventListener listener : processRuntime.getProcessEventListeners()) {
      this.processEventSupport.removeEventListener(listener);
    }
  }
  initialized=false;
  ksession.dispose();
  ksession=null;
}
