{
  if (!org.drools.workflow.core.Node.CONNECTION_DEFAULT_TYPE.equals(type)) {
    throw new IllegalArgumentException("A TimerNode only accepts default incoming connections!");
  }
  TimerInstance timer=createTimerInstance();
  if (getTimerInstances() == null) {
    addTimerListener();
  }
  ((ProcessInstance)getProcessInstance()).getWorkingMemory().getTimerManager().registerTimer(timer,(ProcessInstance)getProcessInstance());
  timerId=timer.getId();
}
