{
  final PartitionTaskManager.Action action=context.mock(PartitionTaskManager.Action.class);
  DeterministicScheduler pool=new DeterministicScheduler();
  ExternalExecutorService service=new ExternalExecutorService(pool);
  manager.setPool(service);
  context.checking(new Expectations(){
{
      oneOf(action).execute(workingMemory);
    }
  }
);
  taskManager.enqueue(action);
  pool.runUntilIdle();
  context.assertIsSatisfied();
}
