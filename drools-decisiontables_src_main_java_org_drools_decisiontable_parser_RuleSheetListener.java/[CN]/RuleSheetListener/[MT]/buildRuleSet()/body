{
  final String rulesetName=getProperties().getProperty(RuleSheetListener.RULESET_TAG,"rule_table");
  final Package ruleset=new Package(rulesetName);
  for (final Iterator it=this._ruleList.iterator(); it.hasNext(); ) {
    ruleset.addRule((Rule)it.next());
  }
  final List importList=RuleSheetParserUtil.getImportList(getProperties().getProperty(RuleSheetListener.IMPORT_TAG));
  for (final Iterator it=importList.iterator(); it.hasNext(); ) {
    ruleset.addImport((Import)it.next());
  }
  final List variableList=RuleSheetParserUtil.getVariableList(getProperties().getProperty(RuleSheetListener.VARIABLES_TAG));
  for (final Iterator it=variableList.iterator(); it.hasNext(); ) {
    ruleset.addVariable((Global)it.next());
  }
  final String functions=getProperties().getProperty(RuleSheetListener.FUNCTIONS_TAG);
  ruleset.addFunctions(functions);
  return ruleset;
}
