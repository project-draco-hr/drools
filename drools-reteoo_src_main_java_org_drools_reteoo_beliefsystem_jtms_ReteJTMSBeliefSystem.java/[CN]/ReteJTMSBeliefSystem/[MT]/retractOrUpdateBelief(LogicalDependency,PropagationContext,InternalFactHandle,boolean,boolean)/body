{
  JTMSBeliefSetImpl jtmsBeliefSet=(JTMSBeliefSetImpl)fh.getEqualityKey().getBeliefSet();
  if (jtmsBeliefSet.getWorkingMemoryAction() == null) {
    WorkingMemoryAction action=new BeliefSystemLogicalCallback(fh,context,node.getJustifier(),update,fullyRetract);
    ((NamedEntryPoint)fh.getEntryPoint()).enQueueWorkingMemoryAction(action);
  }
 else {
    BeliefSystemLogicalCallback callback=(BeliefSystemLogicalCallback)jtmsBeliefSet.getWorkingMemoryAction();
    callback.setFullyRetract(fullyRetract);
    callback.setUpdate(update);
  }
}
