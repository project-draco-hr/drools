{
  KnowledgePackage pkg1=getKnowledgePackage1();
  KnowledgePackage pkg2=getKnowledgePackage1();
  KnowledgePackage pkg3=getKnowledgePackage2();
  Rule rule1=((KnowledgePackageImp)pkg1).pkg.getRule("rule1");
  Rule rule2=((KnowledgePackageImp)pkg2).pkg.getRule("rule1");
  Rule rule3=((KnowledgePackageImp)pkg3).pkg.getRule("rule1");
  Pattern p1=(Pattern)rule1.getLhs().getChildren().get(0);
  Constraint rvc1=p1.getConstraints().get(0);
  Pattern p2=(Pattern)rule2.getLhs().getChildren().get(0);
  Constraint rvc2=p2.getConstraints().get(0);
  assertNotSame(rvc1,rvc2);
  assertEquals(rvc1,rvc2);
  Pattern p3=(Pattern)rule3.getLhs().getChildren().get(0);
  Constraint rvc3=p3.getConstraints().get(0);
  assertNotSame(rvc1,rvc3);
  assertThat(rvc1,not(equalTo(rvc3)));
  PredicateConstraint pc1=(PredicateConstraint)p1.getConstraints().get(1);
  PredicateExpression pe1=(PredicateExpression)pc1.getPredicateExpression();
  PredicateConstraint pc2=(PredicateConstraint)p2.getConstraints().get(1);
  PredicateExpression pe2=(PredicateExpression)pc2.getPredicateExpression();
  assertNotSame(pe1,pe2);
  assertEquals(pe1,pe2);
  PredicateConstraint pc3=(PredicateConstraint)p3.getConstraints().get(1);
  PredicateExpression pe3=(PredicateExpression)pc3.getPredicateExpression();
  assertNotSame(pe1,pe3);
  assertThat(pe1,not(equalTo(pe3)));
  EvalCondition ec1=(EvalCondition)rule1.getLhs().getChildren().get(1);
  EvalExpression ee1=(EvalExpression)ec1.getEvalExpression();
  EvalCondition ec2=(EvalCondition)rule2.getLhs().getChildren().get(1);
  EvalExpression ee2=(EvalExpression)ec2.getEvalExpression();
  assertNotSame(ee1,ee2);
  assertEquals(ee1,ee2);
  EvalCondition ec3=(EvalCondition)rule3.getLhs().getChildren().get(1);
  EvalExpression ee3=(EvalExpression)ec3.getEvalExpression();
  assertNotSame(ee1,ee3);
  assertThat(ee1,not(equalTo(ee3)));
  assertNotSame(rule1.getConsequence(),rule2.getConsequence());
  assertEquals(rule1.getConsequence(),rule2.getConsequence());
  assertNotSame(rule1.getConsequence(),rule3.getConsequence());
  assertThat(rule1.getConsequence(),not(equalTo(rule3.getConsequence())));
  assertNotSame(rule1.getLhs(),rule2.getLhs());
  assertEquals(rule1.getLhs(),rule2.getLhs());
  assertNotSame(rule1.getLhs(),rule3.getLhs());
  assertThat(rule1.getLhs(),not(equalTo(rule3.getLhs())));
}
