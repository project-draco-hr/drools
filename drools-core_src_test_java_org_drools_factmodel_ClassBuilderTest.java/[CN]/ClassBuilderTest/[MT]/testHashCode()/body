{
  try {
    ClassBuilder builder=new ClassBuilder();
    ClassDefinition classDef=new ClassDefinition("br.com.auster.TestClass3",null,new String[]{});
    FieldDefinition intDef=new FieldDefinition("intAttr","int",true);
    FieldDefinition strDef=new FieldDefinition("stringAttr","java.lang.String",false);
    classDef.addField(intDef);
    classDef.addField(strDef);
    Class clazz=builder.buildAndLoadClass(classDef);
    Object x=clazz.newInstance();
    intDef.setValue(x,new Integer(10));
    strDef.setValue(x,"abc");
    Assert.assertEquals("Wrong hashcode calculation",(new Integer(10)).hashCode(),x.hashCode());
    Assert.assertEquals("Wrong hashcode calculation",x.hashCode(),x.hashCode());
  }
 catch (  Exception e) {
    e.printStackTrace();
    Assert.fail("Exception not expected");
  }
}
