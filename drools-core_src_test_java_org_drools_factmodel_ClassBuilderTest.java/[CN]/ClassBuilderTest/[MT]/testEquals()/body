{
  try {
    ClassBuilder builder=new ClassBuilder();
    ClassDefinition classDef=new ClassDefinition("org.drools.TestClass2",null,new String[]{});
    FieldDefinition long1Def=new FieldDefinition("longAttr1","long",true);
    FieldDefinition long2Def=new FieldDefinition("longAttr2","long",true);
    FieldDefinition doubleDef=new FieldDefinition("doubleAttr","double",true);
    FieldDefinition intDef=new FieldDefinition("intAttr","int",true);
    FieldDefinition strDef=new FieldDefinition("stringAttr","java.lang.String",true);
    FieldDefinition dateDef=new FieldDefinition("dateAttr","java.util.Date",true);
    FieldDefinition str2Def=new FieldDefinition("stringAttr2","java.lang.String");
    classDef.addField(long1Def);
    classDef.addField(long2Def);
    classDef.addField(doubleDef);
    classDef.addField(intDef);
    classDef.addField(strDef);
    classDef.addField(dateDef);
    classDef.addField(str2Def);
    Class clazz=builder.buildAndLoadClass(classDef);
    long1Def.setReadWriteAccessor(store.getAccessor(clazz,long1Def.getName(),classLoader));
    long2Def.setReadWriteAccessor(store.getAccessor(clazz,long2Def.getName(),classLoader));
    doubleDef.setReadWriteAccessor(store.getAccessor(clazz,doubleDef.getName(),classLoader));
    intDef.setReadWriteAccessor(store.getAccessor(clazz,intDef.getName(),classLoader));
    strDef.setReadWriteAccessor(store.getAccessor(clazz,strDef.getName(),classLoader));
    dateDef.setReadWriteAccessor(store.getAccessor(clazz,dateDef.getName(),classLoader));
    str2Def.setReadWriteAccessor(store.getAccessor(clazz,str2Def.getName(),classLoader));
    Object x=clazz.newInstance();
    Object y=clazz.newInstance();
    long1Def.setValue(x,new Long(20));
    long2Def.setValue(x,new Long(30));
    doubleDef.setValue(x,new Double(50.0));
    intDef.setValue(x,new Integer(10));
    strDef.setValue(x,"abc");
    dateDef.setValue(x,new Date(1000));
    str2Def.setValue(x,"instance1");
    long1Def.setValue(y,new Long(20));
    long2Def.setValue(y,new Long(30));
    doubleDef.setValue(y,new Double(50.0));
    intDef.setValue(y,new Integer(10));
    strDef.setValue(y,"abc");
    dateDef.setValue(y,new Date(1000));
    str2Def.setValue(y,"instance2");
    Object o=new Object();
    Assert.assertTrue(x.equals(x));
    Assert.assertFalse(x.equals(null));
    Assert.assertFalse(x.equals(o));
    Assert.assertTrue(x.equals(y));
    intDef.setValue(y,new Integer(1));
    Assert.assertFalse(x.equals(y));
    intDef.setValue(y,new Integer(10));
    strDef.setValue(y,"xyz");
    Assert.assertFalse(x.equals(y));
    strDef.setValue(y,null);
    Assert.assertFalse(x.equals(y));
    strDef.setValue(y,"abc");
    dateDef.setValue(y,new Date(1));
    Assert.assertFalse(x.equals(y));
    dateDef.setValue(y,null);
    Assert.assertFalse(x.equals(y));
  }
 catch (  Exception e) {
    e.printStackTrace();
    Assert.fail("Exception not expected");
  }
}
