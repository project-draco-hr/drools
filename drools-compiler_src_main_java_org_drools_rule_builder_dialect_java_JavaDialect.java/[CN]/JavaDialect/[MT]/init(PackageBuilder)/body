{
  this.packageBuilder=builder;
  this.pkg=builder.getPackage();
  this.configuration=(JavaDialectConfiguration)builder.getPackageBuilderConfiguration().getDialectConfiguration("java");
  this.typeResolver=builder.getTypeResolver();
  this.classFieldExtractorCache=builder.getClassFieldExtractorCache();
  this.knowledgeHelperFixer=new KnowledgeHelperFixer();
  this.typeFixer=new DeclarationTypeFixer();
  this.analyzer=new JavaExprAnalyzer();
  if (pkg != null) {
    init(pkg);
  }
  if (this.builders == null) {
    initBuilder();
  }
  loadCompiler();
}
