{
  final String functionClassName=this.pkg.getName() + "." + StringUtils.ucFirst(functionDescr.getName());
  this.pkg.addFunction(functionDescr.getName());
  final String functionSrc=getFunctionBuilder().build(this.pkg,functionDescr,typeResolver,pkg.getPackageCompilationData().getLineMappings(),this.results);
  addClassCompileTask(functionClassName,functionDescr,functionSrc,this.src,new FunctionErrorHandler(functionDescr,"Function Compilation error"));
  final LineMappings mapping=new LineMappings(functionClassName);
  mapping.setStartLine(functionDescr.getLine());
  mapping.setOffset(functionDescr.getOffset());
  pkg.getPackageCompilationData().getLineMappings().put(functionClassName,mapping);
}
