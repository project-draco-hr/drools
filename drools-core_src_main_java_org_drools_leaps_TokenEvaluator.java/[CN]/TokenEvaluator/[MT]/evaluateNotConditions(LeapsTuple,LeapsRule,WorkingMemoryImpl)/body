{
  FactHandleImpl factHandle;
  TableIterator tableIterator;
  ColumnConstraints constraint;
  ColumnConstraints[] not=rule.getNotColumnConstraints();
  for (int i=0, length=not.length; i < length; i++) {
    constraint=not[i];
    tableIterator=workingMemory.getFactTable(constraint.getClassType()).iterator();
    while (tableIterator.hasNext()) {
      factHandle=(FactHandleImpl)tableIterator.next();
      if (constraint.isAllowed(factHandle,tuple,workingMemory)) {
        tuple.addNotFactHandle(factHandle,i);
        factHandle.addNotTuple(tuple,i);
      }
    }
  }
}
