{
  ColumnConstraints[] exists=rule.getExistsColumnConstraints();
  for (int i=0, length=exists.length; i < length; i++) {
    ColumnConstraints constraint=exists[i];
    TableIterator tableIterator=workingMemory.getFactTable(constraint.getClassType()).reverseOrderIterator();
    boolean done=false;
    while (!done && tableIterator.hasNext()) {
      FactHandleImpl factHandle=(FactHandleImpl)tableIterator.next();
      if (constraint.isAllowed(factHandle,tuple,workingMemory)) {
        tuple.setExistsFactHandle(factHandle,i);
        factHandle.addExistsTuple(tuple,i);
        done=true;
      }
    }
  }
}
