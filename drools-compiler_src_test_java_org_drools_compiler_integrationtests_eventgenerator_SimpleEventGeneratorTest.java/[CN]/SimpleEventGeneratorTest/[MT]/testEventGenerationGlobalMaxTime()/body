{
  final Reader reader=new InputStreamReader(getClass().getResourceAsStream(TEST_RULE_FILE));
  final RuleBase ruleBase=loadRuleBase(reader);
  final WorkingMemory wm=ruleBase.newStatefulSession();
  final SimpleEventGenerator myGenerator;
  myGenerator=new SimpleEventGenerator(wm,new SimpleEventListener(wm),PseudoSessionClock.timeInMinutes(1));
  myGenerator.addEventSource("Conveyor1",new Event(EventType.CUSTOM,null),PseudoSessionClock.timeInSeconds(4),PseudoSessionClock.timeInSeconds(6),PseudoSessionClock.timeInMinutes(3),0);
  myGenerator.generate();
  assertEquals(wm.getQueryResults("all inserted events").size(),wm.getQueryResults("all inserted events with generation time < 1 min").size());
}
