{
  for (  String resourceName : currentKM.getFileNames()) {
    if (!resourceName.endsWith(".properties") && filterFileInKBase(currentKM,kieBaseModel,resourceName)) {
      Resource resource=currentKM.getResource(resourceName);
      kbuilder.removeObjectsGeneratedFromResource(resource);
    }
  }
  for (  String resourceName : newKM.getFileNames()) {
    if (!resourceName.endsWith(".properties") && filterFileInKBase(newKM,kieBaseModel,resourceName)) {
      newKM.addResourceToCompiler(ckbuilder,resourceName);
    }
  }
}
