{
  KnowledgeBase kbase=loadRuleBase();
  StatefulKnowledgeSession session=kbase.newStatefulKnowledgeSession();
  KnowledgeRuntimeLogger logger=KnowledgeRuntimeLoggerFactory.newConsoleLogger(session);
  session.setGlobal("services",this);
  for (  Company company : this.companies.getCompanies()) {
    session.insert(company);
  }
  session.fireAllRules();
  return session;
}
