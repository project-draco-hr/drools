{
  try {
    ClassFieldInspector inspector=new ClassFieldInspector(clazz);
    Class fieldType=(Class)inspector.getFieldTypes().get(fieldName);
    String originalClassName=clazz.getName().replace('.','/');
    String getterName=((Method)inspector.getGetterMethods().get(fieldName)).getName();
    String className=BASE_PACKAGE + "/" + originalClassName+ "$"+ getterName;
    String typeName=getTypeName(fieldType);
    byte[] bytes=dump(originalClassName,className,getterName,typeName,fieldType,clazz.isInterface());
    ByteArrayClassLoader classLoader=new ByteArrayClassLoader(Thread.currentThread().getContextClassLoader());
    Class newClass=classLoader.defineClass(className.replace('/','.'),bytes);
    Object[] params={clazz,fieldName};
    return (BaseClassFieldExtractor)newClass.getConstructors()[0].newInstance(params);
  }
 catch (  Exception e) {
    throw new RuntimeDroolsException(e);
  }
}
