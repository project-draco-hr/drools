{
  try {
    Class fieldType=getFieldType(clazz,fieldName);
    String originalClassName=clazz.getName().replace('.','/');
    String getterName=getGetterName(clazz,fieldName);
    String className=BASE_PACKAGE + "/" + originalClassName+ "$"+ getterName;
    String typeName=getTypeName(fieldType);
    byte[] bytes=dump(originalClassName,className,getterName,typeName,fieldType);
    ByteArrayClassLoader classLoader=new ByteArrayClassLoader(Thread.currentThread().getContextClassLoader());
    Class newClass=classLoader.defineClass(className.replace('/','.'),bytes);
    Object[] params={clazz,fieldName};
    return (BaseClassFieldExtractor)newClass.getConstructors()[0].newInstance(params);
  }
 catch (  Exception e) {
    throw new RuntimeDroolsException(e);
  }
}
