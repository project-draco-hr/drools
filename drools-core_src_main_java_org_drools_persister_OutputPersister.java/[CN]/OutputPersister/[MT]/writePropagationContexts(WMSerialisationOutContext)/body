{
  ObjectOutputStream stream=context.stream;
  Map<LeftTuple,Integer> tuples=context.terminalTupleMap;
  if (!tuples.isEmpty()) {
    Map<Long,PropagationContext> pcMap=new HashMap<Long,PropagationContext>();
    for (    LeftTuple leftTuple : tuples.keySet()) {
      PropagationContext pc=leftTuple.getActivation().getPropagationContext();
      if (!pcMap.containsKey(pc.getPropagationNumber())) {
        stream.writeInt(PersisterEnums.PROPAGATION_CONTEXT);
        writePropagationContext(context,pc);
        pcMap.put(pc.getPropagationNumber(),pc);
      }
    }
  }
  stream.writeInt(PersisterEnums.END);
}
