{
  try {
    Node content=getVersionContentNode();
    Property stateProperty=content.getProperty(STATE_PROPERTY_NAME);
    Node stateNode=this.rulesRepository.getSession().getNodeByIdentifier(stateProperty.getString());
    return new StateItem(this.rulesRepository,stateNode);
  }
 catch (  PathNotFoundException e) {
    return null;
  }
catch (  Exception e) {
    log.error("Caught exception",e);
    throw new RulesRepositoryException(e);
  }
}
