{
  checkIsUpdateable();
  try {
    this.node.setProperty(LAST_MODIFIED_PROPERTY_NAME,Calendar.getInstance());
    this.node.setProperty(CHECKIN_COMMENT,comment);
    this.node.setProperty(LAST_CONTRIBUTOR_PROPERTY_NAME,this.node.getSession().getUserID());
    long nextVersion=getVersionNumber() + 1;
    this.node.setProperty(VERSION_NUMBER_PROPERTY_NAME,nextVersion);
    this.node.getSession().save();
    getVersionManager(this.node).checkin(this.node.getPath());
    if (StorageEventManager.hasSaveEvent()) {
      if (this instanceof AssetItem) {
        StorageEventManager.getSaveEvent().onAssetCheckin((AssetItem)this);
      }
    }
    StorageEventManager.doCheckinEvents(this);
  }
 catch (  RepositoryException e) {
    throw new RulesRepositoryException("Unable to checkin.",e);
  }
}
