{
  final StringBuffer message=new StringBuffer();
  message.append(this.source + ":" + e.line+ ":"+ e.charPositionInLine+ " ");
  if (e instanceof MismatchedTokenException) {
    final MismatchedTokenException mte=(MismatchedTokenException)e;
    message.append("mismatched token: " + e.token + "; expecting type "+ RuleParser.tokenNames[mte.expecting]);
  }
 else   if (e instanceof MismatchedTreeNodeException) {
    final MismatchedTreeNodeException mtne=(MismatchedTreeNodeException)e;
    message.append("mismatched tree node: " + mtne.foundNode + "; expecting type "+ RuleParser.tokenNames[mtne.expecting]);
  }
 else   if (e instanceof NoViableAltException) {
    final NoViableAltException nvae=(NoViableAltException)e;
    message.append("Unexpected token '" + e.token.getText() + "'");
  }
 else   if (e instanceof EarlyExitException) {
    final EarlyExitException eee=(EarlyExitException)e;
    message.append("required (...)+ loop (decision=" + eee.decisionNumber + ") did not match anything; token="+ e.token);
  }
 else   if (e instanceof MismatchedSetException) {
    final MismatchedSetException mse=(MismatchedSetException)e;
    message.append("mismatched token '" + e.token + "' expecting set "+ mse.expecting);
  }
 else   if (e instanceof MismatchedNotSetException) {
    final MismatchedNotSetException mse=(MismatchedNotSetException)e;
    message.append("mismatched token '" + e.token + "' expecting set "+ mse.expecting);
  }
 else   if (e instanceof FailedPredicateException) {
    final FailedPredicateException fpe=(FailedPredicateException)e;
    message.append("rule " + fpe.ruleName + " failed predicate: {"+ fpe.predicateText+ "}?");
  }
 else   if (e instanceof GeneralParseException) {
    message.append(" " + e.getMessage());
  }
  return message.toString();
}
