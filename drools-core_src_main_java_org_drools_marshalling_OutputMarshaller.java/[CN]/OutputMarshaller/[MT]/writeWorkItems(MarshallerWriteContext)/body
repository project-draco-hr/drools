{
  ObjectOutputStream stream=context.stream;
  List<WorkItem> workItems=new ArrayList<WorkItem>(((InternalWorkItemManager)context.wm.getWorkItemManager()).getWorkItems());
  Collections.sort(workItems,new Comparator<WorkItem>(){
    public int compare(    WorkItem o1,    WorkItem o2){
      return (int)(o2.getId() - o1.getId());
    }
  }
);
  for (  WorkItem workItem : workItems) {
    stream.writeShort(PersisterEnums.WORK_ITEM);
    writeWorkItem(context,workItem);
  }
  stream.writeShort(PersisterEnums.END);
}
