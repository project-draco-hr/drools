{
  this.checkout();
  log.info("USER: {} CREATEING subpackage [{}] under [{}]",new Object[]{getCurrentUserName(),subPackageName,getName()});
  Node subPkgsNode;
  try {
    subPkgsNode=node.getNode(RulesRepository.RULE_PACKAGE_AREA);
  }
 catch (  PathNotFoundException e) {
    subPkgsNode=node.addNode(RulesRepository.RULE_PACKAGE_AREA,"nt:folder");
  }
  Node ruleSubPackageNode=subPkgsNode.addNode(subPackageName,PackageItem.RULE_PACKAGE_TYPE_NAME);
  ruleSubPackageNode.addNode(PackageItem.ASSET_FOLDER_NAME,"drools:versionableAssetFolder");
  ruleSubPackageNode.setProperty(PackageItem.TITLE_PROPERTY_NAME,subPackageName);
  ruleSubPackageNode.setProperty(AssetItem.DESCRIPTION_PROPERTY_NAME,"");
  ruleSubPackageNode.setProperty(AssetItem.FORMAT_PROPERTY_NAME,PackageItem.PACKAGE_FORMAT);
  ruleSubPackageNode.setProperty(PackageItem.CREATOR_PROPERTY_NAME,this.rulesRepository.getSession().getUserID());
  Calendar lastModified=Calendar.getInstance();
  ruleSubPackageNode.setProperty(PackageItem.LAST_MODIFIED_PROPERTY_NAME,lastModified);
  ruleSubPackageNode.setProperty(PackageItem.CONTENT_PROPERTY_ARCHIVE_FLAG,false);
  return new PackageItem(this.rulesRepository,ruleSubPackageNode);
}
