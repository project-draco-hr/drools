{
  if (connection.getFrom().getNodeContainer() == this) {
    linkOutgoingConnections(connection.getFrom().getId(),connection.getFromType(),org.drools.workflow.core.Node.CONNECTION_DEFAULT_TYPE);
  }
 else {
    super.addIncomingConnection(type,connection);
    CompositeNode.NodeAndType inNode=internalGetLinkedIncomingNode(type);
    if (inNode != null) {
      CompositeNodeStart start=new CompositeNodeStart(connection.getFrom(),type);
      internalAddNode(start);
      NodeImpl node=(NodeImpl)inNode.getNode();
      if (node != null) {
        new ConnectionImpl(start,org.drools.workflow.core.Node.CONNECTION_DEFAULT_TYPE,inNode.getNode(),inNode.getType());
      }
    }
  }
}
