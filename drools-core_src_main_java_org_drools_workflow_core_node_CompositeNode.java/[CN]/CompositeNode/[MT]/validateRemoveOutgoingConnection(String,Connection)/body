{
  CompositeNode.NodeAndType nodeAndType=internalGetLinkedOutgoingNode(type);
  if (nodeAndType != null) {
    for (    Connection outConnection : nodeAndType.getNode().getOutgoingConnections(nodeAndType.getType())) {
      if (((CompositeNodeEnd)outConnection.getTo()).getOutNodeId() == connection.getTo().getId()) {
        ((NodeImpl)nodeAndType.getNode()).validateRemoveOutgoingConnection(nodeAndType.getType(),outConnection);
        return;
      }
    }
    throw new IllegalArgumentException("Could not find internal outgoing connection for node");
  }
}
