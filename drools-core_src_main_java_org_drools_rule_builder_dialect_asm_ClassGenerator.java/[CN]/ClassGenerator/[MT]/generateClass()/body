{
  if (clazz == null) {
    byte[] bytecode=generateBytecode();
    try {
      clazz=(Class<?>)defineClassMethod.invoke(classLoader,className,bytecode,0,bytecode.length);
    }
 catch (    Exception e) {
      clazz=new InternalClassLoader(classLoader).defineClass(className,bytecode);
    }
  }
  return clazz;
}
