{
  this.cellGrid=cellGrid;
  this.cellSize=this.liveCellImage.getWidth(this);
  setBackground(CellGridCanvas.GRID_COLOR);
  addMouseListener(new MouseAdapter(){
    /** 
 * Invoked when a mouse button has been pressed on a component.
 */
    public void mousePressed(    final MouseEvent e){
      toggleCellAt(e.getX(),e.getY());
    }
  }
);
  addMouseMotionListener(new MouseMotionAdapter(){
    public void mouseDragged(    final MouseEvent e){
      final Cell cell=getCellAtPoint(e.getX(),e.getY());
      if (cell != null) {
        cellGrid.updateCell(cell,CellState.LIVE);
        repaint();
      }
    }
  }
);
}
