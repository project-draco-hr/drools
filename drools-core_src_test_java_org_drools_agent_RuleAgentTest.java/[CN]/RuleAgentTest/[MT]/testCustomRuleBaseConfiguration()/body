{
  final File dir=RuleBaseAssemblerTest.getTempDirectory();
  Random rnd=new Random(System.currentTimeMillis());
  final Package p1=new Package("p1");
  final File p1f=new File(dir,rnd.nextLong() + ".pkg");
  RuleBaseAssemblerTest.writePackage(p1,p1f);
  String path=p1f.getPath();
  Properties props=new Properties();
  props.setProperty("file",path);
  RuleAgent agent=RuleAgent.newRuleAgent(props);
  RuleBaseConfiguration conf=((InternalRuleBase)agent.getRuleBase()).getConfiguration();
  assertEquals(false,conf.isSequential());
  conf=new RuleBaseConfiguration();
  conf.setSequential(true);
  agent=RuleAgent.newRuleAgent(props,conf);
  conf=((InternalRuleBase)agent.getRuleBase()).getConfiguration();
  assertEquals(true,conf.isSequential());
}
