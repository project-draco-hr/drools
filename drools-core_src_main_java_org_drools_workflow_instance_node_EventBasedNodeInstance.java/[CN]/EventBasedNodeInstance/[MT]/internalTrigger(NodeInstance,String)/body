{
  super.internalTrigger(from,type);
  Map<Timer,DroolsAction> timers=getEventBasedNode().getTimers();
  if (timers != null) {
    addTimerListener();
    timerInstances=new ArrayList<Long>(timers.size());
    TimerManager timerManager=((ProcessInstance)getProcessInstance()).getWorkingMemory().getTimerManager();
    for (    Timer timer : timers.keySet()) {
      TimerInstance timerInstance=createTimerInstance(timer);
      timerManager.registerTimer(timerInstance,(ProcessInstance)getProcessInstance());
      timerInstances.add(timerInstance.getId());
    }
  }
}
