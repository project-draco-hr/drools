{
  final RuleModel model=new RuleModel();
  model.lhs=new IPattern[2];
  final FactPattern x=new FactPattern("Car");
  model.lhs[0]=x;
  x.boundName="boundFact";
  x.constraints=new Constraint[2];
  x.constraints[0]=new Constraint("q");
  x.constraints[0].fieldBinding="field1";
  x.constraints[1]=new Constraint("w");
  x.constraints[1].fieldBinding="field2";
  model.lhs[1]=new CompositeFactPattern();
  List vars=model.getAllVariables();
  assertEquals(3,vars.size());
  assertEquals("boundFact",vars.get(0));
  assertEquals("field1",vars.get(1));
  assertEquals("field2",vars.get(2));
  assertTrue(model.isVariableNameUsed("field2"));
}
