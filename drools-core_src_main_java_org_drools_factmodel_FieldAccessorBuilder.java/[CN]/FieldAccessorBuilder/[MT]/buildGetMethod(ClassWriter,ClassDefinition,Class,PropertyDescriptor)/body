{
  MethodVisitor mv;
{
    mv=cw.visitMethod(Opcodes.ACC_PUBLIC,"getValue",Type.getMethodDescriptor(Type.getType(Object.class),new Type[]{Type.getType(Object.class)}),null,null);
    mv.visitCode();
    if (field.getPropertyType().isPrimitive()) {
      mv.visitTypeInsn(Opcodes.NEW,Type.getInternalName((Class)typeMap.get(field.getPropertyType())));
      mv.visitInsn(Opcodes.DUP);
    }
    mv.visitVarInsn(Opcodes.ALOAD,1);
    mv.visitTypeInsn(Opcodes.CHECKCAST,Type.getInternalName(clazz));
    mv.visitMethodInsn(Opcodes.INVOKEVIRTUAL,Type.getInternalName(clazz),field.getReadMethod().getName(),Type.getMethodDescriptor(Type.getType(field.getPropertyType()),new Type[]{}));
    if (field.getPropertyType().isPrimitive()) {
      mv.visitMethodInsn(Opcodes.INVOKESPECIAL,Type.getInternalName((Class)typeMap.get(field.getPropertyType())),"<init>",Type.getMethodDescriptor(Type.VOID_TYPE,new Type[]{Type.getType(field.getPropertyType())}));
    }
    mv.visitInsn(Opcodes.ARETURN);
    mv.visitMaxs(0,0);
    mv.visitEnd();
  }
}
