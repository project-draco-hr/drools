{
  if (childLeftTuple == null) {
    for (; leftTuple != null; leftTuple=(LeftTuple)leftIt.next(leftTuple)) {
      if (constraints.isAllowedCachedRight(bm.getContext(),leftTuple)) {
        if (leftTuple.getStagedType() == LeftTuple.NONE) {
          trgLeftTuples.addUpdate(leftTuple);
        }
        final AccumulateContext accctx=(AccumulateContext)leftTuple.getObject();
        addMatch(accNode,accumulate,leftTuple,rightTuple,null,null,wm,am,accctx,true);
      }
    }
  }
 else {
    for (; leftTuple != null; leftTuple=(LeftTuple)leftIt.next(leftTuple)) {
      if (constraints.isAllowedCachedRight(bm.getContext(),leftTuple)) {
        if (leftTuple.getStagedType() == LeftTuple.NONE) {
          trgLeftTuples.addUpdate(leftTuple);
        }
        final AccumulateContext accctx=(AccumulateContext)leftTuple.getObject();
        LeftTuple temp=null;
        if (childLeftTuple != null && childLeftTuple.getLeftParent() == leftTuple) {
          temp=childLeftTuple.getRightParentNext();
          removeMatch(accNode,accumulate,rightTuple,childLeftTuple,wm,am,accctx,true);
          childLeftTuple=temp;
        }
        addMatch(accNode,accumulate,leftTuple,rightTuple,null,childLeftTuple,wm,am,accctx,true);
        if (temp != null) {
          childLeftTuple=temp;
        }
      }
 else       if (childLeftTuple != null && childLeftTuple.getLeftParent() == leftTuple) {
        if (leftTuple.getStagedType() == LeftTuple.NONE) {
          trgLeftTuples.addUpdate(leftTuple);
        }
        LeftTuple temp=childLeftTuple.getRightParentNext();
        final AccumulateContext accctx=(AccumulateContext)leftTuple.getObject();
        removeMatch(accNode,accumulate,rightTuple,childLeftTuple,wm,am,accctx,true);
        childLeftTuple=temp;
      }
    }
  }
}
