{
  String s;
  try {
    if ((fields & NEGATION) != 0 && (fields & BOOLEAN_MODE) != 0) {
      this.value=BlankLiteral.INSTANCE.equals(value);
    }
 else     if ((fields & NEGATION) != 0) {
      if (value instanceof Boolean) {
        this.value=!((Boolean)value);
      }
 else {
        throw new CompileException("illegal negation - not a boolean expression");
      }
    }
 else {
      if (value instanceof BigDecimal) {
        fields|=NUMERIC;
        this.numericValue=(BigDecimal)value;
      }
 else       if (isNumber(value)) {
        fields|=NUMERIC;
        this.numericValue=convert(value,BigDecimal.class);
      }
      this.value=value;
    }
  }
 catch (  NumberFormatException e) {
    throw new CompileException("unable to create numeric value from: '" + value + "'");
  }
  return this;
}
