{
  Message msg=new Message(serviceManager.getSessionId(),serviceManager.counter.incrementAndGet(),false,new KnowledgeContextResolveFromContextCommand(new KnowledgeBuilderAddCommand(resource,resourceType,configuration),instanceId,null,null,null));
  try {
    Object object=serviceManager.client.write(msg).getPayload();
    if (!(object instanceof FinishedCommand)) {
      throw new RuntimeException("Response was not correctly ended");
    }
  }
 catch (  Exception e) {
    throw new RuntimeException("Unable to execute message",e);
  }
}
