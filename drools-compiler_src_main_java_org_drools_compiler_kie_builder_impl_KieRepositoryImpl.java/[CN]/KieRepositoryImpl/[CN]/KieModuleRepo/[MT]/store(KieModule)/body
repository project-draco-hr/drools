{
  ReleaseId releaseId=kieModule.getReleaseId();
  String ga=releaseId.getGroupId() + ":" + releaseId.getArtifactId();
  TreeMap<ComparableVersion,KieModule> artifactMap=kieModules.get(ga);
  if (artifactMap == null) {
    artifactMap=new TreeMap<ComparableVersion,KieModule>();
    kieModules.put(ga,artifactMap);
  }
  ComparableVersion comparableVersion=new ComparableVersion(releaseId.getVersion());
  if (oldKieModules.get(releaseId) == null) {
    KieModule oldKieModule=artifactMap.get(comparableVersion);
    if (oldKieModule != null) {
      oldKieModules.put(releaseId,oldKieModule);
    }
  }
  artifactMap.put(comparableVersion,kieModule);
}
