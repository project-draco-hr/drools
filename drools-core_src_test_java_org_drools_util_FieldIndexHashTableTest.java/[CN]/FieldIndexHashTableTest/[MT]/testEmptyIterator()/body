{
  final FieldExtractor extractor=cache.getExtractor(Cheese.class,"type",getClass().getClassLoader());
  final Pattern pattern=new Pattern(0,new ClassObjectType(Cheese.class));
  final Declaration declaration=new Declaration("typeOfCheese",extractor,pattern);
  final FieldIndex fieldIndex=new FieldIndex(extractor,declaration,equals.getEvaluator(ValueType.STRING_TYPE,Operator.EQUAL));
  final RightTupleIndexHashTable map=new RightTupleIndexHashTable(new FieldIndex[]{fieldIndex});
  final Cheese stilton=new Cheese("stilton",55);
  final InternalFactHandle stiltonHandle=new DefaultFactHandle(2,stilton);
  final Iterator it=map.iterator(new LeftTuple(stiltonHandle));
  for (ObjectEntry entry=(ObjectEntry)it.next(); entry != null; entry=(ObjectEntry)it.next()) {
    fail("Map is empty, there should be no iteration");
  }
}
