{
  final FieldExtractor extractor=new ClassFieldExtractor(Cheese.class,"type");
  final Column column=new Column(0,new ClassObjectType(Cheese.class));
  final Declaration declaration=new Declaration("typeOfCheese",extractor,column);
  final FieldIndexHashTable map=new FieldIndexHashTable(extractor,declaration);
  assertEquals(0,map.size());
  final Cheese stilton1=new Cheese("stilton",35);
  final InternalFactHandle stiltonHandle1=new DefaultFactHandle(1,stilton1);
  map.add(stiltonHandle1);
  final Cheese cheddar1=new Cheese("cheddar",35);
  final InternalFactHandle cheddarHandle1=new DefaultFactHandle(2,cheddar1);
  map.add(cheddarHandle1);
  assertEquals(2,map.size());
  assertEquals(2,tablePopulationSize(map));
  final Cheese stilton2=new Cheese("stilton",77);
  final InternalFactHandle stiltonHandle2=new DefaultFactHandle(2,stilton2);
  final FieldIndexEntry stiltonEntry=map.get(new ReteTuple(stiltonHandle2));
  assertSame(stiltonHandle1,stiltonEntry.getFirst().getFactHandle());
  assertNull(stiltonEntry.getFirst().getNext());
  final Cheese cheddar2=new Cheese("cheddar",5);
  final InternalFactHandle cheddarHandle2=new DefaultFactHandle(2,cheddar2);
  final FieldIndexEntry cheddarEntry=map.get(new ReteTuple(cheddarHandle2));
  assertSame(cheddarHandle1,cheddarEntry.getFirst().getFactHandle());
  assertNull(cheddarEntry.getFirst().getNext());
}
