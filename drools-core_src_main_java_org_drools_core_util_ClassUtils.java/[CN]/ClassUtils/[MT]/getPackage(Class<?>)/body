{
  java.lang.Package pkg=cls.isArray() ? cls.getComponentType().getPackage() : cls.getPackage();
  if (pkg == null) {
    int dotPos=cls.getName().lastIndexOf('.');
    if (dotPos > 0) {
      return cls.getName().substring(0,dotPos - 1);
    }
 else {
      return "";
    }
  }
 else {
    return pkg.getName();
  }
}
