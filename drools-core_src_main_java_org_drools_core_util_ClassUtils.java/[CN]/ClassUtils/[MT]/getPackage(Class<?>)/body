{
  java.lang.Package pkg=cls.isArray() ? cls.getComponentType().getPackage() : cls.getPackage();
  if (pkg == null) {
    int dotPos=cls.getName().lastIndexOf('.');
    return cls.getName().substring(0,dotPos - 1);
  }
 else {
    return pkg.getName();
  }
}
