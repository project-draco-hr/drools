{
  if (dirty) {
    resetIdGenerator();
    updateTupleSinkId(this,this);
    dirty=false;
  }
  if (objectMemoryEnabled && !(queryNode && !((DroolsQuery)factHandle.getObject()).isOpen())) {
    final ObjectTypeNodeMemory memory=(ObjectTypeNodeMemory)workingMemory.getNodeMemory(this);
    memory.memory.remove(factHandle);
  }
  doRetractObject(factHandle,context,workingMemory);
}
