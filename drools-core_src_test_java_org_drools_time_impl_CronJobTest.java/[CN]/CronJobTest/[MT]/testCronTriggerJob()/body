{
  SessionConfiguration config=new SessionConfiguration();
  config.setClockType(ClockType.PSEUDO_CLOCK);
  PseudoClockScheduler timeService=(PseudoClockScheduler)TimerServiceFactory.getTimerService(config);
  DateFormat df=new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSSZ");
  Date date=df.parse("2009-01-01T00:00:00.000-0000");
  timeService.advanceTime(date.getTime(),TimeUnit.MILLISECONDS);
  CronTrigger trigger=new CronTrigger(date.getTime(),null,null,-1,"15 * * * * ?",null,null);
  HelloWorldJobContext ctx=new HelloWorldJobContext("hello world",timeService);
  timeService.scheduleJob(new HelloWorldJob(),ctx,trigger);
  assertEquals(0,ctx.getList().size());
  timeService.advanceTime(10,TimeUnit.SECONDS);
  assertEquals(0,ctx.getList().size());
  timeService.advanceTime(10,TimeUnit.SECONDS);
  assertEquals(1,ctx.getList().size());
  timeService.advanceTime(30,TimeUnit.SECONDS);
  assertEquals(1,ctx.getList().size());
  timeService.advanceTime(30,TimeUnit.SECONDS);
  assertEquals(2,ctx.getList().size());
}
