{
  EqualityKey key=handle.getEqualityKey();
  if (key == null) {
    ObjectTypeConf typeC=this.typeConfReg.getObjectTypeConf(this.entryPoint,handle.getObject());
    enableTMS(handle.getObject(),typeC);
    key=handle.getEqualityKey();
  }
  if (key.getStatus() == EqualityKey.STATED) {
    return;
  }
  if (!logical) {
    key.setStatus(EqualityKey.STATED);
    TruthMaintenanceSystemHelper.removeLogicalDependencies(handle,propagationContext);
  }
 else {
    tms.addLogicalDependency(handle,object,tmsValue,activation,activation.getPropagationContext(),rule,typeConf);
  }
}
