{
  if (context == null) {
    context=createContext();
  }
  if (base instanceof ConstraintConnectiveDescr) {
    processConnectiveDescr(sbuilder,base,parentPriority,isInsideRelCons,context);
  }
 else   if (base instanceof AtomicExprDescr) {
    AtomicExprDescr atom=(AtomicExprDescr)base;
    String expr=atom.getExpression().trim();
    Matcher m=evalRegexp.matcher(atom.getExpression());
    if (m.find()) {
      expr=expr.substring(expr.indexOf('(') + 1,expr.lastIndexOf(')'));
    }
    sbuilder.append(expr);
  }
 else   if (base instanceof BindingDescr) {
    context.addBinding((BindingDescr)base);
    if (isInsideRelCons) {
      BindingDescr bind=(BindingDescr)base;
      String expr=bind.getExpression().trim();
      sbuilder.append(expr);
    }
  }
 else   if (base instanceof RelationalExprDescr) {
    RelationalExprDescr red=(RelationalExprDescr)base;
    String left=dump(new StringBuilder(),red.getLeft(),Integer.MAX_VALUE,true,context).toString();
    String right=dump(new StringBuilder(),red.getRight(),Integer.MAX_VALUE,true,context).toString();
    processRestriction(context,sbuilder,left,red.getOperatorDescr(),right);
  }
 else   if (base instanceof ExprConstraintDescr) {
    DrlExprParser expr=new DrlExprParser();
    ConstraintConnectiveDescr result=expr.parse(((ExprConstraintDescr)base).getExpression());
    if (result.getDescrs().size() == 1) {
      dump(sbuilder,result.getDescrs().get(0),0,isInsideRelCons,context);
    }
 else {
      dump(sbuilder,result,0,isInsideRelCons,context);
    }
  }
  return sbuilder;
}
