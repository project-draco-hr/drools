{
  final SuggestionCompletionEngine sce=new SuggestionCompletionEngine();
  sce.dataEnumLists=new HashMap();
  sce.dataEnumLists.put("Fact.field1",new String[]{"a1","a2"});
  sce.dataEnumLists.put("Fact.field2",new String[]{"b1","b2"});
  sce.dataEnumLists.put("Fact.field3[field1=a1,field2=b1]",new String[]{"c1","c2","c3"});
  sce.dataEnumLists.put("Fact.field4[field1=a1]",new String[]{"d1","d2"});
  FactPattern pat=new FactPattern("Fact");
  SingleFieldConstraint sfc=new SingleFieldConstraint("field1");
  sfc.value="a1";
  pat.addConstraint(sfc);
  SingleFieldConstraint sfc2=new SingleFieldConstraint("field2");
  sfc2.value="b1";
  pat.addConstraint(sfc2);
  String[] result=sce.getEnums(pat,"field3").fixedList;
  assertEquals(3,result.length);
  assertEquals("c1",result[0]);
  assertEquals("c2",result[1]);
  assertEquals("c3",result[2]);
}
