{
  RuleBuilder builder=new RuleBuilder(null,null,null);
  Rule rule=new Rule("myrule");
  List attributes=new ArrayList();
  attributes.add(new AttributeDescr("no-loop","true"));
  attributes.add(new AttributeDescr("enabled","false"));
  attributes.add(new AttributeDescr("ruleflow-group","mygroup"));
  builder.setAttributes(rule,attributes);
  assertTrue(rule.getNoLoop());
  assertFalse(rule.isEffective());
  assertEquals("mygroup",rule.getRuleFlowGroup());
  attributes=new ArrayList();
  attributes.add(new AttributeDescr("date-effective","10-Jul-1974"));
  attributes.add(new AttributeDescr("date-expires","10-Jul-2040"));
  rule=new Rule("myrule");
  builder.setAttributes(rule,attributes);
  Field eff=rule.getClass().getDeclaredField("dateEffective");
  eff.setAccessible(true);
  Calendar effectiveDate=(Calendar)eff.get(rule);
  assertNotNull(effectiveDate);
  assertEquals(1974,effectiveDate.get(Calendar.YEAR));
  Field exp=rule.getClass().getDeclaredField("dateExpires");
  exp.setAccessible(true);
  Calendar expiryDate=(Calendar)exp.get(rule);
  assertEquals(2040,expiryDate.get(Calendar.YEAR));
  assertNotNull(expiryDate);
}
