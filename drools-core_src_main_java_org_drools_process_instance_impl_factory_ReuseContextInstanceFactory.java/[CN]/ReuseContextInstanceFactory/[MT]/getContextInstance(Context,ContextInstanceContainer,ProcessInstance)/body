{
  ContextInstance result=contextInstanceContainer.getContextInstance(context.getType(),context.getId());
  if (result != null) {
    return result;
  }
  try {
    AbstractContextInstance contextInstance=(AbstractContextInstance)cls.newInstance();
    contextInstance.setContextId(context.getId());
    contextInstance.setContextInstanceContainer(contextInstanceContainer);
    contextInstance.setProcessInstance(processInstance);
    contextInstanceContainer.addContextInstance(context.getType(),contextInstance);
    return contextInstance;
  }
 catch (  Exception e) {
    e.printStackTrace();
    throw new RuntimeException("Unable to instantiate context '" + this.cls.getName() + "': "+ e.getMessage());
  }
}
