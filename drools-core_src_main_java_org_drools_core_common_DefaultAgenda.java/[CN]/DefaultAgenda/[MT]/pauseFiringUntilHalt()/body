{
  if (currentState == ExecutionState.FIRING_UNTIL_HALT) {
    wasFiringUntilHalt=true;
    setCurrentState(ExecutionState.HALTING);
    waitInactive();
  }
}
