{
synchronized (this) {
    PropagationEntry head=workingMemory.takeAllPropagations();
    if (head == null) {
      setEngineInactive();
    }
 else     if (currentState != ExecutionState.FORCE_HALTING) {
      currentState=ExecutionState.REST_HALTING;
    }
    return head;
  }
}
