{
  MemoryKieModule clone=new MemoryKieModule(releaseId,kModuleModel,newFs);
  for (  InternalKieModule dep : getKieDependencies().values()) {
    clone.addKieDependency(dep);
  }
  for (  KieBaseModel kBaseModel : getKieModuleModel().getKieBaseModels().values()) {
    clone.cacheKnowledgeBuilderForKieBase(kBaseModel.getName(),getKnowledgeBuilderForKieBase(kBaseModel.getName()));
  }
  return clone;
}
