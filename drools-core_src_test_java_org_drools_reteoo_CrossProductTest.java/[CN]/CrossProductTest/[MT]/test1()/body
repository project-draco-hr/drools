{
  ObjectType list1ObjectType=new ClassObjectType(String.class);
  ObjectType list2ObjectType=new ClassObjectType(String.class);
  Rule rule=new Rule("rule-1");
  Column list1Column=new Column(0,list1ObjectType,"s1");
  Column list2Column=new Column(1,list2ObjectType,"s2");
  rule.addPattern(list1Column);
  rule.addPattern(list2Column);
  final Declaration s1Declaration=rule.getDeclaration("s1");
  final Declaration s2Declaration=rule.getDeclaration("s2");
  final List values=new ArrayList();
  rule.setConsequence(new Consequence(){
    public void evaluate(    KnowledgeHelper knowledgeHelper,    WorkingMemory workingMemory) throws Exception {
      String s1=(String)knowledgeHelper.get(s1Declaration);
      String s2=(String)knowledgeHelper.get(s2Declaration);
      values.add(new String[]{s1,s2});
    }
  }
);
  Package pkg=new Package("org.drools");
  pkg.addRule(rule);
  RuleBase ruleBase=RuleBaseFactory.newRuleBase();
  ruleBase.addPackage(pkg);
  WorkingMemory workingMemory=ruleBase.newWorkingMemory();
  workingMemory.assertObject("F1");
  workingMemory.assertObject("F2");
  workingMemory.assertObject("F3");
  workingMemory.assertObject("F4");
  workingMemory.fireAllRules();
  assertEquals(12,values.size());
}
