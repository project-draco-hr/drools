{
  final String className="action" + context.getNextId();
  JavaDialect dialect=(JavaDialect)context.getDialect("java");
  Dialect.AnalysisResult analysis=dialect.analyzeBlock(context,actionDescr,actionDescr.getText(),new Map[]{Collections.EMPTY_MAP,context.getPackageBuilder().getGlobals()});
  if (analysis == null) {
    return;
  }
  final List<String>[] usedIdentifiers=analysis.getBoundIdentifiers();
  final Map map=createVariableContext(className,actionDescr.getText(),(ProcessBuildContext)context,(String[])usedIdentifiers[1].toArray(new String[usedIdentifiers[1].size()]),analysis.getNotBoundedIdentifiers(),contextResolver);
  map.put("text",dialect.getKnowledgeHelperFixer().fix(actionDescr.getText()));
  generatTemplates("actionMethod","actionInvoker",(ProcessBuildContext)context,className,map,action,actionDescr);
}
