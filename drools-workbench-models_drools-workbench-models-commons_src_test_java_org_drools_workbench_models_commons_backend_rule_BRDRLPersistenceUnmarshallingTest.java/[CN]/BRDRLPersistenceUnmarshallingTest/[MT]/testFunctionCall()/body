{
  String drl="" + "package org.mortgages;\n" + "import org.mortgages.LoanApplication;\n"+ "\n"+ "rule \"my rule\"\n"+ "  dialect \"mvel\"\n"+ "  when\n"+ "    a : LoanApplication( )\n"+ "  then\n"+ "    keke.clear(  );\n"+ "end\n";
  when(dmo.getGlobalCollections()).thenReturn(new String[]{"keke"});
  when(dmo.getGlobalVariable("keke")).thenReturn("java.util.ArrayList");
  when(dmo.getGlobalVariables()).thenReturn(new String[]{"keke"});
  when(dmo.getAllFactTypes()).thenReturn(new String[]{"java.util.ArrayList","org.mortgages.LoanApplication"});
  RuleModel m=BRDRLPersistence.getInstance().unmarshal(drl,dmo);
  assertTrue(m.rhs[0] instanceof ActionCallMethod);
  ActionCallMethod actionGlobalCollectionAdd=(ActionCallMethod)m.rhs[0];
  assertEquals("clear",actionGlobalCollectionAdd.getMethodName());
  assertEquals("keke",actionGlobalCollectionAdd.getVariable());
  assertEquals(1,actionGlobalCollectionAdd.getState());
  assertEquals(0,actionGlobalCollectionAdd.getFieldValues().length);
}
