{
  if (str == null || str.isEmpty()) {
    return new RuleModel();
  }
  try {
    return getRuleModel(parseDSLs(preprocessDRL(str,true),dsls).registerGlobals(dmo,globals),dmo);
  }
 catch (  RuleModelUnmarshallingException e) {
    return getSimpleRuleModel(str);
  }
}
