{
  KieBaseDescr kieBaseDescr=kBases.get(kBaseName);
  if (kieBaseDescr == null) {
    throw new RuntimeException("Unknown KnowledgeBase: " + kBaseName);
  }
  KBaseUnitImpl unit=getOrCreateKBaseUnit(urls.get(kBaseName),kieBaseDescr);
  if (!unit.hasIncludes() && kieBaseDescr.getIncludes() != null) {
    for (    String include : kieBaseDescr.getIncludes()) {
      unit.addInclude(kBases.get(include));
    }
  }
  return unit;
}
