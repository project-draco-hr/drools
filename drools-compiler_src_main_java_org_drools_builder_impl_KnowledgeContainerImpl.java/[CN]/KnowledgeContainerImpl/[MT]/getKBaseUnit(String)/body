{
  KieBaseModelImpl kieBaseModel=(KieBaseModelImpl)kBases.get(kBaseName);
  if (kieBaseModel == null) {
    throw new RuntimeException("Unknown KnowledgeBase: " + kBaseName);
  }
  KBaseUnitImpl unit=getOrCreateKBaseUnit(urls.get(kBaseName),kieBaseModel);
  if (!unit.hasIncludes() && kieBaseModel.getIncludes() != null) {
    for (    String include : kieBaseModel.getIncludes()) {
      unit.addInclude(kBases.get(include));
    }
  }
  return unit;
}
