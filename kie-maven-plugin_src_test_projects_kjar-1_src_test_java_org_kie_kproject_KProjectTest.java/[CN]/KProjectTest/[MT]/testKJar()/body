{
  KieServices ks=KieServices.Factory.get();
  KieContainer kContainer=ks.getKieClasspathContainer();
  KieSession kSession=kContainer.newKieSession("FireAlarmKBase.session");
  Room room=new Room("101");
  kSession.insert(room);
  Sprinkler sprinkler=new Sprinkler(room);
  kSession.insert(sprinkler);
  Fire fire=new Fire(room);
  FactHandle fireFH=kSession.insert(fire);
  int rules=kSession.fireAllRules();
  assertEquals(2,rules);
  kSession.delete(fireFH);
  rules=kSession.fireAllRules();
  assertEquals(3,rules);
}
