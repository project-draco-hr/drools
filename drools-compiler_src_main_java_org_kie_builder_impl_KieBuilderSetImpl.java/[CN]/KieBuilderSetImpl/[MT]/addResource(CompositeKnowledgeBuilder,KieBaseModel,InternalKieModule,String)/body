{
  byte[] bytes=kieModule.getBytes(resourceName);
  if (bytes == null) {
    return false;
  }
  Resource resource=KieServices.Factory.get().getResources().newByteArrayResource(bytes).setSourcePath(resourceName);
  if (filterFileInKBase(kieBaseModel,resourceName)) {
    ResourceConfiguration conf=getResourceConfiguration(kieModule,resourceName);
    if (conf == null) {
      ckbuilder.add(resource,ResourceType.determineResourceType(resourceName));
    }
 else {
      ckbuilder.add(resource,ResourceType.determineResourceType(resourceName),conf);
    }
    return true;
  }
  return false;
}
