{
  if (context == null || context.getLastBuiltPatterns() == null) {
    rightDeclaredMask=Long.MAX_VALUE;
    leftDeclaredMask=Long.MAX_VALUE;
    return;
  }
  Pattern pattern=context.getLastBuiltPatterns()[0];
  ObjectType objectType=pattern.getObjectType();
  if (!(objectType instanceof ClassObjectType)) {
    rightDeclaredMask=Long.MAX_VALUE;
  }
  Class objectClass=((ClassObjectType)objectType).getClassType();
  TypeDeclaration typeDeclaration=context.getRuleBase().getTypeDeclaration(objectClass);
  if (!typeDeclaration.isPropertySpecific()) {
    rightDeclaredMask=Long.MAX_VALUE;
  }
 else {
    List<String> settableProperties=getSettableProperties(context.getRuleBase(),objectClass);
    rightDeclaredMask=calculateMaskFromPattern(pattern.getListenedProperties(),0L,settableProperties);
    rightDeclaredMask=rightDeclaredMask | calculateDeclaredMask(settableProperties,pattern.getListenedProperties());
  }
  if (!(leftInput instanceof LeftInputAdapterNode)) {
    leftDeclaredMask=Long.MAX_VALUE;
    return;
  }
  pattern=context.getLastBuiltPatterns()[1];
  objectType=pattern.getObjectType();
  if (objectType == ClassObjectType.InitialFact_ObjectType || !(objectType instanceof ClassObjectType)) {
    leftDeclaredMask=Long.MAX_VALUE;
    return;
  }
  objectClass=((ClassObjectType)objectType).getClassType();
  typeDeclaration=context.getRuleBase().getTypeDeclaration(objectClass);
  if (!typeDeclaration.isPropertySpecific()) {
    leftDeclaredMask=Long.MAX_VALUE;
  }
 else {
    List<String> settableProperties=getSettableProperties(context.getRuleBase(),objectClass);
    leftDeclaredMask=calculateMaskFromPattern(pattern.getListenedProperties(),0L,settableProperties);
  }
}
