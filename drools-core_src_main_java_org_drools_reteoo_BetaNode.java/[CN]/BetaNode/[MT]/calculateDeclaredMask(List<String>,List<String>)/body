{
  long mask=0L;
  if (listenedProperties != null && listenedProperties.contains("*")) {
    mask=Long.MAX_VALUE;
  }
 else   if (listenedProperties == null || !listenedProperties.contains("!*")) {
    mask=settableProperties == null ? Long.MAX_VALUE : constraints.getListenedPropertyMask(settableProperties);
  }
  return calculateMaskFromPattern(listenedProperties,mask,settableProperties);
}
