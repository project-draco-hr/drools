{
  if (listenedPropertyMask >= 0) {
    return listenedPropertyMask;
  }
  if (listenedProperties != null && listenedProperties.size() == 0 && listenedProperties.equals("*")) {
    setListenedPropertyMask(Long.MAX_VALUE);
    return Long.MAX_VALUE;
  }
  List<String> settableProperties=getSettableProperties(workingMemory);
  long mask=listenedProperties != null && listenedProperties.contains("*") ? Long.MAX_VALUE : inferListenedMask(settableProperties);
  mask=calculateListenedMaskFromPattern(mask,settableProperties);
  setListenedPropertyMask(mask);
  return mask >= 0 ? mask : Long.MAX_VALUE;
}
