{
  RightTuple rightTuple=modifyPreviousTuples.peekRightTuple();
  while (rightTuple != null && ((BetaNode)rightTuple.getRightTupleSink()).getRightInputOtnId() < getRightInputOtnId() && ((BetaNode)rightTuple.getRightTupleSink()).getObjectTypeNode() == getObjectTypeNode()) {
    modifyPreviousTuples.removeRightTuple();
    rightTuple.getRightTupleSink().retractRightTuple(rightTuple,context,workingMemory);
    rightTuple=modifyPreviousTuples.peekRightTuple();
  }
  if (rightTuple != null && ((BetaNode)rightTuple.getRightTupleSink()).getRightInputOtnId() == getRightInputOtnId()) {
    modifyPreviousTuples.removeRightTuple();
    rightTuple.reAdd();
    if (intersect(context.getModificationMask(),rightInferredMask)) {
      modifyRightTuple(rightTuple,context,workingMemory);
    }
  }
 else {
    if (intersect(context.getModificationMask(),rightInferredMask)) {
      assertObject(factHandle,context,workingMemory);
    }
  }
}
