{
  BetaMemory memory;
  if (NodeTypeEnums.AccumulateNode == betaNode.getType()) {
    memory=((AccumulateMemory)workingMemory.getNodeMemory(betaNode)).getBetaMemory();
  }
 else {
    memory=(BetaMemory)workingMemory.getNodeMemory(betaNode);
  }
  if (betaNode.isUnlinkingEnabled() && memory.getSegmentMemory() == null) {
    createNodeSegmentMemory(betaNode,workingMemory);
  }
  return memory;
}
