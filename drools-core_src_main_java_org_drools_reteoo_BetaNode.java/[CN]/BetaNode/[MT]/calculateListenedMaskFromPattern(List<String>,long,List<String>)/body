{
  if (listenedProperties == null)   return mask;
  for (  String propertyName : listenedProperties) {
    if (propertyName.equals("*") || propertyName.equals("!*"))     continue;
    boolean isNegative=propertyName.startsWith("!");
    if (isNegative) {
      propertyName=propertyName.substring(1).trim();
    }
    int pos=settableProperties.indexOf(propertyName);
    if (pos < 0)     throw new RuntimeException("Unknown property: " + propertyName);
    mask=isNegative ? BitMaskUtil.reset(mask,pos) : BitMaskUtil.set(mask,pos);
  }
  return mask;
}
