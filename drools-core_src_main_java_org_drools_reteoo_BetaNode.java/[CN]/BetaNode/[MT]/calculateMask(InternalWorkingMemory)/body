{
  if (listenedProperties != null && listenedProperties.size() == 1 && listenedProperties.equals("*")) {
    return Long.MAX_VALUE;
  }
  List<String> settableProperties=getSettableProperties(workingMemory,getObjectTypeNode());
  long mask=0L;
  if (listenedProperties != null && listenedProperties.contains("*")) {
    mask=Long.MAX_VALUE;
  }
 else   if (listenedProperties == null || !listenedProperties.contains("!*")) {
    mask=inferListenedMask(settableProperties);
  }
  return calculateListenedMaskFromPattern(listenedProperties,mask,settableProperties);
}
