{
  for (  InternalKnowledgePackage pkg : pkgs.values()) {
    List<RuleImpl> rulesToBeRemoved=pkg.removeRulesGeneratedFromResource(resource);
    for (    RuleImpl rule : rulesToBeRemoved) {
      removeRule(rule);
    }
    List<Function> functionsToBeRemoved=pkg.removeFunctionsGeneratedFromResource(resource);
    for (    Function function : functionsToBeRemoved) {
      removeFunction(function.getName());
    }
  }
}
