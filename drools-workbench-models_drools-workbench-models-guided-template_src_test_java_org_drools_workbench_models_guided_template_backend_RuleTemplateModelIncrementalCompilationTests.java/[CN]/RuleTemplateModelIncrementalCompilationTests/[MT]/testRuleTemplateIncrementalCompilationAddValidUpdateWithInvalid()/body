{
  String drl1_1="<rule>\n" + "  <name>t1</name>\n" + "  <modelVersion>1.0</modelVersion>\n"+ "  <attributes/>\n"+ "  <metadataList/>\n"+ "  <lhs>\n"+ "    <fact>\n"+ "      <constraintList>\n"+ "        <constraints>\n"+ "          <fieldConstraint>\n"+ "            <value>$default</value>\n"+ "            <operator>==</operator>\n"+ "            <constraintValueType>7</constraintValueType>\n"+ "            <expression>\n"+ "              <parts/>\n"+ "            </expression>\n"+ "            <parameters/>\n"+ "            <factType>Applicant</factType>\n"+ "            <fieldName>age</fieldName>\n"+ "            <fieldType>Integer</fieldType>\n"+ "          </fieldConstraint>\n"+ "        </constraints>\n"+ "      </constraintList>\n"+ "      <factType>Applicant</factType>\n"+ "      <isNegated>false</isNegated>\n"+ "      <window>\n"+ "        <parameters/>\n"+ "      </window>\n"+ "    </fact>\n"+ "  </lhs>\n"+ "  <rhs/>\n"+ "  <imports>\n"+ "    <imports/>\n"+ "  </imports>\n"+ "  <packageName>org.drools.workbench.models.guided.template.backend</packageName>\n"+ "  <isNegated>false</isNegated>\n"+ "  <table>\n"+ "    <entry>\n"+ "      <string>__ID_KOL_NAME__</string>\n"+ "      <list>\n"+ "        <string>1</string>\n"+ "      </list>\n"+ "    </entry>\n"+ "    <entry>\n"+ "      <string>$default</string>\n"+ "      <list>\n"+ "        <string>22</string>\n"+ "      </list>\n"+ "    </entry>\n"+ "  </table>\n"+ "  <idCol>1</idCol>\n"+ "  <rowsCount>1</rowsCount>\n"+ "</rule>";
  String drl1_2="<rule>\n" + "  <name>t1</name>\n" + "  <modelVersion>1.0</modelVersion>\n"+ "  <attributes/>\n"+ "  <metadataList/>\n"+ "  <lhs>\n"+ "    <fact>\n"+ "      <constraintList>\n"+ "        <constraints>\n"+ "          <fieldConstraint>\n"+ "            <value>$default</value>\n"+ "            <operator>==</operator>\n"+ "            <constraintValueType>7</constraintValueType>\n"+ "            <expression>\n"+ "              <parts/>\n"+ "            </expression>\n"+ "            <parameters/>\n"+ "            <factType>Applicant</factType>\n"+ "            <fieldName>age</fieldName>\n"+ "            <fieldType>Integer</fieldType>\n"+ "          </fieldConstraint>\n"+ "        </constraints>\n"+ "      </constraintList>\n"+ "      <factType>Applicant</factType>\n"+ "      <isNegated>false</isNegated>\n"+ "      <window>\n"+ "        <parameters/>\n"+ "      </window>\n"+ "    </fact>\n"+ "    <freeForm>\n"+ "      <text>Smurf()</text>\n"+ "    </freeForm>\n"+ "  </lhs>\n"+ "  <rhs/>\n"+ "  <imports>\n"+ "    <imports/>\n"+ "  </imports>\n"+ "  <packageName>org.drools.workbench.models.guided.template.backend</packageName>\n"+ "  <isNegated>false</isNegated>\n"+ "  <table>\n"+ "    <entry>\n"+ "      <string>__ID_KOL_NAME__</string>\n"+ "      <list>\n"+ "        <string>1</string>\n"+ "      </list>\n"+ "    </entry>\n"+ "    <entry>\n"+ "      <string>$default</string>\n"+ "      <list>\n"+ "        <string>22</string>\n"+ "      </list>\n"+ "    </entry>\n"+ "  </table>\n"+ "  <idCol>1</idCol>\n"+ "  <rowsCount>1</rowsCount>\n"+ "</rule>";
  KieServices ks=KieServices.Factory.get();
  KieFileSystem kfs=ks.newKieFileSystem().write("src/main/resources/r1.template",drl1_1);
  KieBuilder kieBuilder=ks.newKieBuilder(kfs).buildAll();
  List<Message> messages=kieBuilder.getResults().getMessages(org.kie.api.builder.Message.Level.ERROR);
  assertEquals(0,messages.size());
  kfs.write("src/main/resources/r1.template",drl1_2);
  IncrementalResults addResults=((InternalKieBuilder)kieBuilder).createFileSet("src/main/resources/r1.template").build();
  assertEquals(1,addResults.getAddedMessages().size());
  assertEquals(0,addResults.getRemovedMessages().size());
}
