{
  PortableStringParameterDefinition param1=new PortableStringParameterDefinition();
  param1.setName("param1");
  param1.setValue("value1");
  PortableStringParameterDefinition param2=new PortableStringParameterDefinition();
  param2.setName("param2");
  param2.setValue("value2");
  PortableWorkDefinition def1=new PortableWorkDefinition();
  def1.setName("def1name");
  def1.addParameter(param1);
  def1.addParameter(param2);
  PortableStringParameterDefinition param3=new PortableStringParameterDefinition();
  param3.setName("param3");
  param3.setValue("value3");
  PortableStringParameterDefinition param4=new PortableStringParameterDefinition();
  param4.setName("param1");
  param4.setValue("value1");
  PortableStringParameterDefinition param5=new PortableStringParameterDefinition();
  param5.setName("param5");
  param5.setBinding("binding5");
  PortableStringParameterDefinition param6=new PortableStringParameterDefinition();
  param6.setName("param2");
  param6.setValue("value6");
  PortableWorkDefinition def2=new PortableWorkDefinition();
  def2.setName("def2name");
  def2.addParameter(param3);
  def2.addParameter(param4);
  def2.addParameter(param5);
  def2.addParameter(param6);
  column1.setWorkItemDefinition(def1);
  column2.setWorkItemDefinition(def2);
  List<BaseColumnFieldDiff> diff=column1.diff(column2);
  assertNotNull(diff);
  for (  BaseColumnFieldDiff item : diff) {
    System.out.println(item.getFieldName());
    System.out.println(item.getOldValue());
    System.out.println(item.getValue());
  }
  assertEquals(6,diff.size());
  assertEquals(FIELD_WORKITEM_DEFINITION_NAME,diff.get(0).getFieldName());
  assertEquals("def1name",diff.get(0).getOldValue());
  assertEquals("def2name",diff.get(0).getValue());
  assertEquals(FIELD_WORKITEM_DEFINITION_PARAMETER_NAME,diff.get(1).getFieldName());
  assertEquals(null,diff.get(1).getOldValue());
  assertEquals("param3",diff.get(1).getValue());
  assertEquals(FIELD_WORKITEM_DEFINITION_PARAMETER_VALUE,diff.get(2).getFieldName());
  assertEquals(null,diff.get(2).getOldValue());
  assertEquals("\"value3\"",diff.get(2).getValue());
  assertEquals(FIELD_WORKITEM_DEFINITION_PARAMETER_NAME,diff.get(3).getFieldName());
  assertEquals(null,diff.get(3).getOldValue());
  assertEquals("param5",diff.get(3).getValue());
  assertEquals(FIELD_WORKITEM_DEFINITION_PARAMETER_VALUE,diff.get(4).getFieldName());
  assertEquals(null,diff.get(4).getOldValue());
  assertEquals("binding5",diff.get(4).getValue());
  assertEquals(FIELD_WORKITEM_DEFINITION_PARAMETER_VALUE,diff.get(5).getFieldName());
  assertEquals("\"value2\"",diff.get(5).getOldValue());
  assertEquals("\"value6\"",diff.get(5).getValue());
}
