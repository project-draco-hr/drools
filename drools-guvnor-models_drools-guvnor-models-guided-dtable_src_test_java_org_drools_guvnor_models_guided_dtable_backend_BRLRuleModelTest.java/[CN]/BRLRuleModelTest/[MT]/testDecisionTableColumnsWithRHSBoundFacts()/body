{
  GuidedDecisionTable52 dt=new GuidedDecisionTable52();
  Pattern52 p1=new Pattern52();
  p1.setFactType("Driver");
  p1.setBoundName("$p1");
  ConditionCol52 c1=new ConditionCol52();
  c1.setFactField("name");
  c1.setConstraintValueType(BaseSingleFieldConstraint.TYPE_LITERAL);
  c1.setBinding("$c1");
  p1.getChildColumns().add(c1);
  dt.getConditions().add(p1);
  ActionInsertFactCol52 ins=new ActionInsertFactCol52();
  ins.setBoundName("$ins");
  ins.setFactField("rating");
  ins.setFactType("Person");
  ins.setType(DataType.TYPE_STRING);
  dt.getActionCols().add(ins);
  ActionInsertFactCol52 ins2=new ActionInsertFactCol52();
  ins2.setInsertLogical(true);
  ins2.setBoundName("$ins2");
  ins2.setFactField("rating2");
  ins2.setFactType("Person2");
  ins2.setType(DataType.TYPE_STRING);
  dt.getActionCols().add(ins2);
  BRLActionColumn brlAction=new BRLActionColumn();
  ActionInsertFact aif=new ActionInsertFact("Person");
  aif.setBoundName("$aif");
  aif.addFieldValue(new ActionFieldValue("rating",null,DataType.TYPE_STRING));
  aif.getFieldValues()[0].setNature(BaseSingleFieldConstraint.TYPE_LITERAL);
  brlAction.getDefinition().add(aif);
  dt.getActionCols().add(brlAction);
  BRLRuleModel model=new BRLRuleModel(dt);
  assertNotNull(model.getRHSBoundFacts());
  assertEquals(3,model.getRHSBoundFacts().size());
  assertTrue(model.getRHSBoundFacts().contains("$ins"));
  assertTrue(model.getRHSBoundFacts().contains("$ins2"));
  assertTrue(model.getRHSBoundFacts().contains("$aif"));
  ActionInsertFact r1=model.getRHSBoundFact("$ins");
  assertNotNull(r1);
  assertTrue(r1 instanceof ActionInsertFactCol52ActionInsertFactAdaptor);
  ActionInsertFactCol52ActionInsertFactAdaptor raif1=(ActionInsertFactCol52ActionInsertFactAdaptor)r1;
  assertEquals("Person",raif1.getFactType());
  assertEquals("rating",raif1.getFieldValues()[0].getField());
  assertEquals(DataType.TYPE_STRING,raif1.getFieldValues()[0].getType());
  assertNull(raif1.getFieldValues()[0].getValue());
  assertEquals(BaseSingleFieldConstraint.TYPE_LITERAL,raif1.getFieldValues()[0].getNature());
  ActionInsertFact r2=model.getRHSBoundFact("$ins2");
  assertNotNull(r2);
  assertTrue(r2 instanceof ActionInsertFactCol52ActionInsertLogicalFactAdaptor);
  ActionInsertFactCol52ActionInsertLogicalFactAdaptor raif2=(ActionInsertFactCol52ActionInsertLogicalFactAdaptor)r2;
  assertEquals("Person2",raif2.getFactType());
  assertEquals("rating2",raif2.getFieldValues()[0].getField());
  assertEquals(DataType.TYPE_STRING,raif2.getFieldValues()[0].getType());
  assertNull(raif2.getFieldValues()[0].getValue());
  assertEquals(BaseSingleFieldConstraint.TYPE_LITERAL,raif2.getFieldValues()[0].getNature());
  ActionInsertFact r3=model.getRHSBoundFact("$aif");
  assertNotNull(r3);
  assertTrue(r3 instanceof ActionInsertFact);
  ActionInsertFact raif3=(ActionInsertFact)r3;
  assertEquals("Person",raif3.getFactType());
  assertEquals("rating",raif3.getFieldValues()[0].getField());
  assertEquals(DataType.TYPE_STRING,raif3.getFieldValues()[0].getType());
  assertNull(raif3.getFieldValues()[0].getValue());
  assertEquals(BaseSingleFieldConstraint.TYPE_LITERAL,raif3.getFieldValues()[0].getNature());
}
