{
  JTMSBeliefSet jtmsBeliefSet=(JTMSBeliefSet)fh.getEqualityKey().getBeliefSet();
  if (jtmsBeliefSet.getWorkingMemoryAction() == null) {
    WorkingMemoryAction action=new TruthMaintenanceSystem.LogicalCallback(fh,context,node.getJustifier(),update,fullyRetract);
    ((NamedEntryPoint)fh.getEntryPoint()).enQueueWorkingMemoryAction(action);
  }
 else {
    LogicalCallback callback=(LogicalCallback)jtmsBeliefSet.getWorkingMemoryAction();
    callback.setFullyRetract(fullyRetract);
    callback.setUpdate(update);
  }
}
