{
  if (jtmsBeliefSet.isNegated()) {
    jtmsBeliefSet.setNegativeFactHandle((InternalFactHandle)negEP.insert(node.getObject()));
    jtmsBeliefSet.getNegativeFactHandle().setEqualityKey(jtmsBeliefSet.getFactHandle().getEqualityKey());
    jtmsBeliefSet.setPositiveFactHandle(null);
    if (!(wasNegated || wasConflicting)) {
      defEP.getObjectStore().removeHandle(jtmsBeliefSet.getFactHandle());
    }
  }
 else {
    jtmsBeliefSet.setPositiveFactHandle(jtmsBeliefSet.getFactHandle());
    jtmsBeliefSet.setNegativeFactHandle(null);
    if (wasNegated || wasConflicting) {
      jtmsBeliefSet.getFactHandle().setObject(node.getObject());
      defEP.getObjectStore().addHandle(jtmsBeliefSet.getPositiveFactHandle(),jtmsBeliefSet.getPositiveFactHandle().getObject());
    }
    defEP.insert(jtmsBeliefSet.getPositiveFactHandle(),node.getObject(),node.getJustifier().getRule(),node.getJustifier(),typeConf);
  }
}
