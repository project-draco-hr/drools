{
  String str="";
  str+="package org.drools \n";
  str+="import org.drools.Cheese \n";
  str+="rule rule1 \n";
  str+="  when \n";
  str+="    $c : Cheese() \n";
  str+=" \n";
  str+="  then \n";
  str+="    $c.setPrice( 30 ); \n";
  str+="end\n";
  Cheese stilton=new Cheese("stilton",5);
  StatelessKnowledgeSession ksession=getSession2(ResourceFactory.newByteArrayResource(str.getBytes()));
  Command cmd=CommandFactory.newInsert(stilton,"outStilton");
  ExecutionResults result=ksession.execute(cmd);
  stilton=(Cheese)result.getValue("outStilton");
  assertEquals(30,stilton.getPrice());
}
