{
  WorkingMemory newWorkingMemory=this.getRuleExecutionSet().newWorkingMemory();
  Map props=this.getProperties();
  if (props != null) {
    for (Iterator iterator=props.entrySet().iterator(); iterator.hasNext(); ) {
      Map.Entry entry=(Map.Entry)iterator.next();
      newWorkingMemory.setGlobal((String)entry.getKey(),entry.getValue());
    }
  }
  return newWorkingMemory;
}
