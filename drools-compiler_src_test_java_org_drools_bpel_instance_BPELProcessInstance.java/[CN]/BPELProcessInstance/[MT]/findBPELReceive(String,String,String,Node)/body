{
  if (node instanceof BPELReceive) {
    BPELReceive receive=(BPELReceive)node;
    if (receive.getPartnerLink().equals(partnerLink) && receive.getPortType().equals(portType) && receive.getOperation().equals(operation)) {
      return receive;
    }
    return null;
  }
  if (node instanceof NodeContainer) {
    Node[] nodes=((NodeContainer)node).getNodes();
    for (int i=0; i < nodes.length; i++) {
      BPELReceive result=findBPELReceive(partnerLink,portType,operation,nodes[i]);
      if (result != null) {
        return result;
      }
    }
  }
  return null;
}
