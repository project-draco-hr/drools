{
  final Rule rule1=new Rule("test-rule1");
  rule1.setConsequence(this.consequence);
  FactHandleImpl tuple1Fact=(FactHandleImpl)this.workingMemory.assertObject("tuple1 object");
  FactHandleImpl tuple2Fact=(FactHandleImpl)this.workingMemory.assertObject("tuple2 object");
  FactHandleImpl[] tuple1Handles=new FactHandleImpl[1];
  FactHandleImpl[] tuple2Handles=new FactHandleImpl[1];
  tuple1Handles[0]=tuple1Fact;
  tuple2Handles[0]=tuple2Fact;
  PropagationContext context1=new PropagationContextImpl(0,PropagationContext.ASSERTION,rule1,null);
  LeapsTuple tuple1=new LeapsTuple(tuple1Handles,null,null,context1);
  this.workingMemory.assertTuple(tuple1,rule1);
  Activation activation1=this.workingMemory.getAgenda().getActivations()[0];
  String logicalString1=new String("logical");
  FactHandle logicalHandle1=this.workingMemory.assertObject(logicalString1,false,true,rule1,activation1);
  final Rule rule2=new Rule("test-rule2");
  rule2.setConsequence(this.consequence);
  PropagationContext context2=new PropagationContextImpl(0,PropagationContext.ASSERTION,rule2,null);
  LeapsTuple tuple2=new LeapsTuple(tuple2Handles,null,null,context2);
  this.workingMemory.assertTuple(tuple2,rule2);
  Activation activation2=this.workingMemory.getAgenda().getActivations()[1];
  String logicalString2=new String("logical");
  FactHandle logicalHandle2=this.workingMemory.assertObject(logicalString2,false,true,rule2,activation2);
  assertEquals(3,this.workingMemory.getObjects().size());
  this.workingMemory.retractObject(tuple1Fact);
  assertEquals(2,this.workingMemory.getObjects().size());
  this.workingMemory.retractObject(tuple2Fact);
  assertEquals(0,this.workingMemory.getObjects().size());
}
