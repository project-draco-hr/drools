{
  this.agendaGroups=new HashMap<String,AgendaGroup>();
  this.activationGroups=new HashMap<String,ActivationGroup>();
  this.ruleFlowGroups=new HashMap<String,RuleFlowGroup>();
  this.focusStack=new LinkedList<AgendaGroup>();
  this.agendaGroupFactory=rb.getConfiguration().getAgendaGroupFactory();
  if (initMain) {
    this.main=agendaGroupFactory.createAgendaGroup(AgendaGroup.MAIN,rb);
    this.agendaGroups.put(AgendaGroup.MAIN,this.main);
    this.focusStack.add(this.main);
  }
  this.consequenceExceptionHandler=rb.getConfiguration().getConsequenceExceptionHandler();
}
