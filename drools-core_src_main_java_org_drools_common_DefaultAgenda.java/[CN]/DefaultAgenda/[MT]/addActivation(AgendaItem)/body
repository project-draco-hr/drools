{
  if (declarativeAgenda) {
    if (activationObjectTypeConf == null) {
      EntryPoint ep=workingMemory.getEntryPoint();
      activationObjectTypeConf=((InternalWorkingMemoryEntryPoint)workingMemory.getWorkingMemoryEntryPoint(ep.getEntryPointId())).getObjectTypeConfigurationRegistry().getObjectTypeConf(ep,activation);
    }
    InternalFactHandle factHandle=workingMemory.getFactHandleFactory().newFactHandle(activation,activationObjectTypeConf,workingMemory,workingMemory);
    workingMemory.getEntryPointNode().assertActivation(factHandle,activation.getPropagationContext(),workingMemory);
    activation.setFactHandle(factHandle);
    if (!activation.isCanceled() && (activation.getBlockers() == null || activation.getBlockers().isEmpty())) {
      getStageActivationsGroup().addActivation(activation);
    }
    return true;
  }
 else {
    addActivation(activation,true);
    return true;
  }
}
