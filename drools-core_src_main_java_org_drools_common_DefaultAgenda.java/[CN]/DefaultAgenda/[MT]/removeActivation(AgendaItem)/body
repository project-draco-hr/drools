{
  if (declarativeAgenda) {
    workingMemory.getEntryPointNode().retractActivation(activation.getFactHandle(),activation.getPropagationContext(),workingMemory);
    if (activation.getActivationGroupNode() != null) {
      activation.getActivationGroupNode().getActivationGroup().removeActivation(activation);
    }
  }
  if (activation instanceof ScheduledAgendaItem) {
    ScheduledAgendaItem scheduledAgendaItem=(ScheduledAgendaItem)activation;
    if (scheduledAgendaItem.isEnqueued()) {
      scheduledAgendaItem.getJobHandle().setCancel(true);
      removeScheduleItem(scheduledAgendaItem);
    }
  }
}
