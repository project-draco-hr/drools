{
  AgendaGroupImpl agendaGroup=null;
  while (true) {
    agendaGroup=(AgendaGroupImpl)this.focusStack.getLast();
    final boolean empty=agendaGroup.isEmpty();
    if (empty && (this.focusStack.size() > 1)) {
      this.focusStack.removeLast();
      final EventSupport eventsupport=(EventSupport)this.workingMemory;
      eventsupport.getAgendaEventSupport().fireAgendaGroupPopped(agendaGroup);
    }
 else {
      agendaGroup=(empty) ? null : agendaGroup;
      break;
    }
  }
  return agendaGroup;
}
