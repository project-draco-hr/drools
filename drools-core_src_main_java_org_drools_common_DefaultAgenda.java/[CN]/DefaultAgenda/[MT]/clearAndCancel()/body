{
  for (final java.util.Iterator agendaGroupIterator=this.agendaGroups.values().iterator(); agendaGroupIterator.hasNext(); ) {
    final AgendaGroup group=(AgendaGroup)agendaGroupIterator.next();
    clearAndCancelAgendaGroup(group);
  }
  final EventSupport eventsupport=(EventSupport)this.workingMemory;
  if (this.scheduledActivations != null && !this.scheduledActivations.isEmpty()) {
    for (ScheduledAgendaItem item=(ScheduledAgendaItem)this.scheduledActivations.removeFirst(); item != null; item=(ScheduledAgendaItem)this.scheduledActivations.removeFirst()) {
      Scheduler.getInstance().removeAgendaItem(item);
      eventsupport.getAgendaEventSupport().fireActivationCancelled(item,this.workingMemory);
    }
  }
  for (  RuleFlowGroup group : this.ruleFlowGroups.values()) {
    clearAndCancelAndCancel(group);
  }
  for (  ActivationGroup group : this.activationGroups.values()) {
    clearAndCancelActivationGroup(group);
  }
}
