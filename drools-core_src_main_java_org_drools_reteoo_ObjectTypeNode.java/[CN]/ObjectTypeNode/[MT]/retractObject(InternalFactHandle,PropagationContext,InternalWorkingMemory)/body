{
  if (dirty) {
    otnIdCounter=0;
    updateTupleSinkId(this,this);
    dirty=false;
  }
  if (objectMemoryEnabled && !(queryNode && !((DroolsQuery)factHandle.getObject()).isOpen())) {
    final ObjectTypeNodeMemory memory=(ObjectTypeNodeMemory)workingMemory.getNodeMemory(this);
    memory.memory.remove(factHandle);
  }
  for (RightTuple rightTuple=factHandle.getFirstRightTuple(); rightTuple != null; rightTuple=rightTuple.getHandleNext()) {
    rightTuple.getRightTupleSink().retractRightTuple(rightTuple,context,workingMemory);
  }
  factHandle.clearRightTuples();
  for (LeftTuple leftTuple=factHandle.getFirstLeftTuple(); leftTuple != null; leftTuple=leftTuple.getLeftParentNext()) {
    ((LeftInputAdapterNode)leftTuple.getLeftTupleSink().getLeftTupleSource()).retractLeftTuple(leftTuple,context,workingMemory);
  }
  factHandle.clearLeftTuples();
}
