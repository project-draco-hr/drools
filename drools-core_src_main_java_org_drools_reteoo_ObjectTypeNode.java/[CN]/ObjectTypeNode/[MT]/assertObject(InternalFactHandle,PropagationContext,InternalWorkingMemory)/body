{
  final FactHashTable memory=(FactHashTable)workingMemory.getNodeMemory(this);
  if (this.objectType.isShadowEnabled()) {
    if (!(handle.getObject() instanceof ShadowProxy)) {
      handle.setObject(this.objectType.getShadow(handle.getObject()));
      handle.setShadowFact(true);
    }
 else {
      if (this.objectType.matches(handle.getObject())) {
        ((ShadowProxy)handle.getObject()).updateProxy();
      }
 else {
        ShadowProxy old=(ShadowProxy)handle.getObject();
        handle.setObject(this.objectType.getShadow(old.getShadowedObject()));
        handle.setShadowFact(true);
        ShadowProxyHelper.copyState(old,(ShadowProxy)handle.getObject());
      }
    }
  }
  if (context.getType() == PropagationContext.MODIFICATION && this.skipOnModify && context.getDormantActivations() == 0) {
    return;
  }
  memory.add(handle,false);
  this.sink.propagateAssertObject(handle,context,workingMemory);
}
