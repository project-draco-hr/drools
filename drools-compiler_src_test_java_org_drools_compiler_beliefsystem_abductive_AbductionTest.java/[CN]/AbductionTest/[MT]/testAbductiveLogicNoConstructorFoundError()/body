{
  String droolsSource="package org.drools.tms.test; \n" + "" + "import " + Abducible.class.getName() + "; \n"+ "global java.util.List list; \n"+ ""+ "declare Foo \n"+ "   @Abducible \n"+ "   id : Integer @key \n"+ "end \n"+ "query foo( String $x ) \n"+ "   @Abductive( target=Foo.class ) \n"+ "end \n"+ "rule R1 "+ "when "+ "   $x : foo( \"x\" ; ) "+ "then "+ "   list.add( $x ); "+ "end \n"+ ""+ "";
  KieSession session=getSessionFromString(droolsSource);
  List list=new ArrayList();
  session.setGlobal("list",list);
  session.fireAllRules();
  for (  Object o : session.getObjects()) {
    System.out.println(">> " + o);
  }
  System.err.println(list);
  assertEquals(1,list.size());
  assertTrue(list.contains(null));
}
