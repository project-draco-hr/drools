{
  byte[] ksessionSnapshot=internalLoadStatefulKnowledgeSession(sessionId);
  try {
    StatefulKnowledgeSession ksession=statefulKnowledgeMarshaller.unmarshall(new ByteArrayInputStream(ksessionSnapshot),kconf,env);
    ((InternalKnowledgeRuntime)ksession).setId(sessionId);
    logger.debug("loaded: KnowledgeSession {}",ksession.getId());
    return ksession;
  }
 catch (  Exception e) {
    throw new IllegalStateException("unable to unmarshall knowledge session",e);
  }
}
