{
  parser.startElementBuilder(localName,attrs);
  WorkflowProcessImpl process=(WorkflowProcessImpl)parser.getParent();
  final String name=attrs.getValue("name");
  emptyAttributeCheck(localName,"name",name,parser);
  VariableScope variableScope=(VariableScope)process.getDefaultContext(VariableScope.VARIABLE_SCOPE);
  Variable variable=new Variable();
  if (variableScope != null) {
    variable.setName(name);
    List<Variable> variables=variableScope.getVariables();
    if (variables == null) {
      variables=new ArrayList<Variable>();
      variableScope.setVariables(variables);
    }
    variables.add(variable);
  }
 else {
    throw new SAXParseException("Could not find default variable scope.",parser.getLocator());
  }
  return variable;
}
