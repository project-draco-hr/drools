{
  final Rete source=new Rete();
  final ObjectType objectType=new ClassObjectType(String.class);
  final ObjectTypeNode objectTypeNode=new ObjectTypeNode(1,objectType,source);
  assertEquals(1,objectTypeNode.getId());
  Field field=Rete.class.getDeclaredField("objectTypeNodes");
  field.setAccessible(true);
  ObjectHashMap map=(ObjectHashMap)field.get(source);
  assertEquals(0,map.size());
  objectTypeNode.attach();
  assertEquals(1,map.size());
  assertSame(objectTypeNode,map.get(objectType));
}
