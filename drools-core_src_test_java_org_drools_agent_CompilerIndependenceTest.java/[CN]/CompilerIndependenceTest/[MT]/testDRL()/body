{
  String xml="";
  xml+="<change-set xmlns='http://anonsvn.jboss.org/repos/labs/labs/jbossrules/trunk/drools-api/src/main/resources/change-set-1.0.0.xsd' >";
  xml+="    <add> ";
  xml+="        <resource source='classpath:rules.drl' type='DRL' />";
  xml+="    </add> ";
  xml+="</change-set>";
  KnowledgeBase kbase=KnowledgeBaseFactory.newKnowledgeBase();
  KnowledgeAgent kagent=this.createKAgent(kbase,true);
  try {
    kagent.applyChangeSet(ResourceFactory.newByteArrayResource(xml.getBytes()));
    fail("The agent shouldn't be able to compile the resource!");
  }
 catch (  IllegalArgumentException ex) {
  }
  kagent.dispose();
}
