{
  String xml="";
  xml+="<change-set xmlns='http://drools.org/drools-5.0/change-set'";
  xml+="    xmlns:xs='http://www.w3.org/2001/XMLSchema-instance'";
  xml+="    xs:schemaLocation='http://drools.org/drools-5.0/change-set drools-change-set-5.0.xsd' >";
  xml+="    <add> ";
  xml+="        <resource source='classpath:rules.drl' type='DRL' />";
  xml+="    </add> ";
  xml+="</change-set>";
  KnowledgeBase kbase=KnowledgeBaseFactory.newKnowledgeBase();
  KnowledgeAgent kagent=this.createKAgent(kbase,true);
  try {
    kagent.applyChangeSet(ResourceFactory.newByteArrayResource(xml.getBytes()));
    fail("The agent shouldn't be able to compile the resource!");
  }
 catch (  IllegalArgumentException ex) {
  }
  kagent.dispose();
}
