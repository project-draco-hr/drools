{
  super.setUp();
  this.rule=new Rule("test-rule");
  this.context=new PropagationContextImpl(0,PropagationContext.ASSERTION,null,null);
  this.workingMemory=new ReteooWorkingMemory(1,(ReteooRuleBase)RuleBaseFactory.newRuleBase());
  this.tupleSource=new MockTupleSource(4);
  this.objectSource=new MockObjectSource(4);
  this.sink=new MockTupleSink();
  this.accumulator=new MockAccumulator();
  ObjectType srcObjType=new ClassObjectType(String.class);
  Column sourceColumn=new Column(0,srcObjType);
  ObjectType resultObjType=new ClassObjectType(String.class);
  Column resultColumn=new Column(1,resultObjType);
  this.accumulate=new Accumulate(sourceColumn,resultColumn,new Declaration[0],this.accumulator);
  this.node=new AccumulateNode(15,this.tupleSource,this.objectSource,this.accumulate);
  this.node.addTupleSink(this.sink);
  this.memory=(BetaMemory)this.workingMemory.getNodeMemory(this.node);
  assertEquals(0,this.memory.getLeftTupleMemory().size());
  assertEquals(0,this.memory.getRightObjectMemory().size());
}
