{
  while (peer != null) {
    if (peer.getLeftTupleSink().getType() == NodeTypeEnums.AccumulateNode) {
      AccumulateContext accctx=(AccumulateContext)peer.getObject();
      collectFromLeftInput(accctx.getResultLeftTuple(),agendaItems,nodeSet,wm);
    }
 else     if (peer.getFirstChild() != null) {
      for (LeftTuple childLt=peer.getFirstChild(); childLt != null; childLt=childLt.getLeftParentNext()) {
        collectFromLeftInput(childLt,agendaItems,nodeSet,wm);
      }
    }
 else     if (peer.getLeftTupleSink().getType() == NodeTypeEnums.RuleTerminalNode) {
      agendaItems.add((AgendaItem)peer);
      nodeSet.remove(peer.getLeftTupleSink());
    }
    peer=peer.getPeer();
  }
}
