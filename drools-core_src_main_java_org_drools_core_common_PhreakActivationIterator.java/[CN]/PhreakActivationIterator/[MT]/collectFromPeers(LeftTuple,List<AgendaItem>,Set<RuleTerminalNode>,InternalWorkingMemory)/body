{
  while (peer != null) {
    if (peer.getLeftTupleSink().getType() == NodeTypeEnums.AccumulateNode) {
      AccumulateContext accctx=(AccumulateContext)peer.getObject();
      collectFromLeftInput(accctx.getResultLeftTuple(),agendaItems,nodeSet,wm);
    }
 else     if (peer.getFirstChild() != null) {
      collectFromLeftInput(peer.getFirstChild(),agendaItems,nodeSet,wm);
    }
 else     if (peer.getLeftTupleSink().getType() == NodeTypeEnums.RuleTerminalNode) {
      agendaItems.add((AgendaItem)peer);
      nodeSet.remove(peer.getLeftTupleSink());
    }
    peer=peer.getPeer();
  }
}
