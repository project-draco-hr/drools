{
  URLConnection con=url.openConnection();
  HttpURLConnection httpCon=(HttpURLConnection)con;
  try {
    httpCon.setRequestMethod("HEAD");
    String lm=httpCon.getHeaderField("lastModified");
    LastUpdatedPing ping=new LastUpdatedPing();
    ping.responseMessage=httpCon.getHeaderFields().toString();
    if (lm != null) {
      ping.lastUpdated=Long.parseLong(lm);
    }
 else {
      long httpLM=httpCon.getLastModified();
      if (httpLM > 0) {
        ping.lastUpdated=httpLM;
      }
    }
    return ping;
  }
  finally {
    httpCon.disconnect();
  }
}
