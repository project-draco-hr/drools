{
  Collection<DependencyDescriptor> deps=getArtifactResolver().getAllDependecies();
  for (  DependencyDescriptor dep : deps) {
    if (!dep.isFixedVersion()) {
      Artifact artifact=getArtifactResolver().resolveArtifact(dep.getReleaseId());
      log.debug(artifact + " resolved to  " + artifact.getFile());
      if (isKJar(artifact.getFile())) {
        usedDependencies.put(dep.getReleaseId(),new DependencyDescriptor(artifact));
      }
    }
  }
}
