{
  if (this.kieContainer != null) {
    throw new RuntimeException("Cannot change KieContainer on an already initialized KieScanner");
  }
  this.kieContainer=kieContainer;
  ReleaseId releaseId=((InternalKieContainer)kieContainer).getContainerReleaseId();
  if (releaseId == null) {
    throw new RuntimeException("The KieContainer's ReleaseId cannot be null. Are you using a KieClasspathContainer?");
  }
  DependencyDescriptor projectDescr=new DependencyDescriptor(releaseId);
  if (!projectDescr.isFixedVersion()) {
    usedDependencies.add(projectDescr);
  }
  artifactResolver=getResolverFor(kieContainer.getReleaseId(),true);
  indexAtifacts(findKJarAtifacts());
  KieScannersRegistry.register(this);
  status=Status.STOPPED;
}
