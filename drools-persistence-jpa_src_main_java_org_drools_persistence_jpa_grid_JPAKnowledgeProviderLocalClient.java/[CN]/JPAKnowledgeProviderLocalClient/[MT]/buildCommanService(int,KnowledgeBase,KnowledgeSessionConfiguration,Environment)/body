{
  try {
    Class<? extends CommandService> serviceClass=getCommandServiceClass();
    Constructor<? extends CommandService> constructor=serviceClass.getConstructor(int.class,KnowledgeBase.class,KnowledgeSessionConfiguration.class,Environment.class);
    return constructor.newInstance(sessionId,kbase,conf,env);
  }
 catch (  SecurityException e) {
    throw new IllegalStateException(e);
  }
catch (  NoSuchMethodException e) {
    throw new IllegalStateException(e);
  }
catch (  IllegalArgumentException e) {
    throw new IllegalStateException(e);
  }
catch (  InstantiationException e) {
    throw new IllegalStateException(e);
  }
catch (  IllegalAccessException e) {
    throw new IllegalStateException(e);
  }
catch (  InvocationTargetException e) {
    throw new IllegalStateException(e);
  }
}
