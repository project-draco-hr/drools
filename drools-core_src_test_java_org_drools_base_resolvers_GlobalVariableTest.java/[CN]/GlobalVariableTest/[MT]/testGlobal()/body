{
  final RuleBase rb=RuleBaseFactory.newRuleBase();
  final Package pkg=new Package("org.test");
  pkg.addGlobal("list",List.class);
  rb.addPackage(pkg);
  final WorkingMemory wm=rb.newWorkingMemory();
  final GlobalVariable global=new GlobalVariable("list",List.class);
  final Cheese stilton=new Cheese("stilton",20);
  final FactHandle stiltonHandle=wm.assertObject(stilton);
  final Tuple tuple=new ReteTuple((DefaultFactHandle)stiltonHandle);
  final List list=new ArrayList();
  wm.setGlobal("list",list);
  assertEquals(list,global.getValue(tuple,wm));
}
