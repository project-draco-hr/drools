{
  StatefulKnowledgeSessionImpl wm=(StatefulKnowledgeSessionImpl)context.wm;
  if (!wm.getActionQueue().isEmpty()) {
    ProtobufMessages.ActionQueue.Builder _queue=ProtobufMessages.ActionQueue.newBuilder();
    WorkingMemoryAction[] queue=wm.getActionQueue().toArray(new WorkingMemoryAction[wm.getActionQueue().size()]);
    for (int i=queue.length - 1; i >= 0; i--) {
      _queue.addAction(queue[i].serialize(context));
    }
    _session.setActionQueue(_queue.build());
  }
}
