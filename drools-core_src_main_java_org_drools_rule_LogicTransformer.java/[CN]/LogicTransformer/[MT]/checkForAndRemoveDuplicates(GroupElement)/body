{
  for (final ListIterator it=parent.getChildren().listIterator(); it.hasNext(); ) {
    final Object object=it.next();
    if (parent.getClass().isInstance(object) && removeDuplicate(parent,(GroupElement)object)) {
      final List newList=new ArrayList();
      final GroupElement child=(GroupElement)object;
      for (final Iterator childIter=child.getChildren().iterator(); childIter.hasNext(); ) {
        newList.add(childIter.next());
      }
      it.remove();
      for (final Iterator childIter=newList.iterator(); childIter.hasNext(); ) {
        it.add(childIter.next());
      }
    }
  }
}
