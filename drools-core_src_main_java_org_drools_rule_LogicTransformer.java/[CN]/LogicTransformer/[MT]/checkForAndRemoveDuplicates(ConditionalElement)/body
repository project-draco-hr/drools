{
  List newChildren=new ArrayList();
  for (Iterator it=parent.getChildren().iterator(); it.hasNext(); ) {
    Object object=it.next();
    if (parent.getClass().isInstance(object) && removeDuplicate(parent,(ConditionalElement)object)) {
      ConditionalElement child=(ConditionalElement)object;
      for (Iterator childIter=child.getChildren().iterator(); childIter.hasNext(); ) {
        newChildren.add(childIter.next());
      }
      it.remove();
    }
  }
  parent.getChildren().addAll(newChildren);
}
