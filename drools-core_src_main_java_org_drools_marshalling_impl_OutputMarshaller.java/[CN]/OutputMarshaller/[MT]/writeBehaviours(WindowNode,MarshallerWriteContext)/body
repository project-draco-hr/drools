{
  Behavior[] behaviors=windowNode.getBehaviors();
  WindowMemory memory=(WindowMemory)outCtx.wm.getNodeMemory(windowNode);
  Object[] behaviorContexts=(Object[])memory.behaviorContext;
  for (int i=0; i < behaviors.length; i++) {
    if (windowNode.getBehaviors()[i] instanceof SlidingTimeWindow) {
      outCtx.writeShort(PersisterEnums.SLIDING_TIME_WIN);
      outCtx.writeInt(i);
      writeSlidingTimeWindowBehaviour((SlidingTimeWindow)windowNode.getBehaviors()[i],(SlidingTimeWindowContext)behaviorContexts[i],outCtx);
    }
 else     if (windowNode.getBehaviors()[i] instanceof SlidingLengthWindow) {
      outCtx.writeShort(PersisterEnums.SLIDING_LENGTH_WIN);
      outCtx.writeInt(i);
      writeSlidingLengthWindowBehaviour((SlidingLengthWindow)windowNode.getBehaviors()[i],(SlidingLengthWindowContext)behaviorContexts[i],outCtx);
    }
  }
  outCtx.writeShort(PersisterEnums.END);
}
