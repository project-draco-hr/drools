{
  if (action instanceof DroolsConsequenceAction) {
    DroolsConsequenceAction consequenceAction=(DroolsConsequenceAction)action;
    xmlDump.append("        <action type=\"expression\" ");
    String name=consequenceAction.getName();
    if (name != null) {
      xmlDump.append("name=\"" + name + "\" ");
    }
    String dialect=consequenceAction.getDialect();
    if (dialect != null) {
      xmlDump.append("dialect=\"" + dialect + "\" ");
    }
    String consequence=consequenceAction.getConsequence();
    if (consequence == null) {
      xmlDump.append("/>" + EOL);
    }
 else {
      xmlDump.append(">" + XmlDumper.replaceIllegalChars(consequence.trim()) + "</action>"+ EOL);
    }
  }
 else {
    throw new IllegalArgumentException("Unknown action " + action);
  }
}
