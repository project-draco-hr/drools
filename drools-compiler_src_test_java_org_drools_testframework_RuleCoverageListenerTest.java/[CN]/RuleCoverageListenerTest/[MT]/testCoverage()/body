{
  HashSet<String> rules=new HashSet<String>();
  rules.add("rule1");
  rules.add("rule2");
  rules.add("rule3");
  RuleCoverageListener ls=new RuleCoverageListener(rules);
  assertEquals(3,ls.getUnfiredRules().size());
  assertEquals(0,ls.getPercentCovered());
  ls.afterActivationFired(new AfterActivationFiredEvent(new MockActivation("rule1")),null);
  assertEquals(2,ls.getUnfiredRules().size());
  assertTrue(ls.getUnfiredRules().contains("rule2"));
  assertTrue(ls.getUnfiredRules().contains("rule3"));
  assertFalse(ls.getUnfiredRules().contains("rule1"));
  assertEquals(33,ls.getPercentCovered());
  ls.afterActivationFired(new AfterActivationFiredEvent(new MockActivation("rule2")),null);
  assertEquals(1,ls.getUnfiredRules().size());
  assertFalse(ls.getUnfiredRules().contains("rule2"));
  assertFalse(ls.getUnfiredRules().contains("rule1"));
  assertTrue(ls.getUnfiredRules().contains("rule3"));
  assertEquals(66,ls.getPercentCovered());
  ls.afterActivationFired(new AfterActivationFiredEvent(new MockActivation("rule3")),null);
  assertEquals(0,ls.getUnfiredRules().size());
  assertFalse(ls.getUnfiredRules().contains("rule2"));
  assertFalse(ls.getUnfiredRules().contains("rule1"));
  assertFalse(ls.getUnfiredRules().contains("rule3"));
  assertEquals(100,ls.getPercentCovered());
}
