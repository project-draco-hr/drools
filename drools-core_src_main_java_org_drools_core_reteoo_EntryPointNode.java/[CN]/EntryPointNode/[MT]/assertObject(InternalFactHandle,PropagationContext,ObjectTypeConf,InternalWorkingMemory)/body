{
  if (log.isTraceEnabled()) {
    log.trace("Insert {}",handle.toString());
  }
  ObjectTypeNode[] cachedNodes=objectTypeConf.getObjectTypeNodes();
  for (int i=0, length=cachedNodes.length; i < length; i++) {
    cachedNodes[i].assertObject(handle,context,workingMemory);
  }
  if (objectTypeConf.getConcreteObjectTypeNode() == null && context.getReaderContext() == null) {
    long expirationOffset=((ClassObjectTypeConf)objectTypeConf).getExpirationOffset();
    if (expirationOffset >= 0 && expirationOffset != Long.MAX_VALUE) {
      scheduleExpiration(context,workingMemory,handle,expirationOffset,new StatefulKnowledgeSessionImpl.WorkingMemoryReteExpireAction((EventFactHandle)handle));
    }
  }
  if (cachedNodes.length > 0 && workingMemory.getSessionConfiguration().isThreadSafe()) {
    ((StatefulKnowledgeSessionImpl)workingMemory).addPropagation(new PropagationEntry.Insert(cachedNodes,handle,context));
  }
}
