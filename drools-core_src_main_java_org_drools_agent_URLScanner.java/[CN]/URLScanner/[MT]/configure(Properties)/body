{
  List uriList=RuleAgent.list(config.getProperty(RuleAgent.URLS));
  urls=new URL[uriList.size()];
  for (int i=0; i < uriList.size(); i++) {
    String url=(String)uriList.get(i);
    try {
      urls[i]=new URL(url);
    }
 catch (    MalformedURLException e) {
      throw new RuntimeException("The URL " + url + " is not valid.",e);
    }
  }
  String localCache=config.getProperty(RuleAgent.LOCAL_URL_CACHE);
  if (localCache != null) {
    localCacheDir=new File(localCache);
    if (!localCacheDir.isDirectory()) {
      throw new RuntimeDroolsException("The local cache dir " + localCache + " is a file, not a directory.");
    }
    this.localCacheFileScanner=new FileScanner();
    this.localCacheFileScanner.setFiles(getFiles(urls,localCacheDir));
  }
}
