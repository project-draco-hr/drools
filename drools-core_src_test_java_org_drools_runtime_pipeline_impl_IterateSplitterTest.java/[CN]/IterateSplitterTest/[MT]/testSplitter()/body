{
  MockClass mock=new MockClass();
  List<Integer> list=new ArrayList<Integer>();
  Action action=PipelineFactory.newMvelAction("this.setValues( [0, 1, 2, 3, 4] ) ");
  Expression expr=PipelineFactory.newMvelExpression("this.values");
  action.setReceiver(expr);
  Splitter splitter=PipelineFactory.newIterateSplitter();
  expr.setReceiver(splitter);
  ListAdapter listAdapter=PipelineFactory.newListAdapter(list,true);
  splitter.setReceiver(listAdapter);
  assertNull(mock.getValues());
  action.receive(mock,new BasePipelineContext(Thread.currentThread().getContextClassLoader()));
  System.out.println(list.get(0));
  assertEquals(5,list.size());
  assertEquals(0,list.get(0).intValue());
  assertEquals(4,list.get(4).intValue());
}
