{
  boolean wasUndecided=beliefSet.isUndecided();
  beliefSet.remove((LinkedListNode)node.getMode());
  PropertyReference propRef=(PropertyReference)node.getObject();
  BayesFact bayesFact=(BayesFact)propRef.getInstance();
  BayesInstance bayesInstance=bayesFact.getBayesInstance();
  BayesVariable var=(BayesVariable)bayesInstance.getFieldNames().get(propRef.getName());
  boolean empty=beliefSet.isEmpty();
  if (empty) {
    bayesInstance.unsetLikelyhood(var);
    return;
  }
  BayesHardEvidence evidence=(BayesHardEvidence)beliefSet.getFirst();
  if (!wasUndecided && beliefSet.isUndecided()) {
    bayesInstance.setDecided(var,false);
    bayesInstance.unsetLikelyhood(var);
  }
 else   if (wasUndecided && !beliefSet.isUndecided()) {
    bayesInstance.setDecided(var,true);
    bayesInstance.setLikelyhood(var,evidence.getDistribution());
  }
}
