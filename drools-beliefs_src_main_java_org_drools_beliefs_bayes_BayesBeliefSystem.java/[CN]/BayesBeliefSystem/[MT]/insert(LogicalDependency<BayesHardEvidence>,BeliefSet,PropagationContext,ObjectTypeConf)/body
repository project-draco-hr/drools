{
  boolean wasEmpty=beliefSet.isEmpty();
  boolean wasUndecided=beliefSet.isUndecided();
  beliefSet.add((LinkedListNode)node.getMode());
  BayesHardEvidence evidence=(BayesHardEvidence)beliefSet.getFirst();
  PropertyReference propRef=(PropertyReference)node.getObject();
  BayesFact bayesFact=(BayesFact)propRef.getInstance();
  BayesInstance bayesInstance=bayesFact.getBayesInstance();
  FactHandle fh=beliefSet.getFactHandle();
  BayesVariable var=(BayesVariable)bayesInstance.getFieldNames().get(propRef.getName());
  if (!wasUndecided && beliefSet.isUndecided()) {
    bayesInstance.setDecided(var,false);
    bayesInstance.setLikelyhood(var,null);
  }
 else {
    bayesInstance.setDecided(var,true);
    bayesInstance.setLikelyhood(var,evidence.getDistribution());
  }
}
