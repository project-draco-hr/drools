{
  PackageItem pkg=getRepo().createPackage("searchByFormat","");
  getRepo().save();
  AssetItem item=pkg.addAsset("searchByFormatAsset1","");
  item.updateFormat("xyz");
  item.checkin("la");
  item=pkg.addAsset("searchByFormatAsset2","wee");
  item.updateFormat("xyz");
  item.checkin("la");
  item=pkg.addAsset("searchByFormatAsset3","wee");
  item.updateFormat("ABC");
  item.checkin("la");
  Thread.sleep(150);
  AssetItemIterator it=pkg.queryAssets("drools:format='xyz'");
  List list=iteratorToList(it);
  assertEquals(2,list.size());
  assertTrue(list.get(0) instanceof AssetItem);
  assertTrue(list.get(1) instanceof AssetItem);
  AssetItemIterator it2=pkg.listAssetsByFormat(new String[]{"xyz"});
  List list2=iteratorToList(it2);
  assertEquals(2,list2.size());
  assertTrue(list2.get(0) instanceof AssetItem);
  assertTrue(list2.get(1) instanceof AssetItem);
  it2=pkg.listAssetsByFormat(new String[]{"xyz","ABC"});
  list2=iteratorToList(it2);
  assertEquals(3,list2.size());
  assertTrue(list2.get(0) instanceof AssetItem);
  assertTrue(list2.get(1) instanceof AssetItem);
  assertTrue(list2.get(2) instanceof AssetItem);
}
