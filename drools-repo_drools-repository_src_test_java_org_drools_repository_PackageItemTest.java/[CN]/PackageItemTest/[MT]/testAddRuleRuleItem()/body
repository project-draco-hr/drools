{
  PackageItem rulePackageItem1=getRepo().createPackage("testAddRuleRuleItem","desc");
  AssetItem ruleItem1=rulePackageItem1.addAsset("testAddRuleRuleItem","test description");
  ruleItem1.updateContent("test content");
  ruleItem1.checkin("updated the rule content");
  Iterator rulesIt=rulePackageItem1.getAssets();
  assertNotNull(rulesIt);
  AssetItem first=(AssetItem)rulesIt.next();
  assertFalse(rulesIt.hasNext());
  assertEquals("testAddRuleRuleItem",first.getName());
  ruleItem1.updateContent("new lhs");
  ruleItem1.checkin("updated again");
  rulesIt=rulePackageItem1.getAssets();
  assertNotNull(rulesIt);
  List rules=iteratorToList(rulesIt);
  assertEquals(1,rules.size());
  assertEquals("testAddRuleRuleItem",((AssetItem)rules.get(0)).getName());
  assertEquals("new lhs",((AssetItem)rules.get(0)).getContent());
  AssetItem ruleItem2=rulePackageItem1.addAsset("testAddRuleRuleItem2","test content");
  rules=iteratorToList(rulePackageItem1.getAssets());
  assertNotNull(rules);
  assertEquals(2,rules.size());
}
