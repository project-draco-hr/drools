{
  PackageItem pack=getRepo().createPackage("package testIgnoreState","foo");
  getRepo().createState("x");
  AssetItem rule1=pack.addAsset("rule number 1","yeah man");
  rule1.updateState("x");
  rule1.checkin("version0");
  AssetItem rule2=pack.addAsset("rule number 2","no way");
  rule2.updateState("x");
  rule2.checkin("version0");
  AssetItem rule3=pack.addAsset("rule number 3","yes way");
  getRepo().createState("disabled");
  rule3.updateState("disabled");
  rule3.checkin("version0");
  getRepo().save();
  Iterator result=pack.getAssetsWithStatus(getRepo().getState("x"),getRepo().getState("disabled"));
  List l=iteratorToList(result);
  assertEquals(2,l.size());
}
