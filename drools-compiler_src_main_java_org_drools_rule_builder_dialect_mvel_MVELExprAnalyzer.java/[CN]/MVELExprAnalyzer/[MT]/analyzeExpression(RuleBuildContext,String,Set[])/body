{
  ExpressionCompiler compiler=new ExpressionCompiler(expr);
  ParserContext parserContext=new ParserContext();
  parserContext.setStrictTypeEnforcement(false);
  MVELDialect dialect=(MVELDialect)context.getDialect("mvel");
  parserContext.setImports(dialect.getClassImportResolverFactory().getImportedClasses());
  parserContext.setInterceptors(dialect.getInterceptors());
  compiler.compile(parserContext);
  return analyze(compiler.getParserContextState().getInputs().keySet(),availableIdentifiers);
}
