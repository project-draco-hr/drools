{
  KnowledgeBase kbase=KnowledgeBaseFactory.newKnowledgeBase();
  ReteooRuleBase rbase=(ReteooRuleBase)((KnowledgeBaseImpl)kbase).getRuleBase();
  Rete rete=rbase.getRete();
  NodeFactory nFacotry=((ReteooRuleBase)rbase).getConfiguration().getComponentFactory().getNodeFactoryService();
  EntryPointNode epn=nFacotry.buildEntryPointNode(rbase.getReteooBuilder().getIdGenerator().getNextId(),RuleBasePartitionId.MAIN_PARTITION,rbase.getConfiguration().isMultithreadEvaluation(),rete,new EntryPointId("xxx"));
  rbase.getRete().addObjectSink(epn);
  StatefulKnowledgeSession ksession=kbase.newStatefulKnowledgeSession();
  org.kie.api.runtime.rule.FactHandle f1=ksession.insert("f1");
  EntryPoint ep=ksession.getEntryPoint("xxx");
  try {
    ep.update(f1,"s1");
    fail("Should throw an exception");
  }
 catch (  IllegalArgumentException e) {
  }
  try {
    ep.retract(f1);
    fail("Should throw an exception");
  }
 catch (  IllegalArgumentException e) {
  }
  ksession.update(f1,"s1");
  assertNotNull(ksession.getObject(f1));
  ksession.retract(f1);
  ksession.retract(f1);
  assertNull(ksession.getObject(f1));
}
