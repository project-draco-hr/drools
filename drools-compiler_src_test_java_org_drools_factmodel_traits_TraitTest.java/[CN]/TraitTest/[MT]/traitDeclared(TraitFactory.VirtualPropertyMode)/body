{
  List<Integer> trueTraits=new ArrayList<Integer>();
  List<Integer> untrueTraits=new ArrayList<Integer>();
  StatefulKnowledgeSession ks=getSession("org/drools/factmodel/traits/testDeclaredFactTrait.drl");
  TraitFactory.setMode(mode,ks.getKnowledgeBase());
  ks.setGlobal("trueTraits",trueTraits);
  ks.setGlobal("untrueTraits",untrueTraits);
  ks.fireAllRules();
  ks.dispose();
  assertTrue(trueTraits.contains(1));
  assertFalse(trueTraits.contains(2));
  assertTrue(untrueTraits.contains(2));
  assertFalse(untrueTraits.contains(1));
}
