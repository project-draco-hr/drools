{
  KnowledgeBuilder kbuilder=KnowledgeBuilderFactory.newKnowledgeBuilder();
  kbuilder.add(ResourceFactory.newClassPathResource("BrlRule.package",getClass()),ResourceType.DRL);
  kbuilder.add(ResourceFactory.newClassPathResource("BrlRule.brl",getClass()),ResourceType.BRL);
  KnowledgeBase kbase=kbuilder.newKnowledgeBase();
  kbase=SerializationHelper.serializeObject(kbase);
  StatefulKnowledgeSession session=kbase.newStatefulKnowledgeSession();
  session.insert(new Person("Bob"));
  assertEquals(1,session.getObjects().size());
  session.fireAllRules();
  assertEquals(0,session.getObjects().size());
}
