{
  WorkingMemory wm=RuleBaseWrapper.getInstance().getRuleBase().newWorkingMemory(true);
  parseFacts(scenario.getFacts(),wm);
  Collection rules=specifyRulesToFire(scenario.getRules(),wm);
  wm.fireAllRules(new MultipleRuleAgendaFilter(rules));
  setOutcomes(scenario,wm);
  wm.dispose();
}
