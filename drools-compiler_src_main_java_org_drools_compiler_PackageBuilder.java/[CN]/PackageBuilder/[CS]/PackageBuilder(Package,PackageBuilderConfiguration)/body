{
  if (configuration == null) {
    configuration=new PackageBuilderConfiguration();
  }
  this.compiler=getCompiler(configuration.getCompiler());
  this.configuration=configuration;
  this.src=new MemoryResourceReader();
  this.results=new ArrayList();
  this.errorHandlers=new HashMap();
  this.pkg=pkg;
  this.generatedClassList=new ArrayList();
  this.classFieldExtractorCache=new ClassFieldExtractorCache();
  if (pkg != null) {
    this.packageStoreWrapper=new PackageStore(pkg.getPackageCompilationData());
  }
}
