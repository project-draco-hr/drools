{
  if (configuration == null) {
    configuration=new PackageBuilderConfiguration();
  }
  this.configuration=configuration;
  if (ruleBase != null) {
    this.rootClassLoader=((InternalRuleBase)ruleBase).getRootClassLoader();
  }
 else {
    this.rootClassLoader=new CompositeClassLoader(this.configuration.getClassLoader());
  }
  this.defaultDialect=this.configuration.getDefaultDialect();
  this.pkgRegistryMap=new HashMap<String,PackageRegistry>();
  this.results=new ArrayList();
  this.ruleBase=(ReteooRuleBase)ruleBase;
  globals=new HashMap<String,Class<?>>();
}
