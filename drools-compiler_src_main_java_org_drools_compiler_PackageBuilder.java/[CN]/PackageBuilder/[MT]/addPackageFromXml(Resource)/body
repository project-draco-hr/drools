{
  if (resource.hasURL()) {
    this.url=resource.getURL().toExternalForm();
  }
  final XmlPackageReader xmlReader=new XmlPackageReader(this.configuration.getSemanticModules());
  try {
    xmlReader.read(resource.getReader());
  }
 catch (  final SAXException e) {
    throw new DroolsParserException(e.toString(),e.getCause());
  }
  addPackage(xmlReader.getPackageDescr());
  this.url=null;
}
