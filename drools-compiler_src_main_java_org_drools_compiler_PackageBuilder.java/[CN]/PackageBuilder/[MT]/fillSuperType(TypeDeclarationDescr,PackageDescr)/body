{
  String declaredSuperType=typeDescr.getSuperTypeName();
  if (declaredSuperType != null) {
    int separator=declaredSuperType.lastIndexOf(".");
    boolean qualified=separator > 0;
    if (!qualified) {
      declaredSuperType=resolveSuperType(declaredSuperType,packageDescr,this.pkgRegistryMap.get(typeDescr.getNamespace()));
    }
    separator=declaredSuperType.lastIndexOf(".");
    if (separator < 0) {
      this.results.add(new TypeDeclarationError("Cannot resolve supertype '" + typeDescr.getSuperTypeName() + "'",typeDescr.getLine()));
      typeDescr.setSuperTypeName(null);
      typeDescr.setSuperTypeNamespace(null);
    }
 else {
      typeDescr.setSuperTypeName(declaredSuperType.substring(separator + 1));
      typeDescr.setSuperTypeNamespace(declaredSuperType.substring(0,separator));
    }
  }
}
