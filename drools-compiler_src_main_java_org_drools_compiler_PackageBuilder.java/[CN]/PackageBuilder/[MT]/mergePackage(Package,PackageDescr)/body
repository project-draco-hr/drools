{
  final List imports=packageDescr.getImports();
  for (final Iterator it=imports.iterator(); it.hasNext(); ) {
    pkg.addImport(((ImportDescr)it.next()).getTarget());
  }
  for (final Iterator it=packageDescr.getFunctionImports().iterator(); it.hasNext(); ) {
    pkg.addFunctionImport(((FunctionImportDescr)it.next()).getTarget());
  }
  final TypeResolver typeResolver=new ClassTypeResolver(pkg.getImports(),pkg.getPackageCompilationData().getClassLoader());
  final List globals=packageDescr.getGlobals();
  for (final Iterator it=globals.iterator(); it.hasNext(); ) {
    final GlobalDescr global=(GlobalDescr)it.next();
    final String identifier=global.getIdentifier();
    final String className=global.getType();
    Class clazz;
    try {
      clazz=typeResolver.resolveType(className);
      pkg.addGlobal(identifier,clazz);
    }
 catch (    final ClassNotFoundException e) {
      new GlobalError(identifier);
    }
  }
}
