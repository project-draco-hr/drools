{
  final List imports=packageDescr.getImports();
  for (final Iterator it=imports.iterator(); it.hasNext(); ) {
    pkg.addImport((String)it.next());
  }
  for (final Iterator it=packageDescr.getFunctionImports().iterator(); it.hasNext(); ) {
    pkg.addFunctionImport((String)it.next());
  }
  final TypeResolver typeResolver=new ClassTypeResolver(imports,pkg.getPackageCompilationData().getClassLoader());
  final Map globals=packageDescr.getGlobals();
  for (final Iterator it=globals.keySet().iterator(); it.hasNext(); ) {
    final String identifier=(String)it.next();
    final String className=(String)globals.get(identifier);
    Class clazz;
    try {
      clazz=typeResolver.resolveType(className);
      pkg.addGlobal(identifier,clazz);
    }
 catch (    final ClassNotFoundException e) {
      new GlobalError(identifier);
    }
  }
}
