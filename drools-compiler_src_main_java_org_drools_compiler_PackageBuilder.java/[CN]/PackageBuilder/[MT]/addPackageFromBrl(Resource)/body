{
  this.resource=resource;
  try {
    BusinessRuleProvider provider=BusinessRuleProviderFactory.getInstance().getProvider();
    Reader knowledge=provider.getKnowledgeReader(resource);
    DrlParser parser=new DrlParser();
    DefaultExpander expander=getDslExpander();
    if (null != expander) {
      knowledge=new StringReader(expander.expand(knowledge));
      if (expander.hasErrors())       this.results.addAll(expander.getErrors());
    }
    PackageDescr pkg=parser.parse(knowledge);
    if (parser.hasErrors()) {
      this.results.addAll(parser.getErrors());
    }
 else {
      addPackage(pkg);
    }
  }
 catch (  Exception e) {
    throw new DroolsParserException(e);
  }
 finally {
    this.resource=null;
  }
}
