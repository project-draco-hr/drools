{
  String typeName=cls.getName();
  int lastDot=typeName.lastIndexOf('.');
  typeName=lastDot >= 0 ? typeName.substring(lastDot + 1) : typeName;
  TypeDeclaration typeDeclaration=new TypeDeclaration(typeName);
  typeDeclaration.setTypeClass(cls);
  PropertySpecificOption propertySpecificOption=configuration.getOption(PropertySpecificOption.class);
  boolean propertySpecific=propertySpecificOption.isPropSpecific(cls.isAnnotationPresent(PropertyReactive.class),cls.isAnnotationPresent(ClassReactive.class));
  typeDeclaration.setPropertySpecific(propertySpecific);
  ClassDefinition clsDef=typeDeclaration.getTypeClassDef();
  if (clsDef == null) {
    clsDef=new ClassDefinition();
    if (typeDeclaration.isPropertySpecific()) {
      processModifiedProps(cls,clsDef);
    }
    processFieldsPosition(cls,clsDef);
    typeDeclaration.setTypeClassDef(clsDef);
  }
  return typeDeclaration;
}
