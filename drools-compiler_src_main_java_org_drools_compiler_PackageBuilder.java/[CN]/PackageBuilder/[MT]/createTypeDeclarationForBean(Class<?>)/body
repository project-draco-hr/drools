{
  String typeName=cls.getName();
  int lastDot=typeName.lastIndexOf('.');
  typeName=lastDot >= 0 ? typeName.substring(lastDot + 1) : typeName;
  TypeDeclaration typeDeclaration=new TypeDeclaration(typeName);
  typeDeclaration.setTypeClass(cls);
  typeDeclaration.setPropertySpecific(cls.isAnnotationPresent(PropertySpecific.class));
  ClassDefinition clsDef=typeDeclaration.getTypeClassDef();
  if (clsDef == null) {
    clsDef=new ClassDefinition();
    if (typeDeclaration.isPropertySpecific()) {
      processModifiedProps(cls,clsDef);
    }
    processFieldsPosition(cls,clsDef);
    typeDeclaration.setTypeClassDef(clsDef);
  }
  return typeDeclaration;
}
