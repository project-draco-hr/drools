{
switch (this.configuration.getCompiler()) {
case PackageBuilderConfiguration.JANINO:
{
      if (!"1.4".equals(this.configuration.getJavaLanguageLevel())) {
        throw new RuntimeDroolsException("Incompatible Java language level with selected compiler");
      }
      this.compiler=JavaCompilerFactory.getInstance().createCompiler("janino");
      break;
    }
case PackageBuilderConfiguration.ECLIPSE:
default :
{
    final EclipseJavaCompilerSettings eclipseSettings=new EclipseJavaCompilerSettings();
    eclipseSettings.getMap().put("org.eclipse.jdt.core.compiler.codegen.targetPlatform",this.configuration.getJavaLanguageLevel());
    eclipseSettings.getMap().put("org.eclipse.jdt.core.compiler.source",this.configuration.getJavaLanguageLevel());
    this.compiler=new EclipseJavaCompiler(eclipseSettings);
    break;
  }
}
}
