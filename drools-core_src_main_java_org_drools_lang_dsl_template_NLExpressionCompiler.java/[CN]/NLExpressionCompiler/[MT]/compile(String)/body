{
  String nl=expression;
  for (Iterator iter=templateCache.entrySet().iterator(); iter.hasNext(); ) {
    Map.Entry entry=(Map.Entry)iter.next();
    NLMappingItem mapping=(NLMappingItem)entry.getKey();
    TemplateContext ctx=(TemplateContext)entry.getValue();
    nl=ctx.processAllInstances(nl,mapping.getGrammarTemplate());
  }
  return nl;
}
