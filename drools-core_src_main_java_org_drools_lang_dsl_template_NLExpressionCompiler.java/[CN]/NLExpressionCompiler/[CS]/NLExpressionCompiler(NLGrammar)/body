{
  Collection grammarItems=grammar.getMappings();
  this.templateCache=new HashMap();
  TemplateFactory factory=new TemplateFactory();
  for (Iterator iter=grammarItems.iterator(); iter.hasNext(); ) {
    NLMappingItem mapping=(NLMappingItem)iter.next();
    TemplateContext ctx=factory.getContext(mapping.getNaturalTemplate());
    templateCache.put(mapping,ctx);
  }
}
