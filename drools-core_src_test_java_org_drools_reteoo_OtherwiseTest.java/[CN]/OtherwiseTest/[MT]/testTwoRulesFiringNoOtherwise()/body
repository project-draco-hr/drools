{
  final RuleBase ruleBase=RuleBaseFactory.newRuleBase(RuleBase.RETEOO);
  final Package pkg=new Package("Miss Manners");
  final Rule rule1=getRule("rule1");
  pkg.addRule(rule1);
  final Rule rule2=getRule("rule2");
  pkg.addRule(rule2);
  final Rule ruleOtherwise=getOtherwise("ruleOtherwise");
  pkg.addRule(ruleOtherwise);
  ruleBase.addPackage(pkg);
  final WorkingMemory workingMemory=ruleBase.newStatefulSession();
  workingMemory.insert(new TestBean());
  workingMemory.fireAllRules();
  assertFalse(((MockConsequence)ruleOtherwise.getConsequence()).fired);
  assertTrue(((MockConsequence)rule1.getConsequence()).fired);
  assertTrue(((MockConsequence)rule2.getConsequence()).fired);
}
