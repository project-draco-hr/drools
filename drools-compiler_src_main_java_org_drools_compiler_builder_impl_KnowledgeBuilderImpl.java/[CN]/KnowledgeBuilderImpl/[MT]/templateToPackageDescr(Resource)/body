{
  GuidedRuleTemplateConverter converter=GuidedRuleTemplateConverterFactory.getGuidedRuleTemplateConverter();
  if (converter == null) {
    return null;
  }
  byte[] template=readBytesFromInputStream(resource.getInputStream());
  byte[] drl=converter.convert(template);
  final DrlParser parser=new DrlParser(configuration.getLanguageLevel());
  PackageDescr pkg=parser.parse(resource,new ByteArrayInputStream(drl));
  this.results.addAll(parser.getErrors());
  if (pkg == null) {
    addBuilderResult(new ParserError(resource,"Parser returned a null Package",0,0));
  }
 else {
    pkg.setResource(resource);
  }
  return parser.hasErrors() ? null : pkg;
}
