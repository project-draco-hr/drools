{
  if (insn > this.n - 1) {
    throw new AnalyzerException("Execution can fall off end of the code");
  }
  final Frame oldFrame=this.frames[insn];
  final Subroutine oldSubroutine=this.subroutines[insn];
  boolean changes=false;
  afterRET.merge(beforeJSR,access);
  if (oldFrame == null) {
    this.frames[insn]=newFrame(afterRET);
    changes=true;
  }
 else {
    changes|=oldFrame.merge(afterRET,access);
  }
  newControlFlowEdge(afterRET,oldFrame);
  if (oldSubroutine == null) {
    if (subroutineBeforeJSR != null) {
      this.subroutines[insn]=subroutineBeforeJSR.copy();
      changes=true;
    }
  }
 else {
    if (subroutineBeforeJSR != null) {
      changes|=oldSubroutine.merge(subroutineBeforeJSR,!this.jsr);
    }
  }
  if (changes && !this.queued[insn]) {
    this.queued[insn]=true;
    this.queue[this.top++]=insn;
  }
}
