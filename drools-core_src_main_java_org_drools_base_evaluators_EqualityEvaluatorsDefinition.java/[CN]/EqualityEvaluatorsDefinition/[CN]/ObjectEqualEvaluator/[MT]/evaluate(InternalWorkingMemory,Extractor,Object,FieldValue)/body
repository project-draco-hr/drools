{
  final Object value1=extractor.getValue(workingMemory,object1);
  final Object value2=object2.getValue();
  if (value1 == null) {
    return value2 == null;
  }
  if (value2 != null && value2 instanceof ShadowProxy) {
    return comparator.equals(value2,value1);
  }
  return comparator.equals(value1,value2);
}
