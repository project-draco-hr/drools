{
  final Element element=parser.endElementBuilder();
  Work work=(Work)parser.getParent();
  final String name=element.getAttribute("name");
  emptyAttributeCheck(localName,"name",name,parser);
  final String type=element.getAttribute("type");
  emptyAttributeCheck(localName,"type",type,parser);
  DataType dataType=null;
  try {
    dataType=(DataType)Class.forName(type).newInstance();
  }
 catch (  ClassNotFoundException e) {
    throw new SAXParseException("Could not find datatype " + name,parser.getLocator());
  }
catch (  InstantiationException e) {
    throw new SAXParseException("Could not instantiate datatype " + name,parser.getLocator());
  }
catch (  IllegalAccessException e) {
    throw new SAXParseException("Could not access datatype " + name,parser.getLocator());
  }
  String text=((Text)element.getChildNodes().item(0)).getWholeText();
  if (text != null) {
    text=text.trim();
    if ("".equals(text)) {
      text=null;
    }
  }
  Object value=restoreValue(text,dataType,parser);
  ParameterDefinition parameterDefinition=new ParameterDefinitionImpl(name,dataType);
  work.addParameterDefinition(parameterDefinition);
  work.setParameter(name,value);
  return null;
}
