{
  final org.drools.util.LinkedList list=activation.getLogicalDependencies();
  if (list == null || list.isEmpty()) {
    return;
  }
  for (LogicalDependency node=(LogicalDependency)list.getFirst(); node != null; node=(LogicalDependency)node.getNext()) {
    final InternalFactHandle handle=(InternalFactHandle)node.getFactHandle();
    final Set set=(Set)this.justifiedMap.get(handle.getId());
    if (set != null) {
      set.remove(node);
      if (set.isEmpty()) {
        WorkingMemoryAction action=new LogicalRetractCallback(this,set,handle,context);
        workingMemory.queueWorkingMemoryAction(action);
      }
    }
  }
}
