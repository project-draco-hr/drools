{
  setKSession(getModelSession(smartVent,VERBOSE));
  setKbase(getKSession().getKieBase());
  getKSession().fireAllRules();
  getKSession().getEntryPoint("in_PIP").insert(28.0);
  getKSession().getEntryPoint("in_PEEP").insert(5.0);
  getKSession().getEntryPoint("in_RATE").insert(30.0);
  getKSession().getEntryPoint("in_IT").insert(0.4);
  getKSession().getEntryPoint("in_Ph").insert(7.281);
  getKSession().getEntryPoint("in_CO2").insert(39.3);
  getKSession().getEntryPoint("in_PaO2").insert(126.0);
  getKSession().getEntryPoint("in_FIO2").insert(100.0);
  getKSession().fireAllRules();
  assertEquals(24.0,queryDoubleField("Out_sPIP","SmartVent"),0.5);
  assertEquals(5,queryDoubleField("Out_sPEEP","SmartVent"),0.1);
  assertEquals(30,queryDoubleField("Out_sRATE","SmartVent"),0.5);
  assertEquals(0.4,queryDoubleField("Out_sIT","SmartVent"),0.05);
  assertEquals(-1,queryDoubleField("Out_sFIO2","SmartVent"),0.05);
  getKSession().getEntryPoint("in_RATE").insert(20.0);
  getKSession().getEntryPoint("in_PaO2").insert(75.0);
  getKSession().getEntryPoint("in_Ph").insert(7.31);
  getKSession().getEntryPoint("in_CO2").insert(37.0);
  getKSession().getEntryPoint("in_IT").insert(0.4);
  getKSession().getEntryPoint("in_PIP").insert(20.0);
  getKSession().getEntryPoint("in_PEEP").insert(4.0);
  getKSession().getEntryPoint("in_FIO2").insert(38.0);
  getKSession().fireAllRules();
  assertEquals(18,queryDoubleField("Out_sPIP","SmartVent"),0.5);
  assertEquals(4.12,queryDoubleField("Out_sPEEP","SmartVent"),0.1);
  assertEquals(19,queryDoubleField("Out_sRATE","SmartVent"),0.5);
  assertEquals(0.4,queryDoubleField("Out_sIT","SmartVent"),0.05);
  assertEquals(-1,queryDoubleField("Out_sFIO2","SmartVent"),0.05);
}
