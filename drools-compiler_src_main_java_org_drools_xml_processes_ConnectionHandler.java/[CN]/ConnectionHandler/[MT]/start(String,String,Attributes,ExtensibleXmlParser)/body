{
  parser.startConfiguration(localName,attrs);
  String fromId=attrs.getValue("from");
  emptyAttributeCheck(localName,"from",fromId,parser);
  String toId=attrs.getValue("to");
  emptyAttributeCheck(localName,"to",toId,parser);
  String bendpoints=attrs.getValue("bendpoints");
  NodeContainer nodeContainer=(NodeContainer)parser.getParent();
  Node fromNode=nodeContainer.getNode(new Long(fromId));
  Node toNode=nodeContainer.getNode(new Long(toId));
  if (fromNode == null) {
    throw new SAXParseException("Node '" + fromId + "' cannot be found",parser.getLocator());
  }
  if (toNode == null) {
    throw new SAXParseException("Node '" + toId + "' cannot be found",parser.getLocator());
  }
  ConnectionImpl connection=new ConnectionImpl(fromNode,Node.CONNECTION_DEFAULT_TYPE,toNode,Node.CONNECTION_DEFAULT_TYPE);
  connection.setMetaData("bendpoints",bendpoints);
  return connection;
}
