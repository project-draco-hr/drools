{
  this.props=new ArrayList<Properties>();
  this.defaultProps=new ArrayList<Properties>();
  addProperties(System.getProperties());
  loadProperties(System.getProperty("drools." + confFileName),this.props);
  loadProperties(System.getProperty("user.home") + "/drools." + confFileName,this.props);
  loadProperties("drools." + confFileName,this.props);
  ClassLoader confClassLoader=classLoader;
  loadProperties(getResources("META-INF/drools." + confFileName,confClassLoader),this.props);
  loadProperties(getResources("/META-INF/drools." + confFileName,confClassLoader),this.props);
  confClassLoader=ClassLoader.getSystemClassLoader();
  if (confClassLoader != null && confClassLoader != classLoader) {
    loadProperties(getResources("META-INF/drools." + confFileName,confClassLoader),this.props);
    loadProperties(getResources("/META-INF/drools." + confFileName,confClassLoader),this.props);
  }
  if (!populateDefaults) {
    return;
  }
  confClassLoader=classLoader;
  loadProperties(getResources("META-INF/drools.default." + confFileName,confClassLoader),this.defaultProps);
  loadProperties(getResources("/META-INF/drools.default." + confFileName,confClassLoader),this.defaultProps);
  confClassLoader=ClassLoader.getSystemClassLoader();
  if (confClassLoader != null && confClassLoader != classLoader) {
    loadProperties(getResources("META-INF/drools.default." + confFileName,confClassLoader),this.defaultProps);
    loadProperties(getResources("/META-INF/drools.default." + confFileName,confClassLoader),this.defaultProps);
  }
}
