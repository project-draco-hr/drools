{
  if (o1 instanceof FactHandle) {
    return o1 == o2;
  }
  final InternalFactHandle handle=((InternalFactHandle)o2);
  o2=(handle.isShadowFact()) ? ((ShadowProxy)handle.getObject()).getShadowedObject() : handle.getObject();
  return o1 == o2 || o1.equals(o2);
}
