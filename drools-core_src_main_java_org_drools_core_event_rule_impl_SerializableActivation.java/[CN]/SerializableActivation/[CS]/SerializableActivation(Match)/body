{
  this.rule=activation.getRule();
  this.factHandles=activation.getFactHandles();
  this.propgationContext=activation.getPropagationContext();
  if (activation instanceof AgendaItem) {
    declarations=((org.drools.reteoo.RuleTerminalNode)((AgendaItem)activation).getTuple().getLeftTupleSink()).getDeclarations();
  }
 else   if (activation instanceof SerializableActivation) {
    this.declarations=((SerializableActivation)activation).declarations;
  }
 else {
    throw new RuntimeException("Unable to get declarations " + activation);
  }
  this.active=activation.isActive();
}
