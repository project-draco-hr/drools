{
  PackageBuilder builder=new PackageBuilder();
  builder.addPackageFromDrl(new InputStreamReader(getClass().getResourceAsStream("test_LogicalAssertions.drl")));
  Package pkg=builder.getPackage();
  RuleBase ruleBase=getRuleBase();
  ruleBase.addPackage(pkg);
  WorkingMemory workingMemory=ruleBase.newWorkingMemory();
  List list=new ArrayList();
  workingMemory.setGlobal("list",list);
  Cheese brie=new Cheese("brie",12);
  FactHandle brieHandle=workingMemory.assertObject(brie);
  Cheese provolone=new Cheese("provolone",12);
  FactHandle provoloneHandle=workingMemory.assertObject(provolone);
  workingMemory.fireAllRules();
  assertEquals(3,list.size());
  assertEquals(3,workingMemory.getObjects().size());
  workingMemory.retractObject(brieHandle);
  assertEquals(2,workingMemory.getObjects().size());
  workingMemory.retractObject(provoloneHandle);
  assertEquals(0,workingMemory.getObjects().size());
}
