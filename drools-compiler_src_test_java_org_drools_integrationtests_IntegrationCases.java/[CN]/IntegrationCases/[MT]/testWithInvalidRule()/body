{
  PackageBuilder builder=new PackageBuilder();
  builder.addPackageFromDrl(new InputStreamReader(getClass().getResourceAsStream("invalid_rule.drl")));
  Package pkg=builder.getPackage();
  RuntimeException runtime=null;
  RuleBase ruleBase=getRuleBase();
  try {
    ruleBase.addPackage(pkg);
    fail("Should have thrown an exception as the rule is NOT VALID.");
  }
 catch (  RuntimeException e) {
    assertNotNull(e.getMessage());
    runtime=e;
  }
  assertTrue(builder.getErrors().length > 0);
  String pretty=builder.printErrors();
  assertFalse(pretty.equals(""));
  assertEquals(pretty,runtime.getMessage());
  System.err.println(pretty);
}
