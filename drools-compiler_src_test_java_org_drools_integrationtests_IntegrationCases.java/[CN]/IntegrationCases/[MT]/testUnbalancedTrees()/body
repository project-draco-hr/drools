{
  try {
    final PackageBuilder builder=new PackageBuilder();
    builder.addPackageFromDrl(new InputStreamReader(getClass().getResourceAsStream("test_UnbalancedTrees.drl")));
    final Package pkg=builder.getPackage();
    final RuleBase ruleBase=getRuleBase();
    ruleBase.addPackage(pkg);
    final WorkingMemory wm=ruleBase.newWorkingMemory();
    wm.assertObject(new Cheese("a",10));
    wm.assertObject(new Cheese("b",10));
    wm.assertObject(new Cheese("c",10));
    wm.assertObject(new Cheese("d",10));
    final Cheese e=new Cheese("e",10);
    wm.assertObject(e);
    wm.fireAllRules();
    Assert.assertEquals("Rule should have fired twice, seting the price to 30",30,e.getPrice());
  }
 catch (  final RuntimeException e) {
    e.printStackTrace();
    fail("Should not throw any exception");
  }
}
