{
  final PackageBuilder builder=new PackageBuilder();
  builder.addPackageFromDrl(new InputStreamReader(getClass().getResourceAsStream("errors_in_rule.drl")));
  final Package pkg=builder.getPackage();
  final DroolsError err=builder.getErrors()[0];
  final RuleError ruleErr=(RuleError)err;
  assertNotNull(ruleErr.getDescr());
  assertTrue(ruleErr.getLine() != -1);
  DroolsError errs[]=builder.getErrors();
  assertEquals(3,builder.getErrors().length);
  assertEquals(ruleErr.getLine(),ruleErr.getDescr().getLine());
  assertEquals(11,ruleErr.getLine());
  final RuleError rhs=(RuleError)builder.getErrors()[2];
  assertTrue(rhs.getLine() > 7);
}
