{
  PackageBuilder builder=new PackageBuilder();
  builder.addPackageFromDrl(new InputStreamReader(getClass().getResourceAsStream("test_LogicalAssertions2.drl")));
  Package pkg=builder.getPackage();
  RuleBase ruleBase=getRuleBase();
  ruleBase.addPackage(pkg);
  WorkingMemory workingMemory=ruleBase.newWorkingMemory();
  List events=new ArrayList();
  workingMemory.setGlobal("events",events);
  Sensor sensor=new Sensor(80,80);
  FactHandle handle=workingMemory.assertObject(sensor);
  workingMemory.fireAllRules();
  List list=workingMemory.getObjects();
  assertEquals("Only sensor is there",1,list.size());
  assertEquals("Only one event",1,events.size());
  sensor.setPressure(200);
  sensor.setTemperature(200);
  workingMemory.modifyObject(handle,sensor);
  workingMemory.fireAllRules();
  assertEquals("Only sensor is there",1,list.size());
  assertEquals("Exactly six events",6,events.size());
}
