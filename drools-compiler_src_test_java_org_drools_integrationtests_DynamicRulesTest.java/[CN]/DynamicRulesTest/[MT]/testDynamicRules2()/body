{
  RuleBase ruleBase=getRuleBase();
  StatefulSession session=ruleBase.newStatefulSession();
  final FactA a=new FactA("hello",new Integer(1),new Float(3.14));
  final FactB b=new FactB("hello",new Integer(2),new Float(6.28));
  session.insert(a);
  session.insert(b);
  final PackageBuilder builder=new PackageBuilder();
  builder.addPackageFromDrl(new InputStreamReader(getClass().getResourceAsStream("test_DynamicRules2.drl")));
  final Package pkg=SerializationHelper.serializeObject(builder.getPackage());
  ruleBase.addPackage(pkg);
  ruleBase=SerializationHelper.serializeObject(ruleBase);
  session=SerializationHelper.getSerialisedStatefulSession(session,ruleBase);
  session.fireAllRules();
}
