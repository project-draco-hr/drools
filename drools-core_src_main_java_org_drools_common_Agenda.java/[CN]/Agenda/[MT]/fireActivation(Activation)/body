{
  EventSupport eventsupport=(EventSupport)this.workingMemory;
  eventsupport.getAgendaEventSupport().fireBeforeActivationFired(activation);
  if (activation.getXorGroupNode() != null) {
    XorGroup xorGroup=activation.getXorGroupNode().getXorGroup();
    xorGroup.removeActivation(activation);
    clearXorGroup(xorGroup);
  }
  activation.setActivated(false);
  try {
    KnowledgeHelper knowledgeHelper=new org.drools.base.DefaultKnowledgeHelper(activation,workingMemory);
    activation.getRule().getConsequence().evaluate(knowledgeHelper,this.workingMemory);
  }
 catch (  Exception e) {
    throw new ConsequenceException(e,activation.getRule());
  }
  eventsupport.getAgendaEventSupport().fireAfterActivationFired(activation);
}
