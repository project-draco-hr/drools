{
  AgendaGroupImpl group=(AgendaGroupImpl)getNextFocus();
  if (group.getPriorityQueue().isEmpty()) {
    return false;
  }
  ActivationQueue queue=(ActivationQueue)group.getPriorityQueue().get();
  while (!group.getPriorityQueue().isEmpty() && queue.isEmpty()) {
    queue=(ActivationQueue)group.getPriorityQueue().remove();
  }
  boolean fired=false;
  if (!queue.isEmpty()) {
    Activation item=queue.remove();
    if (filter == null || filter.accept(item)) {
      fireActivation(item);
    }
    fired=true;
  }
  return fired;
}
