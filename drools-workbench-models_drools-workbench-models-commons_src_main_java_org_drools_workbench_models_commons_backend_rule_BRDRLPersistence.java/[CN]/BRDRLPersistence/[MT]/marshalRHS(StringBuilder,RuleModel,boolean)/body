{
  String indentation="\t\t";
  if (model.rhs != null) {
    Map<String,List<ActionFieldValue>> classes=getRHSClassDependencies(model);
    if (classes.containsKey(DataType.TYPE_DATE)) {
      buf.append(indentation);
      buf.append("java.text.SimpleDateFormat sdf = new java.text.SimpleDateFormat(\"" + System.getProperty("drools.dateformat") + "\");\n");
    }
    if (!getRHSWorkItemDependencies(model).isEmpty()) {
      buf.append(indentation);
      buf.append("org.kie.internal.process.instance.WorkItemManager wim = (org.kie.internal.process.instance.WorkItemManager) drools.getWorkingMemory().getWorkItemManager();\n");
    }
    RHSActionVisitor actionVisitor=getRHSActionVisitor(isDSLEnhanced,buf,indentation);
    for (    IAction action : model.rhs) {
      actionVisitor.visit(action);
    }
  }
}
