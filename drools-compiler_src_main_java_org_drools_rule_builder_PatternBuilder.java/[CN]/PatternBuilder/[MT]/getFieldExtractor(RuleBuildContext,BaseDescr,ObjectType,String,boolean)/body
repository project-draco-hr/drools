{
  InternalReadAccessor extractor=null;
  if (ValueType.FACTTEMPLATE_TYPE.equals(objectType.getValueType())) {
    final FactTemplate factTemplate=((FactTemplateObjectType)objectType).getFactTemplate();
    extractor=new FactTemplateFieldExtractor(factTemplate,factTemplate.getFieldTemplateIndex(fieldName));
  }
 else {
    try {
      ClassLoader classloader=context.getPkg().getDialectRuntimeRegistry().getClassLoader();
      extractor=context.getDialect().getClassFieldExtractorCache().getReader(((ClassObjectType)objectType).getClassType(),fieldName,classloader);
    }
 catch (    final RuntimeDroolsException e) {
      if (reportError) {
        context.getErrors().add(new DescrBuildError(context.getParentDescr(),descr,e,"Unable to create Field Extractor for '" + fieldName + "'"));
      }
    }
  }
  return extractor;
}
