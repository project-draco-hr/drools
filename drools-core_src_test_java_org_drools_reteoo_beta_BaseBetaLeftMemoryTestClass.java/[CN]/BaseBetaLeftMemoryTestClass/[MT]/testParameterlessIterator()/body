{
  try {
    DummyValueObject obj3=new DummyValueObject(false,"string2",20,"object2");
    FactHandleImpl f3=(FactHandleImpl)factory.newFactHandle(3);
    f3.setObject(obj3);
    ReteTuple tuple3=new ReteTuple(f3);
    this.memory.add(this.workingMemory,this.tuple0);
    this.memory.add(this.workingMemory,this.tuple1);
    this.memory.add(this.workingMemory,this.tuple2);
    this.memory.add(this.workingMemory,tuple3);
    Assert.assertEquals("Memory should have size 4",4,this.memory.size());
    Iterator i=this.memory.iterator();
    Assert.assertTrue("There should be a next tuple",i.hasNext());
    ReteTuple tuple=(ReteTuple)i.next();
    Assert.assertSame("Wrong returned tuple",tuple0,tuple);
    Assert.assertTrue("There should be a next tuple",i.hasNext());
    tuple=(ReteTuple)i.next();
    Assert.assertSame("Wrong returned tuple",tuple1,tuple);
    Assert.assertTrue("There should be a next tuple",i.hasNext());
    tuple=(ReteTuple)i.next();
    Assert.assertSame("Wrong returned tuple",tuple2,tuple);
    Assert.assertTrue("There should be a next tuple",i.hasNext());
    tuple=(ReteTuple)i.next();
    Assert.assertSame("Wrong returned tuple",tuple3,tuple);
    Assert.assertFalse("There should not be a next tuple",i.hasNext());
  }
 catch (  UnsupportedOperationException e) {
    Assert.fail("Beta memory was not supposed to throw any exception: " + e.getMessage());
  }
catch (  ClassCastException e) {
    Assert.fail("BetaRightMemory was not supposed to throw ClassCastException: " + e.getMessage());
  }
}
