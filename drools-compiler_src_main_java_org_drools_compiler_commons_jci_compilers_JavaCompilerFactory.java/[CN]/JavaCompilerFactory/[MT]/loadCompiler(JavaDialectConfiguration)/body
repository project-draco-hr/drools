{
  JavaCompiler compiler;
switch (configuration.getCompiler()) {
case JavaDialectConfiguration.JANINO:
{
      compiler=createCompiler("janino");
      break;
    }
case JavaDialectConfiguration.NATIVE:
{
    compiler=createCompiler("native");
    break;
  }
case JavaDialectConfiguration.ECLIPSE:
default :
{
  compiler=createCompiler("eclipse");
  JavaCompilerSettings settings=compiler.createDefaultSettings();
  String lngLevel=configuration.getJavaLanguageLevel();
  settings.setTargetVersion(lngLevel);
  settings.setSourceVersion(lngLevel);
  break;
}
}
return compiler;
}
