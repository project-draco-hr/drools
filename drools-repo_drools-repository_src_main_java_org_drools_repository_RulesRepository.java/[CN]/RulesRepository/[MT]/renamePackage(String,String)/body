{
  try {
    PackageItem itemOriginal=loadPackageByUUID(uuid);
    log.info("Renaming package: " + itemOriginal.getNode().getPath() + " to "+ newPackageName);
    Node node=itemOriginal.getNode();
    String sourcePath=node.getPath();
    String destPath=node.getParent().getPath() + "/" + newPackageName;
    this.session.move(sourcePath,destPath);
    this.session.save();
    itemOriginal.updateTitle(newPackageName);
    itemOriginal.checkin("Renamed package " + itemOriginal.getName());
    PackageItem newPkg=loadPackage(newPackageName);
    for (Iterator iter=newPkg.getAssets(); iter.hasNext(); ) {
      AssetItem as=(AssetItem)iter.next();
      as.updateStringProperty(newPackageName,AssetItem.PACKAGE_NAME_PROPERTY);
    }
    save();
    return itemOriginal.getUUID();
  }
 catch (  RepositoryException e) {
    log.error(e.getMessage(),e);
    throw new RulesRepositoryException(e);
  }
}
