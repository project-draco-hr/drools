{
  Node node;
  try {
    node=parent.getNode(nodeName);
  }
 catch (  PathNotFoundException e) {
    try {
      log.debug("Adding new node of type: {} named: {} to parent node named {}",new Object[]{type,nodeName,parent.getName()});
      node=parent.addNode(nodeName,type);
    }
 catch (    Exception e1) {
      log.error("Caught Exception",e);
      throw new RulesRepositoryException(e1);
    }
  }
catch (  Exception e) {
    log.error("Caught Exception",e);
    throw new RulesRepositoryException(e);
  }
  return node;
}
