{
  List<StateItem> states=new ArrayList<StateItem>();
  NodeIterator it;
  try {
    it=this.getAreaNode(STATE_AREA).getNodes();
    while (it.hasNext()) {
      states.add(new StateItem(this,it.nextNode()));
    }
  }
 catch (  RepositoryException e) {
    log.error(e.getMessage(),e);
    throw new RulesRepositoryException(e);
  }
  return states.toArray(new StateItem[states.size()]);
}
