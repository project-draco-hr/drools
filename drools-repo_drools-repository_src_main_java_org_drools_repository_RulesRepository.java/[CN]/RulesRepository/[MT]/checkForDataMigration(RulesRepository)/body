{
  if (initialized)   return;
  if (self.session.getUserID().equals("anonymous"))   return;
  try {
    MigrateDroolsPackage migration=new MigrateDroolsPackage();
    if (migration.needsMigration(self)) {
      migration.migrate(self);
    }
  }
 catch (  RepositoryException e) {
    throw new RulesRepositoryException(e);
  }
  initialized=true;
}
