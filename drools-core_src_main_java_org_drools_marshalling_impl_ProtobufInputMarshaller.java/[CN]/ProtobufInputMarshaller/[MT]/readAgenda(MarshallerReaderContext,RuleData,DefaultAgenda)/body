{
  ProtobufMessages.Agenda _agenda=_ruleData.getAgenda();
  for (  org.drools.marshalling.impl.ProtobufMessages.Agenda.AgendaGroup _agendaGroup : _agenda.getAgendaGroupList()) {
    BinaryHeapQueueAgendaGroup group=new BinaryHeapQueueAgendaGroup(_agendaGroup.getName(),context.ruleBase);
    group.setActive(_agendaGroup.getIsActive());
    agenda.getAgendaGroupsMap().put(group.getName(),group);
  }
  for (  String _groupName : _agenda.getFocusStack().getGroupNameList()) {
    agenda.getStackList().add(agenda.getAgendaGroup(_groupName));
  }
  for (  ProtobufMessages.Agenda.RuleFlowGroup _ruleFlowGroup : _agenda.getRuleFlowGroupList()) {
    RuleFlowGroupImpl rfgi=new RuleFlowGroupImpl(_ruleFlowGroup.getName(),_ruleFlowGroup.getIsActive(),_ruleFlowGroup.getIsAutoDeactivate());
    agenda.getRuleFlowGroupsMap().put(_ruleFlowGroup.getName(),rfgi);
    readActivations(context,_ruleFlowGroup.getActivationList());
    for (    NodeInstance _nodeInstance : _ruleFlowGroup.getNodeInstanceList()) {
      rfgi.addNodeInstance(_nodeInstance.getProcessInstanceId(),_nodeInstance.getNodeInstanceId());
    }
  }
  readActivations(context,_agenda.getActivationList());
  agenda.setActivationsFilter(context.filter);
}
