{
  final Reader drl=new InputStreamReader(CellGridImpl.class.getResourceAsStream("/org/drools/examples/conway/conway-ruleflow.drl"));
  final Reader generationRf=new InputStreamReader(CellGridImpl.class.getResourceAsStream("/org/drools/examples/conway/generation.rfm"));
  final Reader killAllRf=new InputStreamReader(CellGridImpl.class.getResourceAsStream("/org/drools/examples/conway/killAll.rfm"));
  final Reader registerNeighborRf=new InputStreamReader(CellGridImpl.class.getResourceAsStream("/org/drools/examples/conway/registerNeighbor.rfm"));
  try {
    PackageBuilder builder=new PackageBuilder();
    builder.addPackageFromDrl(drl);
    builder.addRuleFlow(generationRf);
    builder.addRuleFlow(killAllRf);
    builder.addRuleFlow(registerNeighborRf);
    RuleBase ruleBase=RuleBaseFactory.newRuleBase();
    ruleBase.addPackage(builder.getPackage());
    this.session=ruleBase.newStatefulSession();
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
}
