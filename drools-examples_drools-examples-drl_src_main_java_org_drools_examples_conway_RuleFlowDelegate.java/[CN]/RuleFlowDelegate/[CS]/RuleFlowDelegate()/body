{
  final Reader drl=new InputStreamReader(CellGridImpl.class.getResourceAsStream("/org/drools/examples/conway/conway-ruleflow.drl"));
  final Reader generationRf=new InputStreamReader(CellGridImpl.class.getResourceAsStream("/org/drools/examples/conway/generation.rf"));
  final Reader killAllRf=new InputStreamReader(CellGridImpl.class.getResourceAsStream("/org/drools/examples/conway/killAll.rf"));
  final Reader registerNeighborRf=new InputStreamReader(CellGridImpl.class.getResourceAsStream("/org/drools/examples/conway/registerNeighbor.rf"));
  try {
    KnowledgeBuilder kbuilder=KnowledgeBuilderFactory.newKnowledgeBuilder();
    kbuilder.addResource(drl,KnowledgeType.DRL);
    kbuilder.addResource(generationRf,KnowledgeType.DRF);
    kbuilder.addResource(killAllRf,KnowledgeType.DRF);
    kbuilder.addResource(registerNeighborRf,KnowledgeType.DRF);
    KnowledgeBase kbase=KnowledgeBaseFactory.newKnowledgeBase();
    kbase.addKnowledgePackages(kbuilder.getKnowledgePackages());
    this.session=kbase.newStatefulKnowledgeSession();
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
}
