{
  if (this.hasSVUID) {
    return 0;
  }
  ByteArrayOutputStream bos=null;
  DataOutputStream dos=null;
  long svuid=0;
  try {
    bos=new ByteArrayOutputStream();
    dos=new DataOutputStream(bos);
    dos.writeUTF(this.name.replace('/','.'));
    dos.writeInt(this.access & (Opcodes.ACC_PUBLIC | Opcodes.ACC_FINAL | Opcodes.ACC_INTERFACE| Opcodes.ACC_ABSTRACT));
    Arrays.sort(this.interfaces);
    for (int i=0; i < this.interfaces.length; i++) {
      dos.writeUTF(this.interfaces[i].replace('/','.'));
    }
    writeItems(this.svuidFields,dos,false);
    if (this.hasStaticInitializer) {
      dos.writeUTF("<clinit>");
      dos.writeInt(Opcodes.ACC_STATIC);
      dos.writeUTF("()V");
    }
    writeItems(this.svuidConstructors,dos,true);
    writeItems(this.svuidMethods,dos,true);
    dos.flush();
    final MessageDigest md=MessageDigest.getInstance("SHA");
    final byte[] hashBytes=md.digest(bos.toByteArray());
    for (int i=Math.min(hashBytes.length,8) - 1; i >= 0; i--) {
      svuid=(svuid << 8) | (hashBytes[i] & 0xFF);
    }
  }
  finally {
    if (dos != null) {
      dos.close();
    }
  }
  return svuid;
}
