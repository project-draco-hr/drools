{
  if (this.identifiers == null || this.identifiers.length == 0) {
    Map map=((InternalRuleBase)workingMemory.getRuleBase()).getGlobals();
    this.identifiers=new String[map.size()];
    this.identifiers=(String[])map.keySet().toArray(this.identifiers);
  }
  Map map=new HashMap(identifiers.length);
  for (int i=0, length=identifiers.length; i < length; i++) {
    map.put(identifiers[i],workingMemory.getGlobal(identifiers[i]));
  }
  return new MapGlobalResolver(map);
}
