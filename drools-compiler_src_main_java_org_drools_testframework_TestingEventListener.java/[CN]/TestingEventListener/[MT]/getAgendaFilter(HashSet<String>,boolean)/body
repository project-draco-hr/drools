{
  return new AgendaFilter(){
    public boolean accept(    Activation activation){
      if (ruleNames.size() == 0)       return true;
      String ruleName=activation.getRule().getName();
      if (inclusive) {
        if (ruleNames.contains(ruleName)) {
          return true;
        }
 else {
          record(activation.getRule(),firingCounts);
          return false;
        }
      }
 else {
        if (!ruleName.contains(ruleName)) {
          return true;
        }
 else {
          record(activation.getRule(),firingCounts);
          return false;
        }
      }
    }
  }
;
}
