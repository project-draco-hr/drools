{
  if (raw == null)   return null;
  Matcher matcher=replacer.getPattern().matcher(raw);
  if (matcher.matches()) {
    String pre=matcher.group(1);
    if (matcher.group(1) != null) {
      pre=fix(pre,replacer);
    }
    String obj=matcher.group(2).trim();
    String post=matcher.group(3);
    if (post != null) {
      post=fix(post,replacer);
    }
    return pre + matcher.replaceAll(replacer.getReplacement(obj)) + post;
  }
  return raw;
}
