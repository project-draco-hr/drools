{
  if (!rule.isValid())   throw new IllegalArgumentException("The rule called " + rule.getName() + " is not valid. Check for compile errors reported.");
  this.reteooBuilder.addRule(rule);
  for (Iterator it=this.workingMemories.keySet().iterator(); it.hasNext(); ) {
    WorkingMemoryImpl workingMemory=(WorkingMemoryImpl)it.next();
    workingMemory.fireAllRules();
  }
}
