{
  final org.drools.core.rule.Package pkg1=new org.drools.core.rule.Package("org.droos.test");
  pkg1.setClassFieldAccessorCache(new ClassFieldAccessorCache(Thread.currentThread().getContextClassLoader()));
  pkg1.addGlobal("global1",Object.class);
  pkg1.addGlobal("global2",Object.class);
  final org.drools.core.rule.Package pkg2=new org.drools.core.rule.Package("org.droos.test");
  pkg2.setClassFieldAccessorCache(new ClassFieldAccessorCache(Thread.currentThread().getContextClassLoader()));
  pkg2.addGlobal("global1",Object.class);
  pkg2.addGlobal("global3",Object.class);
  final org.drools.core.rule.Package pkg3=new org.drools.core.rule.Package("org.droos.test2");
  pkg3.setClassFieldAccessorCache(new ClassFieldAccessorCache(Thread.currentThread().getContextClassLoader()));
  pkg3.addGlobal("global3",Object.class);
  pkg3.addGlobal("global4",Object.class);
  this.ruleBase.addPackage(pkg1);
  this.ruleBase.addPackage(pkg2);
  this.ruleBase.addPackage(pkg3);
  this.ruleBase.removePackage(pkg1.getName());
  assertLength(1,this.ruleBase.getPackages());
  assertLength(2,this.ruleBase.getGlobals().values());
  this.ruleBase.removePackage(pkg3.getName());
  assertLength(0,this.ruleBase.getPackages());
  assertLength(0,this.ruleBase.getGlobals().values());
}
