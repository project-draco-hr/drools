{
  Collection<Key<Thing<C>>> subs=this.lowerDescendants(code);
  List<Thing<C>> ret=new ArrayList<Thing<C>>(subs.size());
  for (  Key<Thing<C>> t : subs) {
    TraitType tt=(TraitType)t.getValue();
    if (!tt.isVirtual()) {
      ret.add(t.getValue());
      removeMember(tt.getTypeCode());
      Thing<C> thing=innerMap.remove(tt.getTraitName());
      if (thing instanceof TraitProxy) {
        ((TraitProxy)thing).shed();
      }
    }
  }
  resetCurrentCode();
  return ret;
}
