{
  DslStep[] steps=test.getSetup().toArray(new DslStep[0]);
  assertEquals(6,steps.length);
  int step=0;
  assertEquals("LeftTupleSource",steps[step].getName());
  assertEquals(4,steps[step].getLine());
  assertEquals(1,steps[step].getCommands().size());
  assertEquals(1,steps[step].getCommands().get(0).length);
  assertEquals("left",steps[step].getCommands().get(0)[0]);
  step=1;
  assertEquals("ObjectSource",steps[step].getName());
  assertEquals(5,steps[step].getLine());
  assertEquals(1,steps[step].getCommands().size());
  assertEquals(1,steps[step].getCommands().get(0).length);
  assertEquals("right",steps[step].getCommands().get(0)[0]);
  step=2;
  assertEquals("LeftTupleSink",steps[step].getName());
  assertEquals(6,steps[step].getLine());
  assertEquals(1,steps[step].getCommands().size());
  assertEquals(1,steps[step].getCommands().get(0).length);
  assertEquals("sink",steps[step].getCommands().get(0)[0]);
  step=3;
  assertEquals("CollectNode",steps[step].getName());
  assertEquals(7,steps[step].getLine());
  assertEquals(2,steps[step].getCommands().size());
  assertEquals(4,steps[step].getCommands().get(0).length);
  assertEquals("col",steps[step].getCommands().get(0)[0]);
  assertEquals("left",steps[step].getCommands().get(0)[1]);
  assertEquals("right",steps[step].getCommands().get(0)[2]);
  assertEquals("java.util.ArrayList",steps[step].getCommands().get(0)[3]);
  assertEquals(4,steps[step].getCommands().get(1).length);
  assertEquals("source",steps[step].getCommands().get(1)[0]);
  assertEquals("type",steps[step].getCommands().get(1)[1]);
  assertEquals("==",steps[step].getCommands().get(1)[2]);
  assertEquals("l1",steps[step].getCommands().get(1)[3]);
  step=4;
  assertEquals("Binding",steps[step].getName());
  assertEquals(10,steps[step].getLine());
  assertEquals(1,steps[step].getCommands().size());
  assertEquals(4,steps[step].getCommands().get(0).length);
  assertEquals("l1",steps[step].getCommands().get(0)[0]);
  assertEquals("0",steps[step].getCommands().get(0)[1]);
  assertEquals("org.drools.Person",steps[step].getCommands().get(0)[2]);
  assertEquals("likes",steps[step].getCommands().get(0)[3]);
  step=5;
  assertEquals("Facts",steps[step].getName());
  assertEquals(12,steps[step].getLine());
  assertEquals(1,steps[step].getCommands().size());
  assertEquals(6,steps[step].getCommands().get(0).length);
  assertEquals("org.drools.Person('darth', 35, \"brie\")",steps[step].getCommands().get(0)[0]);
  assertEquals("org.drools.Cheese('brie', 12)",steps[step].getCommands().get(0)[3]);
}
