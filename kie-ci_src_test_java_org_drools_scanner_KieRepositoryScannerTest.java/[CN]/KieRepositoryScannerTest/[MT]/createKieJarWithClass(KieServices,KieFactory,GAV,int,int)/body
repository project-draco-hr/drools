{
  KieFileSystem kieFileSystem=kf.newKieFileSystem();
  KieModuleModel kproj=kf.newKieModuleModel();
  KieBaseModel kieBaseModel1=kproj.newKieBaseModel("KBase1").setEqualsBehavior(AssertBehaviorOption.EQUALITY).setEventProcessingMode(EventProcessingOption.STREAM);
  KieSessionModel ksession1=kieBaseModel1.newKieSessionModel("KSession1").setType(KieSessionType.STATEFUL).setClockType(ClockTypeOption.get("realtime"));
  kieFileSystem.writeKModuleXML(kproj.toXML()).writePomXML(getPom(gav)).write("src/main/resources/" + kieBaseModel1.getName() + "/rule1.drl",createDRLForJavaSource(value)).write("src/main/java/org/kie/test/Bean.java",createJavaSource(factor));
  KieBuilder kieBuilder=ks.newKieBuilder(kieFileSystem);
  assertTrue(kieBuilder.build().getInsertedMessages().isEmpty());
  return (InternalKieModule)kieBuilder.getKieModule();
}
