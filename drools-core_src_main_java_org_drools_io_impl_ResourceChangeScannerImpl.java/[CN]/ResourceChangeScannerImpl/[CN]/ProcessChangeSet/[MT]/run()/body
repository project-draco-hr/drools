{
synchronized (this.resources) {
    if (this.scan) {
      this.listener.info("ResourceChangeNotification scanner has started");
    }
    while (this.scan) {
      this.scanner.scan();
      try {
        this.listener.debug("ResourceChangeNotification scanner thread is waiting for " + (this.interval / 1000));
        this.resources.wait(this.interval);
      }
 catch (      InterruptedException e) {
        this.listener.exception(new RuntimeException("ResourceChangeNotification ChangeSet scanning thread was interrupted",e));
      }
    }
    this.listener.info("ResourceChangeNotification scanner has stopped");
  }
}
