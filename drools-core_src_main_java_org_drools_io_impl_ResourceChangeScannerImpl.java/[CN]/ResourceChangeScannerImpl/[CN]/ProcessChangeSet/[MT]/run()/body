{
synchronized (this) {
    if (this.scan) {
      this.listener.info("ResourceChangeNotification scanner has started");
    }
    while (this.scan) {
      System.out.println("BEFORE : sync this.resources");
synchronized (this.resources) {
        System.out.println("DURING : sync this.resources");
        this.scanner.scan();
      }
      System.out.println("AFTER : SCAN");
      try {
        this.listener.debug("ResourceChangeNotification scanner thread is waiting for " + (this.interval / 1000));
        wait(this.interval);
      }
 catch (      InterruptedException e) {
        this.listener.exception(new RuntimeException("ResourceChangeNotification ChangeSet scanning thread was interrupted",e));
      }
    }
    this.listener.info("ResourceChangeNotification scanner has stopped");
  }
}
