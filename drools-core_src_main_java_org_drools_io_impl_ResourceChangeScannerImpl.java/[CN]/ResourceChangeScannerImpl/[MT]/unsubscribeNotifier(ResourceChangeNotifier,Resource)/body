{
synchronized (this.resources) {
    Set<ResourceChangeNotifier> notifiers=this.resources.get(resource);
    if (notifiers == null) {
      return;
    }
    notifiers.remove(notifier);
    if (notifiers.isEmpty()) {
      this.resources.remove(resource);
      this.directories.remove(resource);
    }
  }
}
