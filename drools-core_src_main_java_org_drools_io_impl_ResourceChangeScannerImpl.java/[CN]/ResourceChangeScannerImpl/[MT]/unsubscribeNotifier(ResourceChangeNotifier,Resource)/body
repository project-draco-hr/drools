{
synchronized (this.resources) {
    Set<ResourceChangeNotifier> notifiers=this.resources.get(resource);
    if (notifiers == null) {
      return;
    }
    this.listener.debug("ResourceChangeScanner unsubcribing notifier=" + notifier + " to resource="+ resource);
    notifiers.remove(notifier);
    if (notifiers.isEmpty()) {
      this.listener.debug("ResourceChangeScanner resource=" + resource + " now has no subscribers");
      this.resources.remove(resource);
      this.directories.remove(resource);
    }
  }
}
