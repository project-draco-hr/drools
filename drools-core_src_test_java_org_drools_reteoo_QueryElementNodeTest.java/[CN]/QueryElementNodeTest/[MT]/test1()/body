{
  QueryElement qe=new QueryElement("queryName1",new Object[]{new Variable(),"x1",new Variable(),"x3","x4",new Variable(),"x6"},new Declaration[0],new int[0],new int[]{0,2,5});
  final MockTupleSource source=new MockTupleSource(12);
  final QueryElementNode node=new QueryElementNode(18,source,qe,false,buildContext);
  MockLeftTupleSink sink=new MockLeftTupleSink(12);
  node.addTupleSink(sink);
  sink.attach();
  InternalFactHandle s1=(InternalFactHandle)this.workingMemory.insert("string");
  node.assertLeftTuple(new LeftTuple(s1,node,true),context,workingMemory);
  assertEquals(3,sink.getAsserted().size());
  LeftTuple leftTuple=(LeftTuple)((Object[])sink.getAsserted().get(0))[0];
  assertEquals(2,leftTuple.size());
  assertEquals("string",leftTuple.getParent().getLastHandle().getObject());
  Object[] variables=(Object[])leftTuple.getLastHandle().getObject();
  assertEquals("string_0_0",variables[0]);
  assertEquals("string_2_0",variables[1]);
  assertEquals("string_5_0",variables[2]);
  leftTuple=(LeftTuple)((Object[])sink.getAsserted().get(1))[0];
  assertEquals(2,leftTuple.size());
  assertEquals("string",leftTuple.getParent().getLastHandle().getObject());
  variables=(Object[])leftTuple.getLastHandle().getObject();
  assertEquals("string_0_1",variables[0]);
  assertEquals("string_2_1",variables[1]);
  assertEquals("string_5_1",variables[2]);
  leftTuple=(LeftTuple)((Object[])sink.getAsserted().get(2))[0];
  assertEquals(2,leftTuple.size());
  assertEquals("string",leftTuple.getParent().getLastHandle().getObject());
  variables=(Object[])leftTuple.getLastHandle().getObject();
  assertEquals("string_0_2",variables[0]);
  assertEquals("string_2_2",variables[1]);
  assertEquals("string_5_2",variables[2]);
}
