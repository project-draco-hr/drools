{
  String[] kbases=kproject.getKBases().keySet().toArray(new String[kproject.getKBases().size()]);
  Arrays.sort(kbases);
  StringBuilder sbuilder=new StringBuilder();
  boolean first=true;
  for (  String kbaseQName : kbases) {
    if (!first) {
      sbuilder.append(", ");
    }
    sbuilder.append(kbaseQName);
    first=false;
  }
  Properties props=new Properties();
  props.setProperty("kbaseEntries",sbuilder.toString());
  try {
    Folder f=fs.getFolder(kproject.getKProjectPath());
    f.create();
    File file=f.getFile("kproject.properties");
    saveProperties(file,props);
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
}
