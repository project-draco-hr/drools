{
  ObjectOutputStream stream=context.stream;
  stream.writeLong(agendaItem.getActivationNumber());
  stream.writeInt(context.terminalTupleMap.get(leftTuple));
  stream.writeInt(agendaItem.getSalience());
  Rule rule=agendaItem.getRule();
  stream.writeUTF(rule.getPackage());
  stream.writeUTF(rule.getName());
  stream.writeLong(agendaItem.getPropagationContext().getPropagationNumber());
  if (agendaItem.getActivationGroupNode() != null) {
    stream.writeBoolean(true);
    stream.writeUTF(agendaItem.getActivationGroupNode().getActivationGroup().getName());
  }
 else {
    stream.writeBoolean(false);
  }
  stream.writeBoolean(agendaItem.isQueued());
  if (agendaItem.getFactHandle() != null) {
    stream.writeBoolean(true);
    stream.writeInt(agendaItem.getFactHandle().getId());
  }
 else {
    stream.writeBoolean(false);
  }
  org.drools.core.util.LinkedList<LogicalDependency> list=agendaItem.getLogicalDependencies();
  if (list != null && !list.isEmpty()) {
    for (LogicalDependency node=list.getFirst(); node != null; node=node.getNext()) {
      stream.writeShort(PersisterEnums.LOGICAL_DEPENDENCY);
      stream.writeInt(((InternalFactHandle)node.getJustified()).getId());
    }
  }
  stream.writeShort(PersisterEnums.END);
}
