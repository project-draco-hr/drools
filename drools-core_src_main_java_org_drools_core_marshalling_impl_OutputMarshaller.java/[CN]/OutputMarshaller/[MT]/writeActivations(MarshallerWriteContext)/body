{
  ObjectOutputStream stream=context.stream;
  Entry<LeftTuple,Integer>[] entries=context.terminalTupleMap.entrySet().toArray(new Entry[context.terminalTupleMap.size()]);
  Arrays.sort(entries,TupleSorter.instance);
  if (entries.length != 0) {
    for (    Entry<LeftTuple,Integer> entry : entries) {
      if (entry.getKey().getObject() != null) {
        LeftTuple leftTuple=entry.getKey();
        stream.writeShort(PersisterEnums.ACTIVATION);
        writeActivation(context,leftTuple,(AgendaItem)leftTuple.getObject(),(RuleTerminalNode)leftTuple.getLeftTupleSink());
      }
    }
  }
  stream.writeShort(PersisterEnums.END);
}
