{
  try {
    RuleBase ruleBase=readRule();
    WorkingMemory workingMemory=ruleBase.newStatefulSession();
    SystemOutWorkItemHandler handler=new SystemOutWorkItemHandler();
    workingMemory.getWorkItemManager().registerWorkItemHandler("Email",handler);
    workingMemory.getWorkItemManager().registerWorkItemHandler("Log",handler);
    UIWorkItemHandler handler2=new UIWorkItemHandler();
    workingMemory.startProcess("com.sample.ruleflow");
    workingMemory.fireAllRules();
  }
 catch (  Throwable t) {
    t.printStackTrace();
  }
}
