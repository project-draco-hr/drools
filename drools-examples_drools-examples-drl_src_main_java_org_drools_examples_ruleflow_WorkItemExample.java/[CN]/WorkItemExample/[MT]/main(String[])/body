{
  try {
    KnowledgeBase knowledgeBase=readRule();
    StatefulKnowledgeSession ksession=knowledgeBase.newStatefulKnowledgeSession();
    SystemOutWorkItemHandler handler=new SystemOutWorkItemHandler();
    ksession.getWorkItemManager().registerWorkItemHandler("Email",handler);
    ksession.getWorkItemManager().registerWorkItemHandler("Log",handler);
    UIWorkItemHandler handler2=new UIWorkItemHandler();
    ksession.startProcess("com.sample.ruleflow");
    ksession.fireAllRules();
  }
 catch (  Throwable t) {
    t.printStackTrace();
  }
}
