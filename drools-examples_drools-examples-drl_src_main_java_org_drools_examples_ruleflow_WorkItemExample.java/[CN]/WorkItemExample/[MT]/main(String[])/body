{
  try {
    KnowledgeBase knowledgeBase=readRule();
    StatefulKnowledgeSession workingMemory=knowledgeBase.newStatefulKnowledgeSession();
    SystemOutWorkItemHandler handler=new SystemOutWorkItemHandler();
    workingMemory.getWorkItemManager().registerWorkItemHandler("Email",handler);
    workingMemory.getWorkItemManager().registerWorkItemHandler("Log",handler);
    UIWorkItemHandler handler2=new UIWorkItemHandler();
    workingMemory.startProcess("com.sample.ruleflow");
    workingMemory.fireAllRules();
  }
 catch (  Throwable t) {
    t.printStackTrace();
  }
}
