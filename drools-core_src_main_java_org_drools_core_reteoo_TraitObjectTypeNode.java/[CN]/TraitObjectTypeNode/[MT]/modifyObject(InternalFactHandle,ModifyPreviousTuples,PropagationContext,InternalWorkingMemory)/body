{
  if (dirty) {
    resetIdGenerator();
    updateTupleSinkId(this,this);
    dirty=false;
  }
  context.setObjectType(objectType);
  if (compiledNetwork != null) {
    compiledNetwork.modifyObject(factHandle,modifyPreviousTuples,context.adaptModificationMaskForObjectType(objectType,workingMemory),workingMemory);
  }
 else {
    if (factHandle.getObject() instanceof TraitProxy) {
      BitSet vetoMask=((TraitProxy)factHandle.getObject()).getTypeFilter();
      if (vetoMask == null) {
        this.sink.propagateModifyObject(factHandle,modifyPreviousTuples,context.adaptModificationMaskForObjectType(objectType,workingMemory),workingMemory);
      }
 else {
        BitSet checkMask=(BitSet)typeMask.clone();
        checkMask.and(vetoMask);
        if (!checkMask.equals(typeMask)) {
          this.sink.propagateModifyObject(factHandle,modifyPreviousTuples,context.adaptModificationMaskForObjectType(objectType,workingMemory),workingMemory);
        }
      }
    }
 else {
      this.sink.propagateModifyObject(factHandle,modifyPreviousTuples,context.adaptModificationMaskForObjectType(objectType,workingMemory),workingMemory);
    }
  }
}
