{
  long mask=0;
  String[] simpleExpressions=expression.split("\\Q&&\\E|\\Q||\\E");
  for (  String simpleExpression : simpleExpressions) {
    String propertyName=getPropertyNameFromSimpleExpression(simpleExpression);
    if (propertyName.length() == 0) {
      continue;
    }
    if (propertyName.equals("this")) {
      return Long.MAX_VALUE;
    }
    int pos=settableProperties.indexOf(propertyName);
    if (pos < 0 && Character.isUpperCase(propertyName.charAt(0))) {
      propertyName=propertyName.substring(0,1).toLowerCase() + propertyName.substring(1);
      pos=settableProperties.indexOf(propertyName);
    }
    if (pos >= 0) {
      mask=BitMaskUtil.set(mask,pos);
    }
  }
  return mask;
}
