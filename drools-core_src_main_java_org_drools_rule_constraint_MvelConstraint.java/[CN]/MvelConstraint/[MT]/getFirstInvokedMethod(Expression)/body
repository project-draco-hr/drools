{
  if (!(expression instanceof EvaluatedExpression))   return null;
  List<Invocation> invocations=((EvaluatedExpression)expression).invocations;
  Invocation invocation=invocations.get(0);
  if (!(invocation instanceof MethodInvocation))   return null;
  Method method=((MethodInvocation)invocation).getMethod();
  if (method == null && invocations.size() > 1) {
    invocation=invocations.get(1);
    if (invocation instanceof MethodInvocation)     method=((MethodInvocation)invocation).getMethod();
  }
  return method;
}
