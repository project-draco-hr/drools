{
  this.characters=new StringBuffer();
  DefaultConfiguration config=new DefaultConfiguration(name);
  int numAttrs=attrs.getLength();
  for (int i=0; i < numAttrs; ++i) {
    config.setAttribute(attrs.getLocalName(i),attrs.getValue(i));
  }
  for (Iterator iter=namespaces.entrySet().iterator(); iter.hasNext(); ) {
    Map.Entry entry=(Map.Entry)iter.next();
    String ns=(String)entry.getKey();
    String value=(String)entry.getValue();
    if (ns == null || ns.length() == 0) {
      ns="xmlns";
    }
 else {
      ns="xmlns:" + ns;
    }
    config.setAttribute(ns,value);
  }
  if (this.configurationStack.isEmpty()) {
    this.configurationStack.addLast(config);
  }
 else {
    ((DefaultConfiguration)this.configurationStack.getLast()).addChild(config);
    this.configurationStack.addLast(config);
  }
}
