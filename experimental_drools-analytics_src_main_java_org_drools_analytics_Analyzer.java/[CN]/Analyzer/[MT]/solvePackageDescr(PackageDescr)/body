{
  try {
    System.setProperty("drools.accumulate.function.validatePattern","com.analytics.accumulateFunction.ValidatePattern");
    RuleBase ruleBase=readRules();
    WorkingMemory workingMemory=ruleBase.newStatefulSession();
    RuleFlattener ruleFlattener=new RuleFlattener();
    ruleFlattener.insert(descr);
    Collection<Object> objects=ruleFlattener.getDataObjects();
    for (    Object o : objects) {
      workingMemory.insert(o);
    }
    AnalysisResultNormal result=new AnalysisResultNormal();
    workingMemory.setGlobal("result",result);
    workingMemory.fireAllRules();
  }
 catch (  Throwable t) {
    t.printStackTrace();
  }
}
