{
  final DRLParser parser=parseResource("declare_type.drl");
  parser.compilation_unit();
  assertFalse("Parser should not raise errors: " + parser.getErrorMessages().toString(),parser.hasErrors());
  final PackageDescr pack=parser.getPackageDescr();
  final List<TypeDeclarationDescr> declarations=pack.getTypeDeclarations();
  assertEquals(1,declarations.size());
  final TypeDeclarationDescr descr=declarations.get(0);
  assertEquals("event",descr.getAttribute("type"));
  assertEquals("org.drools.events.Call",descr.getAttribute("class"));
  assertEquals("duration",descr.getAttribute("duration_attribute"));
  assertEquals("pseudo",descr.getAttribute("clock_strategy"));
}
