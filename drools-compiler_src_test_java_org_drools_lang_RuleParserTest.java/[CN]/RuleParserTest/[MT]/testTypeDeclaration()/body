{
  final DRLParser parser=parseResource("declare_type.drl");
  parser.compilation_unit();
  assertFalse("Parser should not raise errors: " + parser.getErrorMessages().toString(),parser.hasErrors());
  final PackageDescr pack=parser.getPackageDescr();
  final List<TypeDeclarationDescr> declarations=pack.getTypeDeclarations();
  assertEquals(1,declarations.size());
  final TypeDeclarationDescr descr=declarations.get(0);
  assertEquals("event",descr.getMetaAttribute("role"));
  assertEquals("org.drools.events.Call",descr.getMetaAttribute("class"));
  assertEquals("duration",descr.getMetaAttribute("duration"));
  assertEquals("timestamp",descr.getMetaAttribute("timestamp"));
}
