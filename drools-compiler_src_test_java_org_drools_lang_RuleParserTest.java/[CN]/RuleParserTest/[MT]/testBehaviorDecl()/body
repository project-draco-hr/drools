{
  final String text="StockTick( symbol==\"ACME\") over window:time(60000) from entry-point StreamA";
  final CharStream charStream=new ANTLRStringStream(text);
  final DRLLexer lexer=new DRLLexer(charStream);
  final TokenStream tokenStream=new CommonTokenStream(lexer);
  final DRLParser parser=new DRLParser(tokenStream);
  PatternDescr pattern=(PatternDescr)parser.pattern_source();
  assertFalse(parser.getErrorMessages().toString(),parser.hasErrors());
  assertEquals(1,pattern.getDescrs().size());
  FieldConstraintDescr fcd=(FieldConstraintDescr)pattern.getDescrs().get(0);
  assertEquals("symbol",fcd.getFieldName());
  assertNotNull(pattern.getSource());
  EntryPointDescr entry=(EntryPointDescr)pattern.getSource();
  assertEquals("StreamA",entry.getEntryId());
  assertEquals(1,pattern.getBehaviors().size());
  SlidingWindowDescr window=(SlidingWindowDescr)pattern.getBehaviors().get(0);
  assertEquals("time",window.getType());
  assertEquals("60000",window.getParameters());
}
