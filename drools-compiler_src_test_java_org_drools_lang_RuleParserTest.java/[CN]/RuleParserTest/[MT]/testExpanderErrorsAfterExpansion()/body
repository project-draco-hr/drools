{
  final ExpanderResolver res=new ExpanderResolver(){
    public Expander get(    String name,    String config){
      return new Expander(){
        public String expand(        String scope,        String pattern){
          return pattern;
        }
      }
;
    }
  }
;
  final RuleParser parser=parseResource("expander_post_errors.drl");
  parser.setExpanderResolver(res);
  parser.compilation_unit();
  assertTrue(parser.hasErrors());
  final RecognitionException err=(RecognitionException)parser.getErrors().get(0);
  assertEquals(5,err.line);
}
