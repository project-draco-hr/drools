{
  File pomfile=new File("pom.xml");
  Model model=null;
  try {
    FileReader reader=new FileReader(pomfile);
    model=new MavenXpp3Reader().read(reader);
  }
 catch (  FileNotFoundException e) {
    throw new RuntimeException(e);
  }
catch (  XmlPullParserException e) {
    throw new RuntimeException(e);
  }
catch (  IOException e) {
    throw new RuntimeException(e);
  }
  model.setPomFile(pomfile);
  List<DependencyDescriptor> deps=new ArrayList<DependencyDescriptor>();
  MavenProject project=new MavenProject(model);
  for (  Dependency dep : project.getDependencies()) {
    DependencyDescriptor depDescr=new DependencyDescriptor(dep,project.getProperties());
    if (depDescr.isValid()) {
      deps.add(depDescr);
    }
  }
  return deps;
}
