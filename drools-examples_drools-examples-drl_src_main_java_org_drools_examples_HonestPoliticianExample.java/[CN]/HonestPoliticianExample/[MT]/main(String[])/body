{
  KnowledgeBuilderConfiguration kbuilderconfiguration=KnowledgeBuilderFactory.newKnowledgeBuilderConfiguration();
  kbuilderconfiguration.setProperty("drools.dump.dir","target");
  final KnowledgeBuilder kbuilder=KnowledgeBuilderFactory.newKnowledgeBuilder();
  kbuilder.add(ResourceFactory.newClassPathResource("HonestPolitician.drl",HonestPoliticianExample.class),KnowledgeType.DRL);
  final KnowledgeBase kbase=KnowledgeBaseFactory.newKnowledgeBase();
  kbase.addKnowledgePackages(kbuilder.getKnowledgePackages());
  final StatefulKnowledgeSession ksession=kbase.newStatefulKnowledgeSession();
  final WorkingMemoryFileLogger logger=new WorkingMemoryFileLogger(ksession);
  logger.setFileName("log/honest-politician");
  final Politician blair=new Politician("blair",true);
  final Politician bush=new Politician("bush",true);
  final Politician chirac=new Politician("chirac",true);
  final Politician schroder=new Politician("schroder",true);
  ksession.insert(blair);
  ksession.insert(bush);
  ksession.insert(chirac);
  ksession.insert(schroder);
  ksession.fireAllRules();
  logger.writeToDisk();
  ksession.dispose();
}
