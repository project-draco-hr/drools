{
  if (object == null) {
    return null;
  }
  try {
    this.wm.startOperation();
    ObjectTypeConf typeConf=this.typeConfReg.getObjectTypeConf(this.entryPoint,object);
    InternalFactHandle handle=(InternalFactHandle)this.objectStore.getHandleForObject(object);
    if (handle != null) {
      return handle;
    }
    handle=this.handleFactory.newFactHandle(object,typeConf,wm,this);
    this.objectStore.addHandle(handle,object);
    if (dynamic) {
      addPropertyChangeListener(object);
    }
    try {
      this.ruleBase.readLock();
      this.lock.lock();
      insert(handle,object,rule,activation);
    }
  finally {
      this.ruleBase.readUnlock();
      this.lock.unlock();
    }
    return handle;
  }
  finally {
    this.wm.endOperation();
  }
}
