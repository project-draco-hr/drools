{
  super.internalTrigger(from,type);
  WorkItemNode workItemNode=getWorkItemNode();
  createWorkItem(workItemNode);
  if (workItemNode.isWaitForCompletion()) {
    addEventListeners();
  }
  if (isInversionOfControl()) {
    getProcessInstance().getWorkingMemory().update(getProcessInstance().getWorkingMemory().getFactHandle(this),this);
  }
 else {
    getProcessInstance().getWorkingMemory().getWorkItemManager().internalExecuteWorkItem(workItem);
  }
  if (!workItemNode.isWaitForCompletion()) {
    triggerCompleted();
  }
 else {
    this.workItemId=workItem.getId();
  }
}
