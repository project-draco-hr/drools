{
  final NLGrammar grammar=new NLGrammar();
  final InputStream stream=this.getClass().getResourceAsStream("test.dsl.properties");
  final InputStreamReader reader=new InputStreamReader(stream);
  grammar.load(reader);
  final List mappings=grammar.getMappings();
  assertEquals(5,mappings.size());
  final NLMappingItem[] items=new NLMappingItem[mappings.size()];
  mappings.toArray(items);
  NLMappingItem test=items[0];
  assertEquals("*",test.getScope());
  assertEquals("This is something",test.getNaturalTemplate());
  assertEquals("Another thing",test.getTargetTemplate());
  test=items[1];
  assertEquals("when",test.getScope());
  assertEquals("This is something for a condition",test.getNaturalTemplate());
  assertEquals("yeah",test.getTargetTemplate());
  test=items[3];
  assertEquals("then",test.getScope());
  assertEquals("this is also",test.getNaturalTemplate());
  assertEquals("woot",test.getTargetTemplate());
  test=items[4];
  assertEquals("*",test.getScope());
  assertEquals("This has spaces",test.getNaturalTemplate());
  assertEquals("yup yep",test.getTargetTemplate());
}
