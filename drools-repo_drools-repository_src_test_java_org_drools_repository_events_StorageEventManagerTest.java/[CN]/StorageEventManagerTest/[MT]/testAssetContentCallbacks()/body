{
  StorageEventManager.le=null;
  StorageEventManager.se=null;
  RulesRepository repo=getRepo();
  PackageItem pkg=repo.loadDefaultPackage();
  AssetItem asset=pkg.addAsset("testAssetContentCallbacks","");
  assertEquals(0,asset.getContentLength());
  asset.updateContent("boo");
  asset.checkin("");
  asset.updateContent("whee");
  StorageEventManager.le=new MockLoadEvent();
  StorageEventManager.se=new MockSaveEvent();
  asset.checkin("");
  assertTrue(((MockSaveEvent)StorageEventManager.se).checkinCalled);
  asset.getContent();
  assertTrue(((MockLoadEvent)StorageEventManager.le).loadCalled);
}
