{
  System.setProperty("guvnor.saveEventListener","org.drools.repository.events.MockSaveEvent");
  SaveEvent le=StorageEventManager.saveEvent();
  assertNotNull(le);
  assertTrue(le instanceof MockSaveEvent);
  System.setProperty("guvnor.saveEventListener","");
  assertNull(StorageEventManager.saveEvent());
  StorageEventManager.se=le;
  assertNotNull(StorageEventManager.getSaveEvent());
  assertTrue(StorageEventManager.hasSaveEvent());
  StorageEventManager.se=null;
  assertFalse(StorageEventManager.hasSaveEvent());
}
