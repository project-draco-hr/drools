{
  InternalFactHandle[] handles=new InternalFactHandle[tuple.getIndex() + 1];
  LeftTuple entry=tuple;
  while (entry != null) {
    InternalFactHandle handle=entry.getLastHandle();
    if (handle != null) {
      handles[entry.getIndex()]=new DefaultFactHandle(handle.getId(),(handle.getEntryPoint() != null) ? handle.getEntryPoint().getEntryPointId() : null,handle.getIdentityHashCode(),handle.getObjectHashCode(),handle.getRecency(),handle.getObject());
    }
    entry=entry.getParent();
  }
  QueryTerminalNode node=(QueryTerminalNode)tuple.getLeftTupleSink();
  this.results.add(new QueryRowWithSubruleIndex(handles,node.getSubruleIndex()));
}
