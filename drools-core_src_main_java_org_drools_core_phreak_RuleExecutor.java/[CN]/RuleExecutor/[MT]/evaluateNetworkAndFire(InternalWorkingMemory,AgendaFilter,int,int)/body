{
  LinkedList<StackEntry> outerStack=new LinkedList<StackEntry>();
  reEvaluateNetwork(wm,outerStack);
  wm.executeQueuedActions();
  return fire(wm,filter,fireCount,fireLimit,outerStack,(InternalAgenda)wm.getAgenda());
}
