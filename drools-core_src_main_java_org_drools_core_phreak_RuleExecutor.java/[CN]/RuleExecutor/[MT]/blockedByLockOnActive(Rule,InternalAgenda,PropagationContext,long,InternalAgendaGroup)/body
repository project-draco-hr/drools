{
  if (rule.isLockOnActive()) {
    boolean isActive=false;
    long activatedForRecency=0;
    long clearedForRecency=0;
    if (rule.getRuleFlowGroup() == null) {
      isActive=agendaGroup.isActive();
      activatedForRecency=agendaGroup.getActivatedForRecency();
      clearedForRecency=agendaGroup.getClearedForRecency();
    }
 else {
      InternalRuleFlowGroup rfg=(InternalRuleFlowGroup)agenda.getRuleFlowGroup(rule.getRuleFlowGroup());
      isActive=rfg.isActive();
      activatedForRecency=rfg.getActivatedForRecency();
      clearedForRecency=rfg.getClearedForRecency();
    }
    if (isActive && activatedForRecency < handleRecency && agendaGroup.getAutoFocusActivator() != pctx) {
      return true;
    }
 else     if (clearedForRecency != -1 && clearedForRecency >= handleRecency) {
      return true;
    }
  }
  return false;
}
