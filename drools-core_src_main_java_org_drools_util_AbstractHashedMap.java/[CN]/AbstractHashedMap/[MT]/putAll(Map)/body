{
  final int mapSize=map.size();
  if (mapSize == 0) {
    return;
  }
  final int newSize=(int)((this.size + mapSize) / this.loadFactor + 1);
  ensureCapacity(calculateNewCapacity(newSize));
  for (final Iterator it=map.entrySet().iterator(); it.hasNext(); ) {
    final Map.Entry entry=(Map.Entry)it.next();
    put(entry.getKey(),entry.getValue());
  }
}
