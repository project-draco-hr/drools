{
  final KnowledgeBuilder kbuilder=KnowledgeBuilderFactory.newKnowledgeBuilder();
  kbuilder.addResource(new InputStreamReader(FibonacciExample.class.getResourceAsStream("Fibonacci.drl")),KnowledgeType.DRL);
  final KnowledgeBase kbase=KnowledgeBaseFactory.newKnowledgeBase();
  kbase.addKnowledgePackages(kbuilder.getKnowledgePackages());
  final StatefulKnowledgeSession ksession=kbase.newStatefulKnowledgeSession();
  final WorkingMemoryFileLogger logger=new WorkingMemoryFileLogger(ksession);
  logger.setFileName("log/fibonacci");
  ksession.insert(new Fibonacci(10));
  ksession.fireAllRules();
  logger.writeToDisk();
  ksession.dispose();
}
