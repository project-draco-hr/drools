{
  String expr="(switch (?x) (case a then (printout t hello)(printout t 1)) (case b then (printout t hello)(printout t 2)) (default (printout t hello)(printout t 3)) )";
  this.shell.addVariable("?x","a");
  this.shell.eval(expr);
  assertEquals("hello1",new String(baos.toByteArray()));
  this.shell.addVariable("?x","M");
  this.shell.eval(expr);
  assertEquals("hello1hello3",new String(baos.toByteArray()));
  this.shell.addVariable("?x","b");
  this.shell.eval(expr);
  assertEquals("hello1hello3hello2",new String(baos.toByteArray()));
}
