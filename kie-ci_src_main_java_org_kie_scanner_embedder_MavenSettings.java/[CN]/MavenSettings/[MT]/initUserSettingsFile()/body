{
  String customSettings=System.getProperty(CUSTOM_SETTINGS_PROPERTY);
  if (customSettings != null) {
    File customSettingsFile=new File(customSettings);
    if (customSettingsFile.exists()) {
      return customSettingsFile;
    }
 else {
      log.warn("Cannot find custom maven settings file: " + customSettings);
    }
  }
  String userHome=System.getProperty("user.home");
  if (userHome != null) {
    File userSettingsFile=new File(userHome + "/.m2/settings.xml");
    if (userSettingsFile.exists()) {
      return userSettingsFile;
    }
  }
 else {
    log.warn("User home is not set");
  }
  return null;
}
