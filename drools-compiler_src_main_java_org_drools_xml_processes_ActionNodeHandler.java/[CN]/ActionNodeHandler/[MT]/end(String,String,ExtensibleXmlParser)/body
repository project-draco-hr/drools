{
  final Configuration config=parser.endConfiguration();
  WorkflowProcessImpl process=(WorkflowProcessImpl)parser.getParent();
  ActionNode actionNode=(ActionNode)parser.getCurrent();
  String text=config.getText();
  if (text == null) {
    throw new SAXParseException("<action-node> requires content",parser.getLocator());
  }
  final String dialect=config.getAttribute("dialect");
  emptyAttributeCheck(localName,"dialect",dialect,parser);
  DroolsConsequenceAction actionText=new DroolsConsequenceAction(dialect,text);
  actionNode.setAction(actionText);
  return actionNode;
}
