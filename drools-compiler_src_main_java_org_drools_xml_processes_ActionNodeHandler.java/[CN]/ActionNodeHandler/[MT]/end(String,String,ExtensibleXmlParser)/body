{
  final Configuration config=xmlPackageReader.endConfiguration();
  RuleFlowProcessImpl process=(RuleFlowProcessImpl)xmlPackageReader.getParent();
  ActionNodeImpl actionNode=(ActionNodeImpl)xmlPackageReader.getCurrent();
  String text=config.getText();
  if (text == null) {
    throw new SAXParseException("<action-node> requires content",xmlPackageReader.getLocator());
  }
  final String dialect=config.getAttribute("dialect");
  emptyAttributeCheck(localName,"dialect",dialect,xmlPackageReader);
  DroolsConsequenceAction actionText=new DroolsConsequenceAction(dialect,text);
  actionNode.setAction(actionText);
  return actionNode;
}
