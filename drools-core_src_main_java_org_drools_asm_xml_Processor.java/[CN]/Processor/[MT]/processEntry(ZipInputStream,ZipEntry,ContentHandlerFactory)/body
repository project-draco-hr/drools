{
  final ContentHandler handler=handlerFactory.createContentHandler();
  try {
    final boolean singleInputDocument=this.inRepresentation == Processor.SINGLE_XML;
    if (this.inRepresentation == Processor.BYTECODE) {
      final ClassReader cr=new ClassReader(readEntry(zis,ze));
      cr.accept(new SAXClassAdapter(handler,singleInputDocument),false);
    }
 else {
      final XMLReader reader=XMLReaderFactory.createXMLReader();
      reader.setContentHandler(handler);
      reader.parse(new InputSource(singleInputDocument ? (InputStream)new ProtectedInputStream(zis) : new ByteArrayInputStream(readEntry(zis,ze))));
    }
  }
 catch (  final Exception ex) {
    update(ze.getName(),0);
    update(ex,0);
  }
}
