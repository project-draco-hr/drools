{
  this.workingMemory=workingMemory;
  this.constraints=constraints;
  this.lastTableRecord=lastRecord;
  this.currentTableRecord=startRecord;
  boolean done=false;
  boolean reachCurrentRecord=false;
  while (!done && this.currentTableRecord != null && !this.finishInitialPass) {
    if (!reachCurrentRecord && this.currentTableRecord == currentRecord) {
      reachCurrentRecord=true;
    }
 else {
      if (this.constraints.isAllowedAlpha((FactHandle)this.currentTableRecord.object,null,this.workingMemory)) {
        this.add(this.currentTableRecord.object);
      }
      if (reachCurrentRecord && !this.isEmpty()) {
        done=true;
      }
      if (this.currentTableRecord == this.lastTableRecord) {
        this.finishInitialPass=true;
      }
      this.currentTableRecord=this.currentTableRecord.right;
    }
  }
  this.nextRecord=this.lastRecord;
}
