{
  if (context.extractor.isNullValue(workingMemory,right)) {
    return false;
  }
  long rightTS=this.unwrapRight ? context.extractor.getLongValue(workingMemory,right) : ((EventFactHandle)right).getStartTimestamp();
  long leftTS;
  if (this.unwrapLeft) {
    if (context instanceof ObjectVariableContextEntry) {
      if (((ObjectVariableContextEntry)context).left instanceof Date) {
        leftTS=((Date)((ObjectVariableContextEntry)context).left).getTime();
      }
 else {
        leftTS=((Number)((ObjectVariableContextEntry)context).left).longValue();
      }
    }
 else {
      leftTS=((LongVariableContextEntry)context).left;
    }
  }
 else {
    leftTS=((EventFactHandle)((ObjectVariableContextEntry)context).left).getStartTimestamp();
  }
  long dist=rightTS - leftTS;
  return this.getOperator().isNegated() ^ (dist >= this.initRange && dist <= this.finalRange);
}
