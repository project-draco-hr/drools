{
  this.ruleBase=ruleBase;
  this.agenda=new Agenda(this);
  this.handleFactory=this.ruleBase.newFactHandleFactory();
  RuleBaseConfiguration conf=this.ruleBase.getConfiguration();
  if (RuleBaseConfiguration.WM_BEHAVIOR_EQUALS.equals(conf.getProperty(RuleBaseConfiguration.PROPERTY_ASSERT_BEHAVIOR))) {
    this.assertMap=new HashMap();
  }
 else {
    this.assertMap=new IdentityMap();
  }
  if (RuleBaseConfiguration.WM_BEHAVIOR_IDENTITY.equals(conf.getProperty(RuleBaseConfiguration.PROPERTY_LOGICAL_ASSERT_BEHAVIOR))) {
    this.logicalAssertMap=new IdentityMap();
  }
 else {
    this.logicalAssertMap=new HashMap();
  }
}
