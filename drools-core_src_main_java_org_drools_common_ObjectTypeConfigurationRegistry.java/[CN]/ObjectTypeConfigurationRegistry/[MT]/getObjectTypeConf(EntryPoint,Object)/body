{
  ObjectTypeConf objectTypeConf=null;
  Class cls=(object instanceof Activation) ? ClassObjectType.Activation_ObjectType.getClassType() : object.getClass();
  Object key=(object instanceof Fact) ? ((Fact)object).getFactTemplate().getName() : cls;
  objectTypeConf=this.typeConfMap.get(key);
  if (objectTypeConf == null) {
    if (object instanceof Fact) {
      ;
      objectTypeConf=new FactTemplateTypeConf(entrypoint,((Fact)object).getFactTemplate(),this.ruleBase);
    }
 else {
      objectTypeConf=new ClassObjectTypeConf(entrypoint,(Class<?>)key,this.ruleBase);
    }
  }
  ObjectTypeConf existing=this.typeConfMap.putIfAbsent(key,objectTypeConf);
  if (existing != null) {
    objectTypeConf=existing;
  }
  return objectTypeConf;
}
