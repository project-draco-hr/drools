{
  ObjectTypeConf objectTypeConf=null;
  Class cls=null;
  if (object instanceof Fact) {
    String key=((Fact)object).getFactTemplate().getName();
    objectTypeConf=(ObjectTypeConf)this.typeConfMap.get(key);
  }
 else {
    if (object instanceof ShadowProxy) {
      cls=((ShadowProxy)object).getShadowedObject().getClass();
    }
 else {
      cls=object.getClass();
    }
    objectTypeConf=this.typeConfMap.get(cls);
  }
  if (objectTypeConf == null) {
    if (object instanceof Fact) {
      ;
      objectTypeConf=new FactTemplateTypeConf(entrypoint,((Fact)object).getFactTemplate(),this.ruleBase);
      this.typeConfMap.put(((Fact)object).getFactTemplate().getName(),objectTypeConf);
    }
 else {
      objectTypeConf=new ClassObjectTypeConf(entrypoint,cls,this.ruleBase);
      this.typeConfMap.put(cls,objectTypeConf);
    }
  }
  return objectTypeConf;
}
