{
  KieSession ksession=((KnowledgeCommandContext)context).getKieSession();
  List<FactHandle> handles=new ArrayList<FactHandle>();
  SessionEntryPoint wmep;
  if (StringUtils.isEmpty(this.entryPoint)) {
    wmep=ksession;
  }
 else {
    wmep=ksession.getEntryPoint(this.entryPoint);
  }
  for (  Object object : objects) {
    handles.add(wmep.insert(object));
  }
  if (outIdentifier != null) {
    if (this.returnObject) {
      ((StatefulKnowledgeSessionImpl)ksession).session.getExecutionResult().getResults().put(this.outIdentifier,objects);
    }
    ((StatefulKnowledgeSessionImpl)ksession).session.getExecutionResult().getFactHandles().put(this.outIdentifier,handles);
  }
  return handles;
}
