{
  final KnowledgeBuilder builder=KnowledgeBuilderFactory.newKnowledgeBuilder();
  builder.addResource(new InputStreamReader(ShoppingExample.class.getResourceAsStream("NumberGuess.drl")),KnowledgeType.DRL);
  builder.addResource(new InputStreamReader(ShoppingExample.class.getResourceAsStream("NumberGuess.rf")),KnowledgeType.DRF);
  final KnowledgeBase knowledgeBase=KnowledgeBaseFactory.newKnowledgeBase();
  knowledgeBase.addKnowledgePackages(builder.getKnowledgePackages());
  final StatefulKnowledgeSession session=knowledgeBase.newStatefulKnowledgeSession();
  final WorkingMemoryFileLogger logger=new WorkingMemoryFileLogger(session);
  logger.setFileName("log/numberguess");
  session.insert(new GameRules(100,5));
  session.insert(new RandomNumber());
  session.insert(new Game());
  session.startProcess("Number Guess");
  session.fireAllRules();
  logger.writeToDisk();
  session.dispose();
}
