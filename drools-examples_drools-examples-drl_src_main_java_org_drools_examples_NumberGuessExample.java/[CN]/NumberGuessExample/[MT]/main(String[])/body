{
  final PackageBuilder builder=new PackageBuilder();
  builder.addPackageFromDrl(new InputStreamReader(ShoppingExample.class.getResourceAsStream("NumberGuess.drl")));
  builder.addRuleFlow(new InputStreamReader(ShoppingExample.class.getResourceAsStream("NumberGuess.rfm")));
  final RuleBase ruleBase=RuleBaseFactory.newRuleBase();
  ruleBase.addPackage(builder.getPackage());
  final StatefulSession session=ruleBase.newStatefulSession();
  final WorkingMemoryFileLogger logger=new WorkingMemoryFileLogger(session);
  logger.setFileName("log/numberguess");
  session.insert(new GameRules(100,5));
  session.insert(new RandomNumber());
  session.insert(new Game());
  session.startProcess("Number Guess");
  session.fireAllRules();
  logger.writeToDisk();
  session.dispose();
}
