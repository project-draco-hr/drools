{
  final KnowledgeBuilder kbuilder=KnowledgeBuilderFactory.newKnowledgeBuilder();
  kbuilder.add(ResourceFactory.newClassPathResource("NumberGuess.drl",ShoppingExample.class),KnowledgeType.DRL);
  kbuilder.add(ResourceFactory.newClassPathResource("NumberGuess.rf",ShoppingExample.class),KnowledgeType.DRF);
  final KnowledgeBase kbase=KnowledgeBaseFactory.newKnowledgeBase();
  kbase.addKnowledgePackages(kbuilder.getKnowledgePackages());
  final StatefulKnowledgeSession ksession=kbase.newStatefulKnowledgeSession();
  KnowledgeRuntimeLogger logger=KnowledgeRuntimeLoggerFactory.newFileLogger(ksession,"log/numberguess");
  ksession.insert(new GameRules(100,5));
  ksession.insert(new RandomNumber());
  ksession.insert(new Game());
  ksession.startProcess("Number Guess");
  ksession.fireAllRules();
  logger.close();
  ksession.dispose();
}
