{
  new SourcePackageProvider();
  File dir=getTempDirectory();
  InputStreamReader reader=new InputStreamReader(this.getClass().getResourceAsStream("/org/drools/integrationtests/HelloWorld.drl"));
  assertNotNull(reader);
  File target=new File(dir,"Something.drl");
  OutputStreamWriter writer=new OutputStreamWriter(new FileOutputStream(target));
  BufferedReader in=new BufferedReader(reader);
  BufferedWriter out=new BufferedWriter(writer);
  String str;
  while ((str=in.readLine()) != null) {
    out.write(str + "\n");
  }
  in.close();
  out.flush();
  out.close();
  Properties config=new Properties();
  config.setProperty(RuleAgent.FILES,target.getPath());
  RuleAgent ag=RuleAgent.newRuleAgent(config);
  RuleBase rb=ag.getRuleBase();
  assertNotNull(rb);
}
