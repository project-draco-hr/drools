{
  final String javaVersion=System.getProperty("java.specification.version");
  if (javaVersion.equals("1.4")) {
    System.out.println("Skipping Java 1.5 tests - current JDK not compatible");
    return;
  }
  final KnowledgeBuilderConfigurationImpl conf=new KnowledgeBuilderConfigurationImpl();
  JavaDialectConfiguration javaConf=(JavaDialectConfiguration)conf.getDialectConfiguration("java");
  javaConf.setCompiler(JavaDialectConfiguration.ECLIPSE);
  javaConf.setJavaLanguageLevel("1.5");
  final KnowledgeBuilderImpl builder=new KnowledgeBuilderImpl(conf);
  builder.addPackageFromDrl(new InputStreamReader(this.getClass().getResourceAsStream("java5_rule.drl")));
  if (builder.hasErrors()) {
    fail(builder.getErrors().toString());
  }
}
