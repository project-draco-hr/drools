{
  int end=originalBlock.indexOf("{");
  if (end == -1) {
    context.getErrors().add(new DescrBuildError(context.getParentDescr(),context.getRuleDescr(),null,"Block missing after modify" + d.getTargetExpression() + " ?\n"));
    return false;
  }
  addLineBreaks(consequence,originalBlock.substring(0,end));
  int start=end + 1;
  for (  String exprStr : ((JavaModifyBlockDescr)d).getExpressions()) {
    end=originalBlock.indexOf(exprStr,start);
    addLineBreaks(consequence,originalBlock.substring(start,end));
    consequence.append(obj + ".");
    consequence.append(exprStr);
    consequence.append("; ");
    start=end + exprStr.length();
  }
  addLineBreaks(consequence,originalBlock.substring(end));
  if (declr != null && !declr.isInternalFact()) {
    consequence.append("drools.update( " + obj + "__Handle__ ); }");
  }
 else {
    consequence.append("drools.update( " + obj + "__Handle2__ ); }");
  }
  return declr != null;
}
