{
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  try {
    marshaller.write(baos,(InternalRuleBase)ruleBase,session);
  }
 catch (  IOException e) {
    throw new RuntimeException("Unable to get session snapshot",e);
  }
  return baos.toByteArray();
}
