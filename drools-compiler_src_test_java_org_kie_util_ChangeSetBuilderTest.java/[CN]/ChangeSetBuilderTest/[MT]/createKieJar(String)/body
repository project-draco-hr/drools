{
  InternalKieModule kieJar=mock(InternalKieModule.class);
  KieFactory kf=KieFactory.Factory.get();
  GAV gav=kf.newGav("org.kie","hello-world","1.0-SNAPSHOT");
  List<String> drlFs=new ArrayList<String>();
  for (int i=0; i < drls.length; i++) {
    if (drls[i] != null) {
      String fileName="src/main/resoureces/org/pkg1/drlFile" + i + ".drl";
      drlFs.add(fileName);
      when(kieJar.getBytes(fileName)).thenReturn(drls[i].getBytes());
    }
  }
  when(kieJar.getBytes(KieModuleModelImpl.KPROJECT_JAR_PATH)).thenReturn(createKieProjectWithPackages(kf,gav).toXML().getBytes());
  when(kieJar.getFileNames()).thenReturn(drlFs);
  return (InternalKieModule)kieJar;
}
