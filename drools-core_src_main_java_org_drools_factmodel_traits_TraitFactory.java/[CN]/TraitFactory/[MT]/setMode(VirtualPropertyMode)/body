{
  mode=newMode;
switch (mode) {
case MAP:
    ClassBuilderFactory.setPropertyWrapperBuilderService(new TraitMapPropertyWrapperClassBuilderImpl());
  ClassBuilderFactory.setTraitProxyBuilderService(new TraitMapProxyClassBuilderImpl());
break;
case TRIPLES:
ClassBuilderFactory.setPropertyWrapperBuilderService(new TraitTriplePropertyWrapperClassBuilderImpl());
ClassBuilderFactory.setTraitProxyBuilderService(new TraitTripleProxyClassBuilderImpl());
break;
default :
throw new RuntimeException(" This should not happen : unexpected property wrapping method " + mode);
}
}
