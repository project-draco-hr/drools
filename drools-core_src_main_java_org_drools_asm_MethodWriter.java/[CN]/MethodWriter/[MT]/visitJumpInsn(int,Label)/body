{
  if (this.computeMaxs) {
    if (opcode == Opcodes.GOTO) {
      if (this.currentBlock != null) {
        this.currentBlock.maxStackSize=this.maxStackSize;
        addSuccessor(this.stackSize,label);
        this.currentBlock=null;
      }
    }
 else     if (opcode == Opcodes.JSR) {
      if (this.currentBlock != null) {
        addSuccessor(this.stackSize + 1,label);
      }
    }
 else {
      this.stackSize+=MethodWriter.SIZE[opcode];
      if (this.currentBlock != null) {
        addSuccessor(this.stackSize,label);
      }
    }
  }
  if (label.resolved && label.position - this.code.length < Short.MIN_VALUE) {
    if (opcode == Opcodes.GOTO) {
      this.code.putByte(200);
    }
 else     if (opcode == Opcodes.JSR) {
      this.code.putByte(201);
    }
 else {
      this.code.putByte(opcode <= 166 ? ((opcode + 1) ^ 1) - 1 : opcode ^ 1);
      this.code.putShort(8);
      this.code.putByte(200);
    }
    label.put(this,this.code,this.code.length - 1,true);
  }
 else {
    this.code.putByte(opcode);
    label.put(this,this.code,this.code.length - 1,false);
  }
}
