{
  if (this.computeMaxs) {
    final int size=this.stackSize + MethodWriter.SIZE[opcode];
    if (size > this.maxStackSize) {
      this.maxStackSize=size;
    }
    this.stackSize=size;
    if ((opcode >= Opcodes.IRETURN && opcode <= Opcodes.RETURN) || opcode == Opcodes.ATHROW) {
      if (this.currentBlock != null) {
        this.currentBlock.maxStackSize=this.maxStackSize;
        this.currentBlock=null;
      }
    }
  }
  this.code.putByte(opcode);
}
