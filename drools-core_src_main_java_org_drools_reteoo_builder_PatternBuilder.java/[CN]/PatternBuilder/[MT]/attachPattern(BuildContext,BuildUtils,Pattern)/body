{
  pattern.setOffset(context.getCurrentPatternOffset());
  final List alphaConstraints=new LinkedList();
  final List betaConstraints=new LinkedList();
  this.createConstraints(context,utils,pattern,alphaConstraints,betaConstraints);
  context.setBetaconstraints(betaConstraints);
  if (pattern.getSource() == null) {
    attachAlphaNodes(context,utils,pattern,alphaConstraints);
  }
 else {
    context.setAlphaConstraints(alphaConstraints);
    final int currentOffset=context.getCurrentPatternOffset();
    PatternSource source=pattern.getSource();
    ReteooComponentBuilder builder=utils.getBuilderFor(source);
    builder.build(context,utils,source);
    context.setCurrentPatternOffset(currentOffset);
  }
  context.incrementCurrentPatternOffset();
}
