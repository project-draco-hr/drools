{
  if (context.getRuleBase().getConfiguration().isRemoveIdentities() && pattern.getObjectType().getClass() == ClassObjectType.class) {
    final Class<?> thisClass=((ClassObjectType)pattern.getObjectType()).getClassType();
    for (final Iterator<Pattern> it=context.getObjectType().iterator(); it.hasNext(); ) {
      final Pattern previousPattern=it.next();
      final Class<?> previousClass=((ClassObjectType)previousPattern.getObjectType()).getClassType();
      if (thisClass.isAssignableFrom(previousClass)) {
        betaConstraints.add(new InstanceNotEqualsConstraint(previousPattern));
      }
    }
    context.getObjectType().add(pattern);
  }
}
