{
  StackEntry stackEntry=dquery.getStackEntry();
  if (!isAdded(stack,stackEntry)) {
    if (stackEntry.getLiaNode() == rootEntry.getLeftTupleSink().getLeftTupleSource()) {
      stack.add(stackEntry);
    }
 else {
      List<PathMemory> rmems=dquery.getRuleMemories();
      if (rmems != null) {
        for (int i=0, length=rmems.size(); i < length; i++) {
          PathMemory rmem=rmems.get(i);
          rmem.doLinkRule(wm);
        }
      }
    }
  }
}
