{
  WorkItemImpl taskInstance=(WorkItemImpl)taskInstances.get(new Long(id));
  if (taskInstance == null) {
    throw new IllegalArgumentException("Could not find task instance with id " + id);
  }
  taskInstance.setResults(results);
  ProcessInstance processInstance=workingMemory.getProcessInstance(taskInstance.getProcessInstanceId());
  if (processInstance == null) {
    throw new IllegalArgumentException("Could not find processInstance with id " + taskInstance.getProcessInstanceId());
  }
  taskInstance.setState(WorkItem.COMPLETED);
  processInstance.taskCompleted(taskInstance);
  taskInstances.remove(new Long(id));
}
