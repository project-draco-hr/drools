{
  System.out.println("pre persist/update event");
  byte[] newByteArray=this.helper.getSnapshot();
  if (!Arrays.equals(newByteArray,this.rulesByteArray)) {
    this.lastModificationDate=new Date();
    this.rulesByteArray=newByteArray;
  }
  this.lastModificationDateShadow=this.lastModificationDate;
  this.rulesByteArrayShadow=this.rulesByteArray;
  this.dirty=false;
}
