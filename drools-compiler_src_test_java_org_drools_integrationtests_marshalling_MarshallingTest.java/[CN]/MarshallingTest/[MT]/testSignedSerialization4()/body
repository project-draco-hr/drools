{
  PackageBuilder builder=new PackageBuilder();
  builder.addPackageFromDrl(new InputStreamReader(getClass().getResourceAsStream("../test_Dynamic1_0.drl")));
  RuleBase ruleBase=RuleBaseFactory.newRuleBase();
  ruleBase.addPackage(builder.getPackage());
  byte[] serializedRulebase=DroolsStreamUtils.streamOut(ruleBase);
  try {
    setPublicKeyProperties();
    ruleBase=(RuleBase)DroolsStreamUtils.streamIn(serializedRulebase);
    fail("Should not deserialize an unsigned rulebase on an environment configured to work with signed rulebases.");
  }
 catch (  Exception e) {
  }
 finally {
    unsetPublicKeyProperties();
  }
}
