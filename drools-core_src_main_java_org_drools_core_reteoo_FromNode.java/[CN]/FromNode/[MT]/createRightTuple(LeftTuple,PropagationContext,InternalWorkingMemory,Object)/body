{
  InternalFactHandle handle;
  ProtobufMessages.FactHandle _handle=null;
  if (objectTypeConf == null) {
    objectTypeConf=new ClassObjectTypeConf(workingMemory.getEntryPoint(),resultClass,(InternalRuleBase)workingMemory.getRuleBase());
  }
  if (context.getReaderContext() != null) {
    Map<ProtobufInputMarshaller.TupleKey,List<FactHandle>> map=(Map<ProtobufInputMarshaller.TupleKey,List<ProtobufMessages.FactHandle>>)context.getReaderContext().nodeMemories.get(getId());
    if (map != null) {
      TupleKey key=PersisterHelper.createTupleKey(leftTuple);
      List<FactHandle> list=map.get(key);
      if (list.isEmpty()) {
        map.remove(key);
      }
 else {
        _handle=((java.util.LinkedList<ProtobufMessages.FactHandle>)list).removeFirst();
      }
    }
  }
  if (_handle != null) {
    handle=workingMemory.getFactHandleFactory().newFactHandle(_handle.getId(),object,_handle.getRecency(),objectTypeConf,workingMemory,null);
  }
 else {
    handle=workingMemory.getFactHandleFactory().newFactHandle(object,objectTypeConf,workingMemory,null);
  }
  RightTuple rightTuple=newRightTuple(handle,null);
  return rightTuple;
}
