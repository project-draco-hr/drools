{
  InternalAgenda agenda=(InternalAgenda)((ActivationTimerJobContext)ctx).getAgenda();
  ScheduledAgendaItem item=((ActivationTimerJobContext)ctx).getScheduledAgendaItem();
  agenda.fireActivation(item);
  if (((ActivationTimerJobContext)ctx).getTrigger().hasNextFireTime() == null) {
    agenda.getScheduledActivationsLinkedList().remove(item);
    item.setEnqueued(false);
  }
 else {
    item.setActivated(true);
  }
  agenda.getWorkingMemory().fireAllRules();
}
