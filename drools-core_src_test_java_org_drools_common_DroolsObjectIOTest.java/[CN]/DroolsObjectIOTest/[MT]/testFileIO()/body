{
  FooBar fooBar1=new FooBar();
  ByteArrayOutputStream byteArrayOut=new ByteArrayOutputStream();
  new ObjectOutputStream(byteArrayOut).writeObject(fooBar1);
  ByteArrayInputStream byteArrayIn=new ByteArrayInputStream(byteArrayOut.toByteArray());
  FooBar fooBar2=(FooBar)new ObjectInputStream(byteArrayIn).readObject();
  final String TEST_FILE="test.dat";
  File file=new File(getClass().getResource("DroolsObjectIOTest.class").getFile());
  File parentFile=new File(file.getParent().replaceAll("%20"," "),TEST_FILE);
  GroupElement testGroupElement=new GroupElement();
  DroolsStreamUtils.streamOut(new FileOutputStream(parentFile),testGroupElement);
  InputStream fis=getClass().getResourceAsStream(TEST_FILE);
  GroupElement streamedGroupElement=(GroupElement)DroolsStreamUtils.streamIn(fis);
  assertEquals(streamedGroupElement,testGroupElement);
}
