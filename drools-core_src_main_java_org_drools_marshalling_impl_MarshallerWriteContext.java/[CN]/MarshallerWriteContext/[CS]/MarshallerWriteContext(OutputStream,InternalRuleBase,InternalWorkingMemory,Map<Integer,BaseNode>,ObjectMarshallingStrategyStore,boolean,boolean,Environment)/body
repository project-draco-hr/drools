{
  super(stream);
  this.stream=this;
  this.ruleBase=ruleBase;
  this.wm=wm;
  this.sinks=sinks;
  if (resolverStrategyFactory == null) {
    this.objectMarshallingStrategyStore=new ObjectMarshallingStrategyStore((ObjectMarshallingStrategy[])env.get(EnvironmentName.OBJECT_MARSHALLING_STRATEGIES));
  }
 else {
    this.objectMarshallingStrategyStore=resolverStrategyFactory;
  }
  this.terminalTupleMap=new IdentityHashMap<LeftTuple,Integer>();
  this.marshalProcessInstances=marshalProcessInstances;
  this.marshalWorkItems=marshalWorkItems;
  this.env=env;
}
