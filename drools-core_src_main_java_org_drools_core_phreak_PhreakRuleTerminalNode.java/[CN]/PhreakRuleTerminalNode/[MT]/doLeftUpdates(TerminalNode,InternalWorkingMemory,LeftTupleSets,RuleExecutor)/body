{
  boolean declarativeAgendaEnabled=executor.isDeclarativeAgendaEnabled();
  InternalAgenda agenda=(InternalAgenda)wm.getAgenda();
  LeftTupleList tupleList=executor.getLeftTupleList();
  for (LeftTuple leftTuple=srcLeftTuples.getUpdateFirst(); leftTuple != null; ) {
    LeftTuple next=leftTuple.getStagedNext();
    boolean reAdd=true;
    AgendaItem item=null;
    if (declarativeAgendaEnabled && leftTuple.getObject() != null) {
      item=(AgendaItem)leftTuple.getObject();
      if (item.getBlockers() != null && !item.getBlockers().isEmpty()) {
        reAdd=false;
      }
    }
    if (reAdd && leftTuple.getMemory() == null) {
      tupleList.add(leftTuple);
    }
    if (declarativeAgendaEnabled) {
      agenda.modifyActivation(item,item.isActive());
    }
    leftTuple.clearStaged();
    leftTuple=next;
  }
}
