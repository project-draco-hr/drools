{
  if (p == 0) {
    splitSmem=splitSegment(sm,splitStartLeftTupleSource);
    correctSegmentMemoryAfterSplitOnAdd(splitSmem);
    pmem.getSegmentMemories()[sm.getPos()]=sm;
    pmem.getSegmentMemories()[splitSmem.getPos()]=splitSmem;
    newPmem.getSegmentMemories()[sm.getPos()]=sm;
    newPmem.getSegmentMemories()[splitSmem.getPos()]=splitSmem;
    sm.addPathMemory(newPmem);
    splitSmem.addPathMemory(newPmem);
    sm.notifyRuleLinkSegment(wm);
    splitSmem.notifyRuleLinkSegment(wm);
    initNewSegment(splitStartLeftTupleSource,wm,sm);
  }
 else {
    pmem.getSegmentMemories()[sm.getPos()]=sm;
    pmem.getSegmentMemories()[splitSmem.getPos()]=splitSmem;
  }
  return splitSmem;
}
