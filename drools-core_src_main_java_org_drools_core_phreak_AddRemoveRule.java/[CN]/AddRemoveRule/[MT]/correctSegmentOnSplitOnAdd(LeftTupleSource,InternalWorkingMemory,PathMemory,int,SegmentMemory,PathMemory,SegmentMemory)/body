{
  if (p == 0) {
    splitSmem=splitSegment(sm,splitStartLeftTupleSource);
    correctSegmentMemoryAfterSplitOnAdd(splitSmem);
    pmem.setSegmentMemory(sm.getPos(),sm);
    pmem.setSegmentMemory(splitSmem.getPos(),splitSmem);
    newPmem.setSegmentMemory(sm.getPos(),sm);
    newPmem.setSegmentMemory(splitSmem.getPos(),splitSmem);
    sm.addPathMemory(newPmem);
    splitSmem.addPathMemory(newPmem);
    sm.notifyRuleLinkSegment(wm);
    splitSmem.notifyRuleLinkSegment(wm);
    initNewSegment(splitStartLeftTupleSource,wm,sm);
  }
 else {
    pmem.setSegmentMemory(sm.getPos(),sm);
    pmem.setSegmentMemory(splitSmem.getPos(),splitSmem);
  }
  return splitSmem;
}
