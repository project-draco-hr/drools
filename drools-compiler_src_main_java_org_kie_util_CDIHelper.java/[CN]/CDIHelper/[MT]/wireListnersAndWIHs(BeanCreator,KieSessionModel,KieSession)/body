{
  for (  ListenerModel listenerModel : model.getListenerModels()) {
    Object listener;
    try {
      listener=beanCreator.createBean(listenerModel.getType(),listenerModel.getQualifierModel());
    }
 catch (    Exception e) {
      throw new RuntimeException("Cannot instance listener " + listenerModel.getType(),e);
    }
    if (listener instanceof WorkingMemoryEventListener) {
      kSession.addEventListener((WorkingMemoryEventListener)listener);
    }
 else     if (listener instanceof AgendaEventListener) {
      kSession.addEventListener((AgendaEventListener)listener);
    }
 else     if (listener instanceof ProcessEventListener) {
      kSession.addEventListener((ProcessEventListener)listener);
    }
  }
  for (  WorkItemHandlerModel wihModel : model.getWorkItemHandelerModels()) {
    WorkItemHandler wih;
    try {
      wih=beanCreator.createBean(wihModel.getType(),wihModel.getQualifierModel());
    }
 catch (    Exception e) {
      throw new RuntimeException("Cannot instance WorkItemHandler " + wihModel.getType(),e);
    }
    kSession.getWorkItemManager().registerWorkItemHandler("???",wih);
  }
}
