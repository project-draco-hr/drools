{
  AssetItem asset=getRepo().loadGlobalArea().addAsset("testGetFormatForShareableAsset","desc");
  asset.checkin("version0");
  AssetItem linkedAsset=getDefaultPackage().addAssetImportedFromGlobalArea(asset.getName());
  linkedAsset.updateContent("la");
  assertEquals(AssetItem.DEFAULT_CONTENT_FORMAT,linkedAsset.getFormat());
  assertTrue(linkedAsset.getNode().hasProperty(AssetItem.CONTENT_PROPERTY_NAME));
  assertFalse(linkedAsset.getNode().hasProperty(AssetItem.CONTENT_PROPERTY_BINARY_NAME));
  linkedAsset.updateFormat("blah");
  assertEquals("blah",linkedAsset.getFormat());
}
