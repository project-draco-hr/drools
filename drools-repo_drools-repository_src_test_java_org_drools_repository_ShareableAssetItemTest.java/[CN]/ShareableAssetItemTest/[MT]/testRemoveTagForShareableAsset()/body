{
  getRepo().loadCategory("/").addCategory("testRemoveTagForShareableAssetTag1","la");
  getRepo().loadCategory("/").addCategory("testRemoveTagForShareableAssetTag2","description");
  getRepo().loadCategory("/").addCategory("testRemoveTagForShareableAssetTag3","description");
  AssetItem asset=getRepo().loadGlobalArea().addAsset("testRemoveTagForShareableAsset","desc");
  AssetItem linkedAsset=getDefaultPackage().addAssetImportedFromGlobalArea(asset.getName());
  linkedAsset.addCategory("testRemoveTagForShareableAssetTag1");
  List tags=linkedAsset.getCategories();
  assertEquals(1,tags.size());
  linkedAsset.removeCategory("testRemoveTagForShareableAssetTag1");
  tags=linkedAsset.getCategories();
  assertEquals(0,tags.size());
  linkedAsset.addCategory("testRemoveTagForShareableAssetTag2");
  linkedAsset.addCategory("testRemoveTagForShareableAssetTag3");
  linkedAsset.checkin("aaa");
  linkedAsset.removeCategory("testRemoveTagForShareableAssetTag3");
  linkedAsset.checkin("aaa");
  getRepo().save();
  tags=linkedAsset.getCategories();
  assertEquals(1,tags.size());
  assertEquals("testRemoveTagForShareableAssetTag2",((CategoryItem)tags.get(0)).getName());
  try {
    getRepo().loadCategory("testRemoveTagForShareableAssetTag2").remove();
    fail("should not be able to remove");
  }
 catch (  RulesRepositoryException e) {
    assertNotNull(e.getMessage());
  }
}
