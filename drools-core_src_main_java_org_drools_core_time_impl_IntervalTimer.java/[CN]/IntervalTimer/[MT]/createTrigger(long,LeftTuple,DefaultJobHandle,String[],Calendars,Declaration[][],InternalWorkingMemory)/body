{
  long timeSinceLastFire=0;
  if (jh != null) {
    IntervalTrigger preTrig=(IntervalTrigger)jh.getTimerJobInstance().getTrigger();
    if (preTrig.getLastFireTime() != null) {
      timeSinceLastFire=timestamp - preTrig.getLastFireTime().getTime();
    }
  }
  long newDelay=timeSinceLastFire > 0 ? period - timeSinceLastFire : delay;
  if (newDelay < 0) {
    newDelay=0;
  }
  return new IntervalTrigger(timestamp,this.startTime,this.endTime,this.repeatLimit,newDelay,this.period,calendarNames,calendars);
}
